!function n(i,o,s){function a(t,e){if(!o[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=o[t]={exports:{}},i[t][0].call(r.exports,function(e){return a(i[t][1][e]||e)},r,r.exports,n,i,o,s)}return o[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,r){!function(e){!function(){"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n="undefined"==typeof globalThis?e:globalThis;t.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"==typeof n[r[t]]&&(e[e.length]=r[t]);return e}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";r.byteLength=function(e){var e=l(e),t=e[0],e=e[1];return 3*(t+e)/4-e},r.toByteArray=function(e){var t,r,n=l(e),i=n[0],n=n[1],o=new c(function(e,t){return 3*(e+t)/4-t}(i,n)),s=0,a=0<n?i-4:i;for(r=0;r<a;r+=4)t=u[e.charCodeAt(r)]<<18|u[e.charCodeAt(r+1)]<<12|u[e.charCodeAt(r+2)]<<6|u[e.charCodeAt(r+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;2===n&&(t=u[e.charCodeAt(r)]<<2|u[e.charCodeAt(r+1)]>>4,o[s++]=255&t);1===n&&(t=u[e.charCodeAt(r)]<<10|u[e.charCodeAt(r+1)]<<4|u[e.charCodeAt(r+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t);return o},r.fromByteArray=function(e){for(var t,r=e.length,n=r%3,i=[],o=0,s=r-n;o<s;o+=16383)i.push(function(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(function(e){return a[e>>18&63]+a[e>>12&63]+a[e>>6&63]+a[63&e]}(n));return i.join("")}(e,o,s<o+16383?s:o+16383));1==n?(t=e[r-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2==n&&(t=(e[r-2]<<8)+e[r-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"="));return i.join("")};for(var a=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)a[i]=n[i],u[n.charCodeAt(i)]=i;function l(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("="),t=(e=-1===e?t:e)===t?0:4-e%4;return[e,t]}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},{}],3:[function(e,t,r){},{}],4:[function(C,e,P){!function(e){!function(){"use strict";var k=C("base64-js"),o=C("ieee754"),t=(P.Buffer=h,P.SlowBuffer=function(e){+e!=e&&(e=0);return h.alloc(+e)},P.INSPECT_MAX_BYTES=50,2147483647);function u(e){if(t<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');e=new Uint8Array(e);return e.__proto__=h.prototype,e}function h(e,t,r){if("number"!=typeof e)return n(e,t,r);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return s(e)}function n(e,t,r){if("string"==typeof e){var n=e,i=t;if(!h.isEncoding(i="string"==typeof i&&""!==i?i:"utf8"))throw new TypeError("Unknown encoding: "+i);var o=0|p(n,i),s=u(o);return s=(n=s.write(n,i))!==o?s.slice(0,n):s}if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(j(e,ArrayBuffer)||e&&j(e.buffer,ArrayBuffer)){i=e,o=t,n=r;if(o<0||i.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<o+(n||0))throw new RangeError('"length" is outside of buffer bounds');return(i=void 0===o&&void 0===n?new Uint8Array(i):void 0===n?new Uint8Array(i,o):new Uint8Array(i,o,n)).__proto__=h.prototype,i}if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');s=e.valueOf&&e.valueOf();if(null!=s&&s!==e)return h.from(s,t,r);var a=function(e){{var t,r;if(h.isBuffer(e))return t=0|l(e.length),0===(r=u(t)).length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||R(e.length)?u(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return h.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function i(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e){return i(e),u(e<0?0:0|l(e))}function c(e){for(var t=e.length<0?0:0|l(e.length),r=u(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function l(e){if(t<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+t.toString(16)+" bytes");return 0|e}function p(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||j(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return O(e).length;default:if(i)return n?-1:M(e).length;t=(""+t).toLowerCase(),i=!0}}function r(e,t,r){var n,i=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var o=this,s=t,a=r,u=o.length;(!a||a<0||u<a)&&(a=u);for(var c="",l=s=!s||s<0?0:s;l<a;++l)c+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(o[l]);return c;case"utf8":case"utf-8":return x(this,t,r);case"ascii":var h=this,u=t,p=r,f="";p=Math.min(h.length,p);for(var d=u;d<p;++d)f+=String.fromCharCode(127&h[d]);return f;case"latin1":case"binary":var b=this,s=t,y=r,m="";y=Math.min(b.length,y);for(var g=s;g<y;++g)m+=String.fromCharCode(b[g]);return m;case"base64":return _=this,n=r,0===(v=t)&&n===_.length?k.fromByteArray(_):k.fromByteArray(_.slice(v,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var _=t,v=r,w=this.slice(_,v),S="",E=0;E<w.length;E+=2)S+=String.fromCharCode(w[E]+256*w[E+1]);return S;default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function a(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function f(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),(r=(r=R(r=+r)?i?0:e.length-1:r)<0?e.length+r:r)>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=h.from(t,n)),h.isBuffer(t))return 0===t.length?-1:d(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,r):d(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function d(e,t,r,n,i){var o=1,s=e.length,a=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s/=o=2,a/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i)for(var c=-1,l=r;l<s;l++)if(u(e,l)===u(t,-1===c?0:l-c)){if(l-(c=-1===c?l:c)+1===a)return c*o}else-1!==c&&(l-=l-c),c=-1;else for(l=r=s<r+a?s-a:r;0<=l;l--){for(var h=!0,p=0;p<a;p++)if(u(e,l+p)!==u(t,p)){h=!1;break}if(h)return l}return-1}function y(e,t,r,n){return A(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function m(e,t,r,n){return A(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,n=n%256,i.push(n),i.push(r);return i}(t,e.length-r),e,r,n)}function x(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],l=null,h=239<c?4:223<c?3:191<c?2:1;if(i+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&127<(u=(31&c)<<6|63&o)&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&2047<(u=(15&c)<<12|(63&o)<<6|63&s)&&(u<55296||57343<u)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)&&u<1114112&&(l=u)}null===l?(l=65533,h=1):65535<l&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}var p=n,f=p.length;if(f<=g)return String.fromCharCode.apply(String,p);for(var d="",b=0;b<f;)d+=String.fromCharCode.apply(String,p.slice(b,b+=g));return d}P.kMaxLength=t,(h.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=n,h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(e,t,r){return t=t,r=r,i(e=e),!(e<=0)&&void 0!==t?"string"==typeof r?u(e).fill(t,r):u(e).fill(t):u(e)},h.allocUnsafe=s,h.allocUnsafeSlow=s,h.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==h.prototype},h.compare=function(e,t){if(j(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),j(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);if(void 0===t)for(i=t=0;i<e.length;++i)t+=e[i].length;for(var r=h.allocUnsafe(t),n=0,i=0;i<e.length;++i){var o=e[i];if(j(o,Uint8Array)&&(o=h.from(o)),!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},h.byteLength=p,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)a(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)a(this,t,t+3),a(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)a(this,t,t+7),a(this,t+1,t+6),a(this,t+2,t+5),a(this,t+3,t+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):r.apply(this,arguments)},h.prototype.equals=function(e){if(h.isBuffer(e))return this===e||0===h.compare(this,e);throw new TypeError("Argument must be a Buffer")},h.prototype.inspect=function(){var e="",t=P.INSPECT_MAX_BYTES,e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim();return this.length>t&&(e+=" ... "),"<Buffer "+e+">"},h.prototype.compare=function(e,t,r,n,i){if(j(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),(t=void 0===t?0:t)<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=t)return 0;if(i<=n)return-1;if(r<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(n,i),c=e.slice(t,r),l=0;l<a;++l)if(u[l]!==c[l]){o=u[l],s=c[l];break}return o<s?-1:s<o?1:0},h.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},h.prototype.indexOf=function(e,t,r){return f(this,e,t,r,!0)},h.prototype.lastIndexOf=function(e,t,r){return f(this,e,t,r,!1)},h.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||i<r)&&(r=i),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var o,s,a,u=!1;;)switch(n){case"hex":var c=this,l=e,h=t,p=r,f=(h=Number(h)||0,c.length-h);(!p||f<(p=Number(p)))&&(p=f),(f=l.length)/2<p&&(p=f/2);for(var d=0;d<p;++d){var b=parseInt(l.substr(2*d,2),16);if(R(b))return d;c[h+d]=b}return d;case"utf8":case"utf-8":return f=t,a=r,A(M(e,(s=this).length-f),s,f,a);case"ascii":return y(this,e,t,r);case"latin1":case"binary":return y(this,e,t,r);case"base64":return s=this,a=t,o=r,A(O(e),s,a,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,e,t,r);default:if(u)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),u=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var g=4096;function b(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,o){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function v(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function w(e,t,r,n,i){return t=+t,r>>>=0,i||v(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function S(e,t,r,n,i){return t=+t,r>>>=0,i||v(e,0,r,8),o.write(e,t,r,n,52,8),r+8}h.prototype.slice=function(e,t){var r=this.length,r=((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),this.subarray(e,t));return r.__proto__=h.prototype,r},h.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},h.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e+--t],i=1;0<t&&(i*=256);)n+=this[e+--t]*i;return n},h.prototype.readUInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),this[e]},h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||b(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*t)),n},h.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||b(e,t,this.length);for(var n=t,i=1,o=this[e+--n];0<n&&(i*=256);)o+=this[e+--n]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},h.prototype.readInt8=function(e,t){return e>>>=0,t||b(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||b(e,2,this.length);t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},h.prototype.readInt16BE=function(e,t){e>>>=0,t||b(e,2,this.length);t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||b(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readFloatLE=function(e,t){return e>>>=0,t||b(e,4,this.length),o.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||b(e,4,this.length),o.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||b(e,8,this.length),o.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||b(e,8,this.length),o.read(this,e,!1,52,8)},h.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||_(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},h.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||_(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+r},h.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeIntLE=function(e,t,r,n){e=+e,t>>>=0,n||_(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);var i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},h.prototype.writeIntBE=function(e,t,r,n){e=+e,t>>>=0,n||_(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);var i=r-1,o=1,s=0;for(this[t+i]=255&e;0<=--i&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},h.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},h.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||_(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeFloatLE=function(e,t,r){return w(this,e,t,!0,r)},h.prototype.writeFloatBE=function(e,t,r){return w(this,e,t,!1,r)},h.prototype.writeDoubleLE=function(e,t,r){return S(this,e,t,!0,r)},h.prototype.writeDoubleBE=function(e,t,r){return S(this,e,t,!1,r)},h.prototype.copy=function(e,t,r,n){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r=r||0,n||0===n||(n=this.length),t>=e.length&&(t=e.length),(n=0<n&&n<r?r:n)===r)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var i=(n=e.length-t<n-r?e.length-t+r:n)-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;0<=o;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},h.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var i;1===e.length&&(i=e.charCodeAt(0),("utf8"===n&&i<128||"latin1"===n)&&(e=i))}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(e=e||0))for(o=t;o<r;++o)this[o]=e;else{var s=h.isBuffer(e)?e:h.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var E=/[^+/0-9A-Za-z-_]/g;function M(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if(55295<(r=e.charCodeAt(s))&&r<57344){if(!i){if(56319<r){-1<(t-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(t-=3)&&o.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(t-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,r<128){if(--t<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function O(e){return k.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(E,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function A(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function j(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function R(e){return e!=e}}.call(this)}.call(this,C("buffer").Buffer)},{"base64-js":2,buffer:4,ieee754:17}],5:[function(e,t,r){"use strict";var n=e("get-intrinsic"),i=e("./"),o=i(n("String.prototype.indexOf"));t.exports=function(e,t){t=n(e,!!t);return"function"==typeof t&&-1<o(e,".prototype.")?i(t):t}},{"./":6,"get-intrinsic":12}],6:[function(e,t,r){"use strict";var n=e("function-bind"),e=e("get-intrinsic"),i=e("%Function.prototype.apply%"),o=e("%Function.prototype.call%"),s=e("%Reflect.apply%",!0)||n.call(o,i),a=e("%Object.getOwnPropertyDescriptor%",!0),u=e("%Object.defineProperty%",!0),c=e("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}t.exports=function(e){var t=s(n,o,arguments);return a&&u&&a(t,"length").configurable&&u(t,"length",{value:1+c(0,e.length-(arguments.length-1))}),t};function l(){return s(n,i,arguments)}u?u(t.exports,"apply",{value:l}):t.exports.apply=l},{"function-bind":11,"get-intrinsic":12}],7:[function(t,e,r){"use strict";t=t("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch(e){t=null}e.exports=t},{"get-intrinsic":12}],8:[function(e,t,r){"use strict";var n="object"==typeof Reflect?Reflect:null,u=n&&"function"==typeof n.apply?n.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};var i=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(a,u){return new Promise(function(e,t){function r(e){a.removeListener(u,n),t(e)}function n(){"function"==typeof a.removeListener&&a.removeListener("error",r),e([].slice.call(arguments))}var i,o,s;y(a,u,n,{once:!0}),"error"!==u&&(o=r,s={once:!0},"function"==typeof(i=a).on&&y(i,"error",o,s))})},(s.EventEmitter=s).prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var i,o;return c(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener||r),i=e._events),o=i[t]),void 0===o?(o=i[t]=r,++e._eventsCount):("function"==typeof o?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),0<(i=l(e))&&o.length>i&&!o.warned&&(o.warned=!0,(n=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=o.length,r=n,console&&console.warn&&console.warn(r))),e}function p(e,t,r){e={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e);return t.listener=r,e.wrapFn=t}function f(e,t,r){e=e._events;if(void 0===e)return[];e=e[t];{if(void 0===e)return[];if("function"==typeof e)return r?[e.listener||e]:[e];if(r){for(var n=e,i=new Array(n.length),o=0;o<i.length;++o)i[o]=n[o].listener||n[o];return i}return b(e,e.length)}}function d(e){var t=this._events;if(void 0!==t){t=t[e];if("function"==typeof t)return 1;if(void 0!==t)return t.length}return 0}function b(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(r,n,i,o){if("function"==typeof r.on)o.once?r.once(n,i):r.on(n,i);else{if("function"!=typeof r.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r);r.addEventListener(n,function e(t){o.once&&r.removeEventListener(n,e),i(t)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){if((o=0<t.length?t[0]:o)instanceof Error)throw o;n=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw n.context=o,n}var o=i[e];if(void 0===o)return!1;if("function"==typeof o)u(o,this,t);else for(var s=o.length,a=b(o,s),r=0;r<s;++r)u(a[r],this,t);return!0},s.prototype.on=s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},s.prototype.off=s.prototype.removeListener=function(e,t){var r,n,i,o,s;if(c(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;0<=o;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;if(0===i)r.shift();else{for(var a=r,u=i;u+1<a.length;u++)a[u]=a[u+1];a.pop()}1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},s.prototype.removeAllListeners=function(e){var t,r=this._events;if(void 0===r)return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;0<=o;o--)this.removeListener(e,t[o]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return 0<this._eventsCount?i(this._events):[]}},{}],9:[function(e,t,r){var s=Object.prototype.hasOwnProperty,a=Object.prototype.toString;t.exports=function(e,t,r){if("[object Function]"!==a.call(t))throw new TypeError("iterator must be a function");var n=e.length;if(n===+n)for(var i=0;i<n;i++)t.call(r,e[i],i,e);else for(var o in e)s.call(e,o)&&t.call(r,e[o],o,e)}},{}],10:[function(e,t,r){"use strict";var u=Array.prototype.slice,c=Object.prototype.toString;t.exports=function(t){var r=this;if("function"!=typeof r||"[object Function]"!==c.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n,e,i=u.call(arguments,1),o=Math.max(0,r.length-i.length),s=[],a=0;a<o;a++)s.push("$"+a);return n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){var e;return this instanceof n?(e=r.apply(this,i.concat(u.call(arguments))),Object(e)===e?e:this):r.apply(t,i.concat(u.call(arguments)))}),r.prototype&&((e=function(){}).prototype=r.prototype,n.prototype=new e,e.prototype=null),n}},{}],11:[function(e,t,r){"use strict";e=e("./implementation");t.exports=Function.prototype.bind||e},{"./implementation":10}],12:[function(e,t,r){"use strict";var n,p=SyntaxError,i=Function,f=TypeError,o=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(e){d=null}function s(){throw new f}function b(e){var t,r;return"%AsyncFunction%"===e?t=o("async function () {}"):"%GeneratorFunction%"===e?t=o("function* () {}"):"%AsyncGeneratorFunction%"===e?t=o("async function* () {}"):"%AsyncGenerator%"===e?(r=b("%AsyncGeneratorFunction%"))&&(t=r.prototype):"%AsyncIteratorPrototype%"===e&&(r=b("%AsyncGenerator%"))&&(t=c(r.prototype)),m[e]=t}var a=d?function(){try{return s}catch(e){try{return d(arguments,"callee").get}catch(e){return s}}}():s,u=e("has-symbols")(),c=Object.getPrototypeOf||function(e){return e.__proto__},y={},l="undefined"==typeof Uint8Array?n:c(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":u?c([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":y,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?c(c([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?c((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?c((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?c(""[Symbol.iterator]()):n,"%Symbol%":u?Symbol:n,"%SyntaxError%":p,"%ThrowTypeError%":a,"%TypedArray%":l,"%TypeError%":f,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},u=e("function-bind"),_=e("has"),v=u.call(Function.call,Array.prototype.concat),w=u.call(Function.apply,Array.prototype.splice),S=u.call(Function.call,String.prototype.replace),E=u.call(Function.call,String.prototype.slice),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g;t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new f("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof t)throw new f('"allowMissing" argument must be a boolean');var r=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new p("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new p("invalid intrinsic syntax, expected opening `%`");var i=[];return S(e,k,function(e,t,r,n){i[i.length]=r?S(n,x,"$1"):t||e}),i}(e),n=0<r.length?r[0]:"",i=function(e,t){var r,n=e;if(_(g,n)&&(n="%"+(r=g[n])[0]+"%"),_(m,n)){var i=m[n];if(void 0!==(i=i===y?b(n):i)||t)return{alias:r,name:n,value:i};throw new f("intrinsic "+e+" exists, but is not available. Please file an issue!")}throw new p("intrinsic "+e+" does not exist!")}("%"+n+"%",t),o=(i.name,i.value),s=!1,i=i.alias;i&&(n=i[0],w(r,v([0,1],i)));for(var a=1,u=!0;a<r.length;a+=1){var c=r[a],l=E(c,0,1),h=E(c,-1);if(('"'===l||"'"===l||"`"===l||'"'===h||"'"===h||"`"===h)&&l!==h)throw new p("property names with quotes must have matching quotes");if("constructor"!==c&&u||(s=!0),_(m,l="%"+(n+="."+c)+"%"))o=m[l];else if(null!=o){if(!(c in o)){if(t)return;throw new f("base intrinsic for "+e+" exists, but the property is not available.")}o=d&&a+1>=r.length?(u=!!(h=d(o,c)))&&"get"in h&&!("originalValue"in h.get)?h.get:o[c]:(u=_(o,c),o[c]),u&&!s&&(m[l]=o)}}return o}},{"function-bind":11,has:16,"has-symbols":13}],13:[function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=e("./shams");t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},{"./shams":14}],14:[function(e,t,r){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},{}],15:[function(e,t,r){"use strict";var n=e("has-symbols/shams");t.exports=function(){return n()&&!!Symbol.toStringTag}},{"has-symbols/shams":14}],16:[function(e,t,r){"use strict";e=e("function-bind");t.exports=e.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":11}],17:[function(e,t,r){r.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,p=r?-1:1,i=e[t+h];for(h+=p,o=i&(1<<-l)-1,i>>=-l,l+=a;0<l;o=256*o+e[t+h],h+=p,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;0<l;s=256*s+e[t+h],h+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(i?-1:1);s+=Math.pow(2,n),o-=c}return(i?-1:1)*s*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var s,a,u=8*o-i-1,c=(1<<u)-1,l=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,o=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-s))<1&&(s--,n*=2),2<=(t+=1<=s+l?h/n:h*Math.pow(2,1-l))*n&&(s++,n/=2),c<=s+l?(a=0,s=c):1<=s+l?(a=(t*n-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));8<=i;e[r+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,u+=i;0<u;e[r+p]=255&s,p+=f,s/=256,u-=8);e[r+p-f]|=128*o}},{}],18:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){var r;t&&(e.super_=t,(r=function(){}).prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e)}},{}],19:[function(e,t,r){"use strict";function n(e){return!(o&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===s(e)}function i(e){return!!n(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&0<=e.length&&"[object Array]"!==s(e)&&"[object Function]"===s(e.callee)}var o=e("has-tostringtag/shams")(),s=e("call-bind/callBound")("Object.prototype.toString"),e=function(){return n(arguments)}();n.isLegacyArguments=i,t.exports=e?n:i},{"call-bind/callBound":5,"has-tostringtag/shams":15}],20:[function(e,t,r){"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=e("has-tostringtag/shams")(),u=Object.getPrototypeOf;t.exports=function(e){return"function"==typeof e&&(!!s.test(o.call(e))||(a?!!u&&(void 0===n&&(t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}(),n=!!t&&u(t)),u(e)===n):"[object GeneratorFunction]"===i.call(e)));var t}},{"has-tostringtag/shams":15}],21:[function(f,d,e){!function(p){!function(){"use strict";var t=f("foreach"),e=f("available-typed-arrays"),r=f("call-bind/callBound"),i=r("Object.prototype.toString"),o=f("has-tostringtag/shams")(),n="undefined"==typeof globalThis?p:globalThis,s=e(),a=r("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},u=r("String.prototype.slice"),c={},l=f("es-abstract/helpers/getOwnPropertyDescriptor"),h=Object.getPrototypeOf;o&&l&&h&&t(s,function(e){var t,r=new n[e];Symbol.toStringTag in r&&(r=h(r),(t=l(r,Symbol.toStringTag))||(r=h(r),t=l(r,Symbol.toStringTag)),c[e]=t.get)});d.exports=function(e){return!(!e||"object"!=typeof e)&&(o&&Symbol.toStringTag in e?!!l&&(r=e,n=!1,t(c,function(e,t){if(!n)try{n=e.call(r)===t}catch(e){}}),n):(e=u(i(e),8,-1),-1<a(s,e)));var r,n}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":1,"call-bind/callBound":5,"es-abstract/helpers/getOwnPropertyDescriptor":7,foreach:9,"has-tostringtag/shams":15}],22:[function(e,t,r){var n,i,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var u,c=[],l=!1,h=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!l){for(var e=a(p),t=(l=!0,c.length);t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,!function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return(i=clearTimeout)(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function b(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||l||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=b,t.addListener=b,t.once=b,t.off=b,t.removeListener=b,t.removeAllListeners=b,t.emit=b,t.prependListener=b,t.prependOnceListener=b,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],23:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],24:[function(e,t,r){"use strict";var n=e("is-arguments"),i=e("is-generator-function"),o=e("which-typed-array"),s=e("is-typed-array");function a(e){return e.call.bind(e)}var u,c,l="undefined"!=typeof BigInt,h="undefined"!=typeof Symbol,p=a(Object.prototype.toString),f=a(Number.prototype.valueOf),d=a(String.prototype.valueOf),b=a(Boolean.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function m(e){return"[object Map]"===p(e)}function g(e){return"[object Set]"===p(e)}function _(e){return"[object WeakMap]"===p(e)}function v(e){return"[object WeakSet]"===p(e)}function w(e){return"[object ArrayBuffer]"===p(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(w.working?w(e):e instanceof ArrayBuffer)}function E(e){return"[object DataView]"===p(e)}function k(e){return"undefined"!=typeof DataView&&(E.working?E(e):e instanceof DataView)}l&&(u=a(BigInt.prototype.valueOf)),h&&(c=a(Symbol.prototype.valueOf)),r.isArgumentsObject=n,r.isGeneratorFunction=i,r.isTypedArray=s,r.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},r.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||k(e)},r.isUint8Array=function(e){return"Uint8Array"===o(e)},r.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},r.isUint16Array=function(e){return"Uint16Array"===o(e)},r.isUint32Array=function(e){return"Uint32Array"===o(e)},r.isInt8Array=function(e){return"Int8Array"===o(e)},r.isInt16Array=function(e){return"Int16Array"===o(e)},r.isInt32Array=function(e){return"Int32Array"===o(e)},r.isFloat32Array=function(e){return"Float32Array"===o(e)},r.isFloat64Array=function(e){return"Float64Array"===o(e)},r.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},r.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},m.working="undefined"!=typeof Map&&m(new Map),r.isMap=function(e){return"undefined"!=typeof Map&&(m.working?m(e):e instanceof Map)},g.working="undefined"!=typeof Set&&g(new Set),r.isSet=function(e){return"undefined"!=typeof Set&&(g.working?g(e):e instanceof Set)},_.working="undefined"!=typeof WeakMap&&_(new WeakMap),r.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(_.working?_(e):e instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),r.isWeakSet=v,w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),r.isArrayBuffer=S,E.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),r.isDataView=k;var x="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function M(e){return"[object SharedArrayBuffer]"===p(e)}function O(e){return void 0!==x&&((M.working=void 0===M.working?M(new x):M.working)?M(e):e instanceof x)}function A(e){return y(e,f)}function j(e){return y(e,d)}function R(e){return y(e,b)}function C(e){return l&&y(e,u)}function P(e){return h&&y(e,c)}r.isSharedArrayBuffer=O,r.isAsyncFunction=function(e){return"[object AsyncFunction]"===p(e)},r.isMapIterator=function(e){return"[object Map Iterator]"===p(e)},r.isSetIterator=function(e){return"[object Set Iterator]"===p(e)},r.isGeneratorObject=function(e){return"[object Generator]"===p(e)},r.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===p(e)},r.isNumberObject=A,r.isStringObject=j,r.isBooleanObject=R,r.isBigIntObject=C,r.isSymbolObject=P,r.isBoxedPrimitive=function(e){return A(e)||j(e)||R(e)||C(e)||P(e)},r.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||O(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(r,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})},{"is-arguments":19,"is-generator-function":20,"is-typed-array":21,"which-typed-array":26}],25:[function(A,e,j){!function(O){!function(){var e,t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g,n=(j.format=function(e){if(!m(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(e).replace(a,function(e){if("%%"===e)return"%";if(i<=r)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<i;s=n[++r])b(s)||!c(s)?o+=" "+s:o+=" "+u(s);return o},j.deprecate=function(e,t){if(void 0!==O&&!0===O.noDeprecation)return e;if(void 0===O)return function(){return j.deprecate(e,t).apply(this,arguments)};var r=!1;return function(){if(!r){if(O.throwDeprecation)throw new Error(t);O.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)}},{}),i=/^$/;function u(e,t){var r={seen:[],stylize:s};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),d(t)?r.showHidden=t:t&&j._extend(r,t),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,e,r.depth)}function o(e,t){t=u.styles[t];return t?"["+u.colors[t][0]+"m"+e+"["+u.colors[t][1]+"m":e}function s(e,t){return e}function l(t,r,n){if(t.customInspect&&r&&S(r.inspect)&&r.inspect!==j.inspect&&(!r.constructor||r.constructor.prototype!==r))return m(e=r.inspect(n,t))?e:l(t,e,n);var e=function(e,t){if(g(t))return e.stylize("undefined","undefined");{var r;if(m(t))return r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",e.stylize(r,"string")}return y(t)?e.stylize(""+t,"number"):d(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}(t,r);if(e)return e;var i,e=Object.keys(r),o=(i={},e.forEach(function(e,t){i[e]=!0}),i);if(t.showHidden&&(e=Object.getOwnPropertyNames(r)),w(r)&&(0<=e.indexOf("message")||0<=e.indexOf("description")))return h(r);if(0===e.length){if(S(r))return s=r.name?": "+r.name:"",t.stylize("[Function"+s+"]","special");if(_(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(v(r))return t.stylize(Date.prototype.toString.call(r),"date");if(w(r))return h(r)}var s="",a=!1,u=["{","}"];if(f(r)&&(a=!0,u=["[","]"]),S(r)&&(s=" [Function"+(r.name?": "+r.name:"")+"]"),_(r)&&(s=" "+RegExp.prototype.toString.call(r)),v(r)&&(s=" "+Date.prototype.toUTCString.call(r)),w(r)&&(s=" "+h(r)),0===e.length&&(!a||0==r.length))return u[0]+s+u[1];if(n<0)return _(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special");t.seen.push(r),c=a?function(t,r,n,i,e){for(var o=[],s=0,a=r.length;s<a;++s)x(r,String(s))?o.push(p(t,r,n,i,String(s),!0)):o.push("");return e.forEach(function(e){e.match(/^\d+$/)||o.push(p(t,r,n,i,e,!0))}),o}(t,r,n,o,e):e.map(function(e){return p(t,r,n,o,e,a)}),t.seen.pop();var c;return 60<c.reduce(function(e,t){return 0<=t.indexOf("\n")&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)?u[0]+(""===s?"":s+"\n ")+" "+c.join(",\n  ")+" "+u[1]:u[0]+s+" "+c.join(", ")+" "+u[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,o){var s,a,t=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(t.get?a=t.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):t.set&&(a=e.stylize("[Setter]","special")),x(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(t.value)<0?-1<(a=b(r)?l(e,t.value,null):l(e,t.value,r-1)).indexOf("\n")&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),g(s)){if(o&&i.match(/^\d+$/))return a;s=(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(s,"string"))}return s+": "+a}function f(e){return Array.isArray(e)}function d(e){return"boolean"==typeof e}function b(e){return null===e}function y(e){return"number"==typeof e}function m(e){return"string"==typeof e}function g(e){return void 0===e}function _(e){return c(e)&&"[object RegExp]"===r(e)}function c(e){return"object"==typeof e&&null!==e}function v(e){return c(e)&&"[object Date]"===r(e)}function w(e){return c(e)&&("[object Error]"===r(e)||e instanceof Error)}function S(e){return"function"==typeof e}function r(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}O.env.NODE_DEBUG&&(e=(e=O.env.NODE_DEBUG).replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+e+"$","i")),j.debuglog=function(t){var r;return t=t.toUpperCase(),n[t]||(i.test(t)?(r=O.pid,n[t]=function(){var e=j.format.apply(j,arguments);console.error("%s %d: %s",t,r,e)}):n[t]=function(){}),n[t]},(j.inspect=u).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},j.types=A("./support/types"),j.isArray=f,j.isBoolean=d,j.isNull=b,j.isNullOrUndefined=function(e){return null==e},j.isNumber=y,j.isString=m,j.isSymbol=function(e){return"symbol"==typeof e},j.isUndefined=g,j.isRegExp=_,j.types.isRegExp=_,j.isObject=c,j.isDate=v,j.types.isDate=v,j.isError=w,j.types.isNativeError=w,j.isFunction=S,j.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},j.isBuffer=A("./support/isBuffer");var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}j.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":"),[e.getDate(),k[e.getMonth()],t].join(" ")),j.format.apply(j,arguments))},j.inherits=A("inherits"),j._extend=function(e,t){if(!t||!c(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var M="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;j.promisify=function(o){if("function"!=typeof o)throw new TypeError('The "original" argument must be of type Function');if(M&&o[M]){var e;if("function"!=typeof(e=o[M]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,M,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var r,n,e=new Promise(function(e,t){r=e,n=t}),t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);t.push(function(e,t){e?n(e):r(t)});try{o.apply(this,t)}catch(e){n(e)}return e}return Object.setPrototypeOf(e,Object.getPrototypeOf(o)),M&&Object.defineProperty(e,M,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,t(o))},j.promisify.custom=M,j.callbackify=function(o){if("function"!=typeof o)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);var r=e.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");function n(){return r.apply(i,arguments)}var i=this;o.apply(this,e).then(function(e){O.nextTick(n.bind(null,null,e))},function(e){O.nextTick(function(e,t){var r;return e||((r=new Error("Promise was rejected with a falsy value")).reason=e,e=r),t(e)}.bind(null,e,n))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(o)),Object.defineProperties(e,t(o)),e}}.call(this)}.call(this,A("_process"))},{"./support/isBuffer":23,"./support/types":24,_process:22,inherits:18}],26:[function(p,f,e){!function(h){!function(){"use strict";var t=p("foreach"),e=p("available-typed-arrays"),r=p("call-bind/callBound"),o=r("Object.prototype.toString"),s=p("has-tostringtag/shams")(),n="undefined"==typeof globalThis?h:globalThis,e=e(),a=r("String.prototype.slice"),u={},i=p("es-abstract/helpers/getOwnPropertyDescriptor"),c=Object.getPrototypeOf,l=(s&&i&&c&&t(e,function(e){var t,r;"function"==typeof n[e]&&(t=new n[e],Symbol.toStringTag in t&&(t=c(t),(r=i(t,Symbol.toStringTag))||(t=c(t),r=i(t,Symbol.toStringTag)),u[e]=r.get))}),p("is-typed-array"));f.exports=function(e){return!!l(e)&&(s&&Symbol.toStringTag in e?(n=e,i=!1,t(u,function(e,t){if(!i)try{var r=e.call(n);r===t&&(i=r)}catch(e){}}),i):a(o(e),8,-1));var n,i}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":1,"call-bind/callBound":5,"es-abstract/helpers/getOwnPropertyDescriptor":7,foreach:9,"has-tostringtag/shams":15,"is-typed-array":21}],27:[function(e,t,r){e=e("walletlink");const n="https://api.astrobearspace.club",o="rinkeby",s="fbbd4ab4c92041dbb41f6014de43408b";const u={mainnet:"0x1",ropsten:"0x3",rinkeby:"0x4"};const c={mainnet:"",ropsten:"",rinkeby:"0x9e020BC81597d27A1c3EF044AA331943082B6AF3"},l=window.Web3Modal.default,h=window.WalletConnectProvider.default,p=e.WalletLink,f=new ethers.providers.JsonRpcProvider("https://rinkeby.infura.io/v3/fbbd4ab4c92041dbb41f6014de43408b");let d,b,y,m,g,_,v=0,w=0;function S(e){if("string"==typeof e)return e;if("object"==typeof e){if(-1!==e.message.indexOf("MetaMask Tx Signature: "))return e.message;var t=JSON.stringify(e);return"{}"===t?e.message:t}}function E(e,t="error"){Toastify({text:e,className:t,duration:3e3,gravity:"top",position:"right"}).showToast()}async function k(){if(void 0===b)throw new Error("not connected");const r=this.dataset.tokenId;var e="Download high resolution file of #"+r,e=await b.signMessage(e);fetch(`${n}/download-nft/${r}/`+e).then(e=>e.blob()).then(e=>{const t=document.createElement("a");t.href=window.URL.createObjectURL(e),t.download=r+".jpg",t.click()})}window.addEventListener("error",e=>{E(S(e.error),!1),e.preventDefault()}),window.addEventListener("unhandledrejection",e=>{E(S(e.reason)),e.preventDefault()});window.addEventListener("load",async function(){f.pollingInterval=24e4,d=new ethers.Contract(c[o],await(await fetch("abi_"+o+".json")).json(),f),m=new l({cacheProvider:!1,providerOptions:{walletconnect:{package:h,options:{infuraId:s}},walletlink:{package:p,options:{appName:"Astrobear Spaceclub",infuraId:s,rpc:"",chainId:1,appLogoUrl:null,darkMode:!1}}},disableInjectedProvider:!1});async function n(){try{if((y=await m.connect()).chainId!==u[o]&&await y.request({method:"wallet_switchEthereumChain",params:[{chainId:u[o]}]}),b=new ethers.providers.Web3Provider(y).getSigner(),!async function(e){if(console.log(e),void 0===d)throw new Error("Not initialized");var t=f.getLogs({...d.filters.Transfer(null,e),fromBlock:11011110,toBlock:"latest"}),r=f.getLogs({...d.filters.Transfer(e),fromBlock:11011110,toBlock:"latest"}),t=await Promise.all([t,r]);const n=[...t[0],...t[1]];n.sort(function(e,t){return e.blockNumber-t.blockNumber});let i=[];for(const s of n.map(function(e){return d.interface.parseLog(e)}))"Transfer"===s.name&&s.args.to===e&&i.push(s.args.id.toNumber()),"Transfer"===s.name&&s.args.from===e&&i.splice(i.indexOf(s.args.id.toNumber()),1);i.sort(function(e,t){return t-e});for(const a of i){var o=await d.claimedSculpture(a),o=`
                <div class="single-nft">
                    <img src="metadata/${a}${o?"_claimed":""}.jpg" alt="" class="image know-width">
                    <a class="download-nft no-select" data-token-id="${a}" href="#">Download</a>
                </div>
            `;document.getElementById("nfts-container").insertAdjacentHTML("afterbegin",o)}0!==i.length&&(document.getElementById("takeoff").classList.add("hasNFTs"),document.getElementById("nfts-container").parentElement.parentElement.parentElement.classList.remove("hide"))}(g=ethers.utils.getAddress(y.selectedAddress)).then(function(){for(const e of document.getElementsByClassName("download-nft"))e.addEventListener("click",k)}),await a(),3===_)this.querySelector(".connect-button-inner").innerText=(e=g).slice(0,4)+"..."+e.slice(-4);else{v!==w&&document.getElementById("mint-amount-container").classList.remove("hide"),this.querySelector(".connect-button-inner").innerText="Mint";for(const t of document.getElementsByClassName("connect-button"))t.removeEventListener("click",n,!1);this.classList.remove("connect-button"),this.classList.add("mint-button");for(const r of document.getElementsByClassName("mint-button"))r.addEventListener("click",i)}}catch(e){return console.error(e),void E(S(e))}var e;y.on("accountsChanged",e=>{console.debug("Account changed",e),location.reload()}),y.on("chainChanged",e=>{console.debug("Chain changed",e),location.reload()})}async function i(){if(void 0===b)throw new Error("Not connected");const e=d.connect(b);var t=await b.getBalance();let r="0.1";0===_&&(r="0.05"),1===_&&(r="0.075");var n=parseInt(document.getElementById("mint-amount").innerText);if(0===n)throw new Error("Cannot mint zero NFTs");const i=ethers.utils.parseEther(r).mul(n);if(i.gte(t))throw new Error(`Not enough funds to mint ${n} for `+ethers.utils.formatEther(i));const o=await e.mint(n,{value:i}),s=o.wait(1);s.catch(function(e){console.error(e),E(S(e))}),s.then(async function(e){console.debug("Mint successful",e),await a()})}const a=async function(){if(void 0===b)throw new Error("Not connected");var e=await b.getAddress();2<=(_=await d.saleState())&&(v=(await d.maxMintPerWallet()).toNumber(),w=(await d.publicAddressesMinted(e)).toNumber()),0===_&&(v=(await d.genesisAddresses(e)).toNumber(),w=(await d.genesisAddressesMinted(e)).toNumber()),1===_&&(v=(await d.whitelistAddresses(e)).toNumber(),w=(await d.whitelistAddressesMinted(e)).toNumber())};for(const e of document.getElementsByClassName("connect-button"))e.addEventListener("click",n);document.getElementById("increment-mint").addEventListener("click",function(){let e=document.getElementById("mint-amount");var t=parseInt(e.innerText)+1;t>v-w||(e.innerText=t)}),document.getElementById("decrement-mint").addEventListener("click",function(){let e=document.getElementById("mint-amount");var t=parseInt(e.innerText)-1;t<0||(e.innerText=t)})})},{walletlink:317}],28:[function(e,t,r){"use strict";function a(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout(()=>{throw e})}}Object.defineProperty(r,"__esModule",{value:!0});class n extends e("events").EventEmitter{emit(e,...t){let r="error"===e;var n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(0<t.length&&([e]=t),e instanceof Error)throw e;const s=new Error("Unhandled error."+(e?` (${e.message})`:""));throw s.context=e,s}n=n[e];if(void 0===n)return!1;if("function"==typeof n)a(n,this,t);else{var i=n.length,o=function(t){var r=t.length;const n=new Array(r);for(let e=0;e<r;e+=1)n[e]=t[e];return n}(n);for(let e=0;e<i;e+=1)a(o[e],this,t)}return!0}}r.default=n},{events:8}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("tslib"),i=e("./Semaphore");function o(){this._semaphore=new i.default(1)}o.prototype.acquire=function(){return n.__awaiter(this,void 0,void 0,function(){var t;return n.__generator(this,function(e){switch(e.label){case 0:return[4,this._semaphore.acquire()];case 1:return t=e.sent(),[2,t[1]]}})})},o.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},o.prototype.isLocked=function(){return this._semaphore.isLocked()},o.prototype.release=function(){this._semaphore.release()},r.default=o},{"./Semaphore":30,tslib:295}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("tslib");function n(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}n.prototype.acquire=function(){var t=this,e=this.isLocked(),r=new Promise(function(e){return t._queue.push(e)});return e||this._dispatch(),r},n.prototype.runExclusive=function(n){return i.__awaiter(this,void 0,void 0,function(){var t,r;return i.__generator(this,function(e){switch(e.label){case 0:return[4,this.acquire()];case 1:r=e.sent(),t=r[0],r=r[1],e.label=2;case 2:return e.trys.push([2,,4,5]),[4,n(t)];case 3:return[2,e.sent()];case 4:return r(),[7];case 5:return[2]}})})},n.prototype.isLocked=function(){return this._value<=0},n.prototype.release=function(){if(1<this._maxConcurrency)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");var e;this._currentReleaser&&(e=this._currentReleaser,this._currentReleaser=void 0,e())},n.prototype._dispatch=function(){var e,t=this,r=this._queue.shift();r&&(e=!1,this._currentReleaser=function(){e||(e=!0,t._value++,t._dispatch())},r([this._value--,this._currentReleaser]))},r.default=n},{tslib:295}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.withTimeout=r.Semaphore=r.Mutex=void 0;var n=e("./Mutex"),i=(Object.defineProperty(r,"Mutex",{enumerable:!0,get:function(){return n.default}}),e("./Semaphore")),o=(Object.defineProperty(r,"Semaphore",{enumerable:!0,get:function(){return i.default}}),e("./withTimeout"));Object.defineProperty(r,"withTimeout",{enumerable:!0,get:function(){return o.withTimeout}})},{"./Mutex":29,"./Semaphore":30,"./withTimeout":32}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.withTimeout=void 0;var u=e("tslib");r.withTimeout=function(o,s,a){var e=this;return void 0===a&&(a=new Error("timeout")),{acquire:function(){return new Promise(function(n,i){return u.__awaiter(e,void 0,void 0,function(){var t,r;return u.__generator(this,function(e){switch(e.label){case 0:return t=!1,setTimeout(function(){t=!0,i(a)},s),[4,o.acquire()];case 1:return r=e.sent(),t?(Array.isArray(r)?r[1]:r)():n(r),[2]}})})})},runExclusive:function(n){return u.__awaiter(this,void 0,void 0,function(){var t,r;return u.__generator(this,function(e){switch(e.label){case 0:t=function(){},e.label=1;case 1:return e.trys.push([1,,7,8]),[4,this.acquire()];case 2:return(r=e.sent(),Array.isArray(r))?(t=r[1],[4,n(r[0])]):[3,4];case 3:return[2,e.sent()];case 4:return t=r,[4,n()];case 5:return[2,e.sent()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}})})},release:function(){o.release()},isLocked:function(){return o.isLocked()}}}},{tslib:295}],33:[function(e,t,r){"use strict";var n,i;function o(e,t,r){if(r&&typeof r.value===n.typeOfFunction)return{configurable:n.boolTrue,get:function(){var e=r.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:n.boolTrue,writable:n.boolTrue}),e}};throw new TypeError("Only methods can be decorated with @bind. <"+t+"> is not a method!")}Object.defineProperty(r,"__esModule",{value:!0}),(i=n=n||{}).typeOfFunction="function",i.boolTrue=!0,r.bind=o,r.default=o},{}],34:[function(M,e,t){!function(e,t){"use strict";function b(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;function r(){}r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function y(e,t,r){if(y.isBN(e))return e;this.negative=0,this.words=null,this.length=0,(this.red=null)!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var n;"object"==typeof e?e.exports=y:t.BN=y,(y.BN=y).wordSize=26;try{n=("undefined"!=typeof window&&void 0!==window.Buffer?window:M("buffer")).Buffer}catch(e){}function i(e,t){t=e.charCodeAt(t);return 48<=t&&t<=57?t-48:65<=t&&t<=70?t-55:97<=t&&t<=102?t-87:void b(!1,"Invalid character in "+e)}function a(e,t,r){var n=i(e,r);return t<=r-1&&(n|=i(e,r-1)<<4),n}function h(e,t,r,n){for(var i=0,o=0,s=Math.min(e.length,r),a=t;a<s;a++){var u=e.charCodeAt(a)-48;i*=n,o=49<=u?u-49+10:17<=u?u-17+10:u,b(0<=u&&o<n,"Invalid character"),i+=o}return i}function o(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(y.isBN=function(e){return e instanceof y||null!==e&&"object"==typeof e&&e.constructor.wordSize===y.wordSize&&Array.isArray(e.words)},y.max=function(e,t){return 0<e.cmp(t)?e:t},y.min=function(e,t){return e.cmp(t)<0?e:t},y.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);b((t="hex"===t?16:t)===(0|t)&&2<=t&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},y.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(b(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},y.prototype._initArray=function(e,t,r){if(b("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n,i,o=0;o<this.length;o++)this.words[o]=0;var s=0;if("be"===r)for(o=e.length-1,n=0;0<=o;o-=3)i=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[n]|=i<<s&67108863,this.words[n+1]=i>>>26-s&67108863,26<=(s+=24)&&(s-=26,n++);else if("le"===r)for(n=o=0;o<e.length;o+=3)i=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[n]|=i<<s&67108863,this.words[n+1]=i>>>26-s&67108863,26<=(s+=24)&&(s-=26,n++);return this._strip()},y.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;t<=n;n-=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,18<=o?(o-=18,this.words[s+=1]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,18<=o?(o-=18,this.words[s+=1]|=i>>>26):o+=8;this._strip()},y.prototype._parseBase=function(e,t,r){this.words=[0];for(var n=0,i=this.length=1;i<=67108863;i*=t)n++;for(var i=i/t|0,o=e.length-r,s=o%--n,a=Math.min(o,o-s)+r,u=0,c=r;c<a;c+=n)u=h(e,c,c+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!=s){for(var l=1,u=h(e,c,e.length,t),c=0;c<s;c++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},y.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},y.prototype._move=function(e){o(e,this)},y.prototype.clone=function(){var e=new y(null);return this.copy(e),e},y.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},y.prototype._strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},y.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{y.prototype[Symbol.for("nodejs.util.inspect.custom")]=s}catch(e){y.prototype.inspect=s}else y.prototype.inspect=s;function s(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];y.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){for(var r="",n=0,i=0,o=0;o<this.length;o++){var s=this.words[o],a=(16777215&(s<<n|i)).toString(16),i=s>>>24-n&16777215;26<=(n+=2)&&(n-=26,o--),r=0!==i||o!==this.length-1?p[6-a.length]+a+r:a+r}for(0!==i&&(r=i.toString(16)+r);r.length%t!=0;)r="0"+r;return r=0!==this.negative?"-"+r:r}if(e===(0|e)&&2<=e&&e<=36){var u=f[e],c=d[e];for(r="",(l=this.clone()).negative=0;!l.isZero();){var l,h=l.modrn(c).toString(e);r=(l=l.idivn(c)).isZero()?h+r:p[u-h.length]+h+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return r=0!==this.negative?"-"+r:r}b(!1,"Base should be between 2 and 36")},y.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:2<this.length&&b(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},y.prototype.toJSON=function(){return this.toString(16,2)},n&&(y.prototype.toBuffer=function(e,t){return this.toArrayLike(n,e,t)}),y.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function u(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0,n=(r.length=n)-1|0,i=(s=(0|e.words[0])*(0|t.words[0]))/67108864|0;r.words[0]=67108863&s;for(var o=1;o<n;o++){for(var s,a=i>>>26,u=67108863&i,c=Math.min(o,t.length-1),l=Math.max(0,o-e.length+1);l<=c;l++)a+=(s=(0|e.words[o-l|0])*(0|t.words[l])+u)/67108864|0,u=67108863&s;r.words[o]=0|u,i=0|a}return 0!==i?r.words[o]=0|i:r.length--,r._strip()}y.prototype.toArrayLike=function(e,t,r){this._strip();var n=this.byteLength(),r=r||Math.max(1,n),e=(b(n<=r,"byte array longer than desired length"),b(0<r,"Requested array length <= 0"),r=r,(e=e).allocUnsafe?e.allocUnsafe(r):new e(r));return this["_toArrayLike"+("le"===t?"LE":"BE")](e,n),e},y.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),o=n=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},y.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,0<=r&&(e[r--]=s>>8&255),0<=r&&(e[r--]=s>>16&255),6===o?(0<=r&&(e[r--]=s>>24&255),o=n=0):(n=s>>>24,o+=2)}if(0<=r)for(e[r--]=n;0<=r;)e[r--]=0},Math.clz32?y.prototype._countBits=function(e){return 32-Math.clz32(e)}:y.prototype._countBits=function(e){var t=0;return 4096<=e&&(t+=13,e>>>=13),64<=e&&(t+=7,e>>>=7),8<=e&&(t+=4,e>>>=4),2<=e&&(t+=2,e>>>=2),t+e},y.prototype._zeroBits=function(e){if(0===e)return 26;var t=0;return 0==(8191&e)&&(t+=13,e>>>=13),0==(127&e)&&(t+=7,e>>>=7),0==(15&e)&&(t+=4,e>>>=4),0==(3&e)&&(t+=2,e>>>=2),0==(1&e)&&t++,t},y.prototype.bitLength=function(){var e=this.words[this.length-1],e=this._countBits(e);return 26*(this.length-1)+e},y.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},y.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},y.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},y.prototype.isNeg=function(){return 0!==this.negative},y.prototype.neg=function(){return this.clone().ineg()},y.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},y.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},y.prototype.ior=function(e){return b(0==(this.negative|e.negative)),this.iuor(e)},y.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},y.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},y.prototype.iuand=function(e){for(var t=this.length>e.length?e:this,r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},y.prototype.iand=function(e){return b(0==(this.negative|e.negative)),this.iuand(e)},y.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},y.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},y.prototype.iuxor=function(e){for(var t,r=this.length>e.length?(t=this,e):(t=e,this),n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},y.prototype.ixor=function(e){return b(0==(this.negative|e.negative)),this.iuxor(e)},y.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},y.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},y.prototype.inotn=function(e){b("number"==typeof e&&0<=e);var t=0|Math.ceil(e/26),e=e%26;this._expand(t),0<e&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return 0<e&&(this.words[r]=~this.words[r]&67108863>>26-e),this._strip()},y.prototype.notn=function(e){return this.clone().inotn(e)},y.prototype.setn=function(e,t){b("number"==typeof e&&0<=e);var r=e/26|0,e=e%26;return this._expand(1+r),this.words[r]=t?this.words[r]|1<<e:this.words[r]&~(1<<e),this._strip()},y.prototype.iadd=function(e){var t,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();for(var n=this.length>e.length?(r=this,e):(r=e,this),i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},y.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},y.prototype.isub=function(e){var t;if(0!==e.negative)return e.negative=0,t=this.iadd(e),e.negative=1,t._normSign();if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;for(var i=0<n?(r=this,e):(r=e,this),o=0,s=0;s<i.length;s++)o=(t=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},y.prototype.sub=function(e){return this.clone().isub(e)};var c=function(e,L,B){var t,r=e.words,n=L.words,i=B.words,o=0|r[0],s=8191&o,o=o>>>13,a=0|r[1],u=8191&a,a=a>>>13,c=0|r[2],l=8191&c,c=c>>>13,h=0|r[3],p=8191&h,h=h>>>13,f=0|r[4],d=8191&f,f=f>>>13,b=0|r[5],y=8191&b,b=b>>>13,m=0|r[6],g=8191&m,m=m>>>13,_=0|r[7],v=8191&_,_=_>>>13,w=0|r[8],D=8191&w,w=w>>>13,r=0|r[9],U=8191&r,r=r>>>13,S=0|n[0],E=8191&S,S=S>>>13,k=0|n[1],x=8191&k,k=k>>>13,M=0|n[2],O=8191&M,M=M>>>13,A=0|n[3],F=8191&A,A=A>>>13,j=0|n[4],W=8191&j,j=j>>>13,R=0|n[5],H=8191&R,R=R>>>13,C=0|n[6],z=8191&C,C=C>>>13,P=0|n[7],q=8191&P,P=P>>>13,I=0|n[8],V=8191&I,I=I>>>13,n=0|n[9],G=8191&n,n=n>>>13,L=(B.negative=e.negative^L.negative,B.length=19,(0+Math.imul(s,E)|0)+((8191&(e=Math.imul(s,S)+Math.imul(o,E)|0))<<13)|0),T=(Math.imul(o,S)+(e>>>13)|0)+(L>>>26)|0;L&=67108863,t=Math.imul(u,E),e=Math.imul(u,S)+Math.imul(a,E)|0,N=Math.imul(a,S);var N,J=(T+(t+Math.imul(s,x)|0)|0)+((8191&(e=(e+Math.imul(s,k)|0)+Math.imul(o,x)|0))<<13)|0,Y=(T=((N+Math.imul(o,k)|0)+(e>>>13)|0)+(J>>>26)|0,J&=67108863,t=Math.imul(l,E),e=Math.imul(l,S)+Math.imul(c,E)|0,N=Math.imul(c,S),t=t+Math.imul(u,x)|0,e=(e+Math.imul(u,k)|0)+Math.imul(a,x)|0,N=N+Math.imul(a,k)|0,(T+(t+Math.imul(s,O)|0)|0)+((8191&(e=(e+Math.imul(s,M)|0)+Math.imul(o,O)|0))<<13)|0),$=(T=((N+Math.imul(o,M)|0)+(e>>>13)|0)+(Y>>>26)|0,Y&=67108863,t=Math.imul(p,E),e=Math.imul(p,S)+Math.imul(h,E)|0,N=Math.imul(h,S),t=t+Math.imul(l,x)|0,e=(e+Math.imul(l,k)|0)+Math.imul(c,x)|0,N=N+Math.imul(c,k)|0,t=t+Math.imul(u,O)|0,e=(e+Math.imul(u,M)|0)+Math.imul(a,O)|0,N=N+Math.imul(a,M)|0,(T+(t+Math.imul(s,F)|0)|0)+((8191&(e=(e+Math.imul(s,A)|0)+Math.imul(o,F)|0))<<13)|0),Q=(T=((N+Math.imul(o,A)|0)+(e>>>13)|0)+($>>>26)|0,$&=67108863,t=Math.imul(d,E),e=Math.imul(d,S)+Math.imul(f,E)|0,N=Math.imul(f,S),t=t+Math.imul(p,x)|0,e=(e+Math.imul(p,k)|0)+Math.imul(h,x)|0,N=N+Math.imul(h,k)|0,t=t+Math.imul(l,O)|0,e=(e+Math.imul(l,M)|0)+Math.imul(c,O)|0,N=N+Math.imul(c,M)|0,t=t+Math.imul(u,F)|0,e=(e+Math.imul(u,A)|0)+Math.imul(a,F)|0,N=N+Math.imul(a,A)|0,(T+(t+Math.imul(s,W)|0)|0)+((8191&(e=(e+Math.imul(s,j)|0)+Math.imul(o,W)|0))<<13)|0),X=(T=((N+Math.imul(o,j)|0)+(e>>>13)|0)+(Q>>>26)|0,Q&=67108863,t=Math.imul(y,E),e=Math.imul(y,S)+Math.imul(b,E)|0,N=Math.imul(b,S),t=t+Math.imul(d,x)|0,e=(e+Math.imul(d,k)|0)+Math.imul(f,x)|0,N=N+Math.imul(f,k)|0,t=t+Math.imul(p,O)|0,e=(e+Math.imul(p,M)|0)+Math.imul(h,O)|0,N=N+Math.imul(h,M)|0,t=t+Math.imul(l,F)|0,e=(e+Math.imul(l,A)|0)+Math.imul(c,F)|0,N=N+Math.imul(c,A)|0,t=t+Math.imul(u,W)|0,e=(e+Math.imul(u,j)|0)+Math.imul(a,W)|0,N=N+Math.imul(a,j)|0,(T+(t+Math.imul(s,H)|0)|0)+((8191&(e=(e+Math.imul(s,R)|0)+Math.imul(o,H)|0))<<13)|0),K=(T=((N+Math.imul(o,R)|0)+(e>>>13)|0)+(X>>>26)|0,X&=67108863,t=Math.imul(g,E),e=Math.imul(g,S)+Math.imul(m,E)|0,N=Math.imul(m,S),t=t+Math.imul(y,x)|0,e=(e+Math.imul(y,k)|0)+Math.imul(b,x)|0,N=N+Math.imul(b,k)|0,t=t+Math.imul(d,O)|0,e=(e+Math.imul(d,M)|0)+Math.imul(f,O)|0,N=N+Math.imul(f,M)|0,t=t+Math.imul(p,F)|0,e=(e+Math.imul(p,A)|0)+Math.imul(h,F)|0,N=N+Math.imul(h,A)|0,t=t+Math.imul(l,W)|0,e=(e+Math.imul(l,j)|0)+Math.imul(c,W)|0,N=N+Math.imul(c,j)|0,t=t+Math.imul(u,H)|0,e=(e+Math.imul(u,R)|0)+Math.imul(a,H)|0,N=N+Math.imul(a,R)|0,(T+(t+Math.imul(s,z)|0)|0)+((8191&(e=(e+Math.imul(s,C)|0)+Math.imul(o,z)|0))<<13)|0),Z=(T=((N+Math.imul(o,C)|0)+(e>>>13)|0)+(K>>>26)|0,K&=67108863,t=Math.imul(v,E),e=Math.imul(v,S)+Math.imul(_,E)|0,N=Math.imul(_,S),t=t+Math.imul(g,x)|0,e=(e+Math.imul(g,k)|0)+Math.imul(m,x)|0,N=N+Math.imul(m,k)|0,t=t+Math.imul(y,O)|0,e=(e+Math.imul(y,M)|0)+Math.imul(b,O)|0,N=N+Math.imul(b,M)|0,t=t+Math.imul(d,F)|0,e=(e+Math.imul(d,A)|0)+Math.imul(f,F)|0,N=N+Math.imul(f,A)|0,t=t+Math.imul(p,W)|0,e=(e+Math.imul(p,j)|0)+Math.imul(h,W)|0,N=N+Math.imul(h,j)|0,t=t+Math.imul(l,H)|0,e=(e+Math.imul(l,R)|0)+Math.imul(c,H)|0,N=N+Math.imul(c,R)|0,t=t+Math.imul(u,z)|0,e=(e+Math.imul(u,C)|0)+Math.imul(a,z)|0,N=N+Math.imul(a,C)|0,(T+(t+Math.imul(s,q)|0)|0)+((8191&(e=(e+Math.imul(s,P)|0)+Math.imul(o,q)|0))<<13)|0),ee=(T=((N+Math.imul(o,P)|0)+(e>>>13)|0)+(Z>>>26)|0,Z&=67108863,t=Math.imul(D,E),e=Math.imul(D,S)+Math.imul(w,E)|0,N=Math.imul(w,S),t=t+Math.imul(v,x)|0,e=(e+Math.imul(v,k)|0)+Math.imul(_,x)|0,N=N+Math.imul(_,k)|0,t=t+Math.imul(g,O)|0,e=(e+Math.imul(g,M)|0)+Math.imul(m,O)|0,N=N+Math.imul(m,M)|0,t=t+Math.imul(y,F)|0,e=(e+Math.imul(y,A)|0)+Math.imul(b,F)|0,N=N+Math.imul(b,A)|0,t=t+Math.imul(d,W)|0,e=(e+Math.imul(d,j)|0)+Math.imul(f,W)|0,N=N+Math.imul(f,j)|0,t=t+Math.imul(p,H)|0,e=(e+Math.imul(p,R)|0)+Math.imul(h,H)|0,N=N+Math.imul(h,R)|0,t=t+Math.imul(l,z)|0,e=(e+Math.imul(l,C)|0)+Math.imul(c,z)|0,N=N+Math.imul(c,C)|0,t=t+Math.imul(u,q)|0,e=(e+Math.imul(u,P)|0)+Math.imul(a,q)|0,N=N+Math.imul(a,P)|0,(T+(t+Math.imul(s,V)|0)|0)+((8191&(e=(e+Math.imul(s,I)|0)+Math.imul(o,V)|0))<<13)|0),E=(T=((N+Math.imul(o,I)|0)+(e>>>13)|0)+(ee>>>26)|0,ee&=67108863,t=Math.imul(U,E),e=Math.imul(U,S)+Math.imul(r,E)|0,N=Math.imul(r,S),t=t+Math.imul(D,x)|0,e=(e+Math.imul(D,k)|0)+Math.imul(w,x)|0,N=N+Math.imul(w,k)|0,t=t+Math.imul(v,O)|0,e=(e+Math.imul(v,M)|0)+Math.imul(_,O)|0,N=N+Math.imul(_,M)|0,t=t+Math.imul(g,F)|0,e=(e+Math.imul(g,A)|0)+Math.imul(m,F)|0,N=N+Math.imul(m,A)|0,t=t+Math.imul(y,W)|0,e=(e+Math.imul(y,j)|0)+Math.imul(b,W)|0,N=N+Math.imul(b,j)|0,t=t+Math.imul(d,H)|0,e=(e+Math.imul(d,R)|0)+Math.imul(f,H)|0,N=N+Math.imul(f,R)|0,t=t+Math.imul(p,z)|0,e=(e+Math.imul(p,C)|0)+Math.imul(h,z)|0,N=N+Math.imul(h,C)|0,t=t+Math.imul(l,q)|0,e=(e+Math.imul(l,P)|0)+Math.imul(c,q)|0,N=N+Math.imul(c,P)|0,t=t+Math.imul(u,V)|0,e=(e+Math.imul(u,I)|0)+Math.imul(a,V)|0,N=N+Math.imul(a,I)|0,(T+(t+Math.imul(s,G)|0)|0)+((8191&(e=(e+Math.imul(s,n)|0)+Math.imul(o,G)|0))<<13)|0),S=(T=((N+Math.imul(o,n)|0)+(e>>>13)|0)+(E>>>26)|0,E&=67108863,t=Math.imul(U,x),e=Math.imul(U,k)+Math.imul(r,x)|0,N=Math.imul(r,k),t=t+Math.imul(D,O)|0,e=(e+Math.imul(D,M)|0)+Math.imul(w,O)|0,N=N+Math.imul(w,M)|0,t=t+Math.imul(v,F)|0,e=(e+Math.imul(v,A)|0)+Math.imul(_,F)|0,N=N+Math.imul(_,A)|0,t=t+Math.imul(g,W)|0,e=(e+Math.imul(g,j)|0)+Math.imul(m,W)|0,N=N+Math.imul(m,j)|0,t=t+Math.imul(y,H)|0,e=(e+Math.imul(y,R)|0)+Math.imul(b,H)|0,N=N+Math.imul(b,R)|0,t=t+Math.imul(d,z)|0,e=(e+Math.imul(d,C)|0)+Math.imul(f,z)|0,N=N+Math.imul(f,C)|0,t=t+Math.imul(p,q)|0,e=(e+Math.imul(p,P)|0)+Math.imul(h,q)|0,N=N+Math.imul(h,P)|0,t=t+Math.imul(l,V)|0,e=(e+Math.imul(l,I)|0)+Math.imul(c,V)|0,N=N+Math.imul(c,I)|0,(T+(t+Math.imul(u,G)|0)|0)+((8191&(e=(e+Math.imul(u,n)|0)+Math.imul(a,G)|0))<<13)|0),s=(T=((N+Math.imul(a,n)|0)+(e>>>13)|0)+(S>>>26)|0,S&=67108863,t=Math.imul(U,O),e=Math.imul(U,M)+Math.imul(r,O)|0,N=Math.imul(r,M),t=t+Math.imul(D,F)|0,e=(e+Math.imul(D,A)|0)+Math.imul(w,F)|0,N=N+Math.imul(w,A)|0,t=t+Math.imul(v,W)|0,e=(e+Math.imul(v,j)|0)+Math.imul(_,W)|0,N=N+Math.imul(_,j)|0,t=t+Math.imul(g,H)|0,e=(e+Math.imul(g,R)|0)+Math.imul(m,H)|0,N=N+Math.imul(m,R)|0,t=t+Math.imul(y,z)|0,e=(e+Math.imul(y,C)|0)+Math.imul(b,z)|0,N=N+Math.imul(b,C)|0,t=t+Math.imul(d,q)|0,e=(e+Math.imul(d,P)|0)+Math.imul(f,q)|0,N=N+Math.imul(f,P)|0,t=t+Math.imul(p,V)|0,e=(e+Math.imul(p,I)|0)+Math.imul(h,V)|0,N=N+Math.imul(h,I)|0,(T+(t+Math.imul(l,G)|0)|0)+((8191&(e=(e+Math.imul(l,n)|0)+Math.imul(c,G)|0))<<13)|0),o=(T=((N+Math.imul(c,n)|0)+(e>>>13)|0)+(s>>>26)|0,s&=67108863,t=Math.imul(U,F),e=Math.imul(U,A)+Math.imul(r,F)|0,N=Math.imul(r,A),t=t+Math.imul(D,W)|0,e=(e+Math.imul(D,j)|0)+Math.imul(w,W)|0,N=N+Math.imul(w,j)|0,t=t+Math.imul(v,H)|0,e=(e+Math.imul(v,R)|0)+Math.imul(_,H)|0,N=N+Math.imul(_,R)|0,t=t+Math.imul(g,z)|0,e=(e+Math.imul(g,C)|0)+Math.imul(m,z)|0,N=N+Math.imul(m,C)|0,t=t+Math.imul(y,q)|0,e=(e+Math.imul(y,P)|0)+Math.imul(b,q)|0,N=N+Math.imul(b,P)|0,t=t+Math.imul(d,V)|0,e=(e+Math.imul(d,I)|0)+Math.imul(f,V)|0,N=N+Math.imul(f,I)|0,(T+(t+Math.imul(p,G)|0)|0)+((8191&(e=(e+Math.imul(p,n)|0)+Math.imul(h,G)|0))<<13)|0),x=(T=((N+Math.imul(h,n)|0)+(e>>>13)|0)+(o>>>26)|0,o&=67108863,t=Math.imul(U,W),e=Math.imul(U,j)+Math.imul(r,W)|0,N=Math.imul(r,j),t=t+Math.imul(D,H)|0,e=(e+Math.imul(D,R)|0)+Math.imul(w,H)|0,N=N+Math.imul(w,R)|0,t=t+Math.imul(v,z)|0,e=(e+Math.imul(v,C)|0)+Math.imul(_,z)|0,N=N+Math.imul(_,C)|0,t=t+Math.imul(g,q)|0,e=(e+Math.imul(g,P)|0)+Math.imul(m,q)|0,N=N+Math.imul(m,P)|0,t=t+Math.imul(y,V)|0,e=(e+Math.imul(y,I)|0)+Math.imul(b,V)|0,N=N+Math.imul(b,I)|0,(T+(t+Math.imul(d,G)|0)|0)+((8191&(e=(e+Math.imul(d,n)|0)+Math.imul(f,G)|0))<<13)|0),k=(T=((N+Math.imul(f,n)|0)+(e>>>13)|0)+(x>>>26)|0,x&=67108863,t=Math.imul(U,H),e=Math.imul(U,R)+Math.imul(r,H)|0,N=Math.imul(r,R),t=t+Math.imul(D,z)|0,e=(e+Math.imul(D,C)|0)+Math.imul(w,z)|0,N=N+Math.imul(w,C)|0,t=t+Math.imul(v,q)|0,e=(e+Math.imul(v,P)|0)+Math.imul(_,q)|0,N=N+Math.imul(_,P)|0,t=t+Math.imul(g,V)|0,e=(e+Math.imul(g,I)|0)+Math.imul(m,V)|0,N=N+Math.imul(m,I)|0,(T+(t+Math.imul(y,G)|0)|0)+((8191&(e=(e+Math.imul(y,n)|0)+Math.imul(b,G)|0))<<13)|0),u=(T=((N+Math.imul(b,n)|0)+(e>>>13)|0)+(k>>>26)|0,k&=67108863,t=Math.imul(U,z),e=Math.imul(U,C)+Math.imul(r,z)|0,N=Math.imul(r,C),t=t+Math.imul(D,q)|0,e=(e+Math.imul(D,P)|0)+Math.imul(w,q)|0,N=N+Math.imul(w,P)|0,t=t+Math.imul(v,V)|0,e=(e+Math.imul(v,I)|0)+Math.imul(_,V)|0,N=N+Math.imul(_,I)|0,(T+(t+Math.imul(g,G)|0)|0)+((8191&(e=(e+Math.imul(g,n)|0)+Math.imul(m,G)|0))<<13)|0),a=(T=((N+Math.imul(m,n)|0)+(e>>>13)|0)+(u>>>26)|0,u&=67108863,t=Math.imul(U,q),e=Math.imul(U,P)+Math.imul(r,q)|0,N=Math.imul(r,P),t=t+Math.imul(D,V)|0,e=(e+Math.imul(D,I)|0)+Math.imul(w,V)|0,N=N+Math.imul(w,I)|0,(T+(t+Math.imul(v,G)|0)|0)+((8191&(e=(e+Math.imul(v,n)|0)+Math.imul(_,G)|0))<<13)|0),O=(T=((N+Math.imul(_,n)|0)+(e>>>13)|0)+(a>>>26)|0,a&=67108863,t=Math.imul(U,V),e=Math.imul(U,I)+Math.imul(r,V)|0,N=Math.imul(r,I),(T+(t+Math.imul(D,G)|0)|0)+((8191&(e=(e+Math.imul(D,n)|0)+Math.imul(w,G)|0))<<13)|0),M=(T=((N+Math.imul(w,n)|0)+(e>>>13)|0)+(O>>>26)|0,O&=67108863,(T+Math.imul(U,G)|0)+((8191&(e=Math.imul(U,n)+Math.imul(r,G)|0))<<13)|0);return T=(Math.imul(r,n)+(e>>>13)|0)+(M>>>26)|0,M&=67108863,i[0]=L,i[1]=J,i[2]=Y,i[3]=$,i[4]=Q,i[5]=X,i[6]=K,i[7]=Z,i[8]=ee,i[9]=E,i[10]=S,i[11]=s,i[12]=o,i[13]=x,i[14]=k,i[15]=u,i[16]=a,i[17]=O,i[18]=M,0!=T&&(i[19]=T,B.length++),B};function l(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){for(var s=i,i=0,a=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l,h=(0|e.words[o-c])*(0|t.words[c]),a=67108863&(l=(67108863&h)+a|0);i+=(s=(s=s+(h/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function m(e,t,r){return l(e,t,r)}Math.imul||(c=u),y.prototype.mulTo=function(e,t){var r=this.length+e.length,r=(10===this.length&&10===e.length?c:r<63?u:r<1024?l:m)(this,e,t);return r},y.prototype.mul=function(e){var t=new y(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},y.prototype.mulf=function(e){var t=new y(null);return t.words=new Array(this.length+e.length),m(this,e,t)},y.prototype.imul=function(e){return this.clone().mulTo(e,this)},y.prototype.imuln=function(e){for(var t=e<0,r=(b("number"==typeof(e=t?-e:e)),b(e<67108864),0),n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&r),r=(r>>=26)+(i/67108864|0)+(o>>>26);this.words[n]=67108863&o}return 0!==r&&(this.words[n]=r,this.length++),t?this.ineg():this},y.prototype.muln=function(e){return this.clone().imuln(e)},y.prototype.sqr=function(){return this.mul(this)},y.prototype.isqr=function(){return this.imul(this.clone())},y.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++)t[r]=e.words[r/26|0]>>>r%26&1;return t}(e);if(0===t.length)return new y(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},y.prototype.iushln=function(e){b("number"==typeof e&&0<=e);var t=e%26,r=(e-t)/26,n=67108863>>>26-t<<26-t;if(0!=t){for(var i=0,o=0;o<this.length;o++){var s=this.words[o]&n,a=(0|this.words[o])-s<<t;this.words[o]=a|i,i=s>>>26-t}i&&(this.words[o]=i,this.length++)}if(0!=r){for(o=this.length-1;0<=o;o--)this.words[o+r]=this.words[o];for(o=0;o<r;o++)this.words[o]=0;this.length+=r}return this._strip()},y.prototype.ishln=function(e){return b(0===this.negative),this.iushln(e)},y.prototype.iushrn=function(e,t,r){b("number"==typeof e&&0<=e),n=t?(t-t%26)/26:0;var n,i=e%26,o=Math.min((e-i)/26,this.length),s=67108863^67108863>>>i<<i,a=r;if(n-=o,n=Math.max(0,n),a){for(var u=0;u<o;u++)a.words[u]=this.words[u];a.length=o}if(0!==o)if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;for(var c=0,u=this.length-1;0<=u&&(0!==c||n<=u);u--){var l=0|this.words[u];this.words[u]=c<<26-i|l>>>i,c=l&s}return a&&0!==c&&(a.words[a.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},y.prototype.ishrn=function(e,t,r){return b(0===this.negative),this.iushrn(e,t,r)},y.prototype.shln=function(e){return this.clone().ishln(e)},y.prototype.ushln=function(e){return this.clone().iushln(e)},y.prototype.shrn=function(e){return this.clone().ishrn(e)},y.prototype.ushrn=function(e){return this.clone().iushrn(e)},y.prototype.testn=function(e){b("number"==typeof e&&0<=e);var t=e%26,e=(e-t)/26;return!(this.length<=e)&&!!(this.words[e]&1<<t)},y.prototype.imaskn=function(e){b("number"==typeof e&&0<=e);var t=e%26,e=(e-t)/26;return b(0===this.negative,"imaskn works only with positive numbers"),this.length<=e?this:(0!=t&&e++,this.length=Math.min(e,this.length),0!=t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this._strip())},y.prototype.maskn=function(e){return this.clone().imaskn(e)},y.prototype.iaddn=function(e){return b("number"==typeof e),b(e<67108864),e<0?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},y.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&67108864<=this.words[t];t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},y.prototype.isubn=function(e){if(b("number"==typeof e),b(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,--this.words[t+1];return this._strip()},y.prototype.addn=function(e){return this.clone().iaddn(e)},y.prototype.subn=function(e){return this.clone().isubn(e)},y.prototype.iabs=function(){return this.negative=0,this},y.prototype.abs=function(){return this.clone().iabs()},y.prototype._ishlnsubmul=function(e,t,r){for(var n=e.length+r,i=(this._expand(n),0),o=0;o<e.length;o++){var s=(0|this.words[o+r])+i,a=(0|e.words[o])*t,i=((s-=67108863&a)>>26)-(a/67108864|0);this.words[o+r]=67108863&s}for(;o<this.length-r;o++)i=(s=(0|this.words[o+r])+i)>>26,this.words[o+r]=67108863&s;if(0===i)return this._strip();for(b(-1===i),o=i=0;o<this.length;o++)i=(s=-(0|this.words[o])+i)>>26,this.words[o]=67108863&s;return this.negative=1,this._strip()},y.prototype._wordDiv=function(e,t){this.length,e.length;var r,n=this.clone(),i=e,o=0|i.words[i.length-1],s=(0!=(e=26-this._countBits(o))&&(i=i.ushln(e),n.iushln(e),o=0|i.words[i.length-1]),n.length-i.length);if("mod"!==t){(r=new y(null)).length=1+s,r.words=new Array(r.length);for(var a=0;a<r.length;a++)r.words[a]=0}var u=n.clone()._ishlnsubmul(i,1,s);0===u.negative&&(n=u,r&&(r.words[s]=1));for(var c=s-1;0<=c;c--){var l=67108864*(0|n.words[i.length+c])+(0|n.words[i.length+c-1]),l=Math.min(l/o|0,67108863);for(n._ishlnsubmul(i,l,c);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,c),n.isZero()||(n.negative^=1);r&&(r.words[c]=l)}return r&&r._strip(),n._strip(),"div"!==t&&0!=e&&n.iushrn(e),{div:r||null,mod:n}},y.prototype.divmod=function(e,t,r){return b(!e.isZero()),this.isZero()?{div:new y(0),mod:new y(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(n=o.div.neg()),"div"!==t&&(i=o.mod.neg(),r&&0!==i.negative&&i.iadd(e)),{div:n,mod:i}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),{div:n="mod"!==t?o.div.neg():n,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(i=o.mod.neg(),r&&0!==i.negative&&i.isub(e)),{div:o.div,mod:i}):e.length>this.length||this.cmp(e)<0?{div:new y(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new y(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new y(this.modrn(e.words[0]))}:this._wordDiv(e,t);var n,i,o},y.prototype.div=function(e){return this.divmod(e,"div",!1).div},y.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},y.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},y.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),e=e.andln(1),r=r.cmp(n);return r<0||1===e&&0===r?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},y.prototype.modrn=function(e){for(var t=e<0,r=(b((e=t?-e:e)<=67108863),(1<<26)%e),n=0,i=this.length-1;0<=i;i--)n=(r*n+(0|this.words[i]))%e;return t?-n:n},y.prototype.modn=function(e){return this.modrn(e)},y.prototype.idivn=function(e){for(var t=e<0,r=(b((e=t?-e:e)<=67108863),0),n=this.length-1;0<=n;n--){var i=(0|this.words[n])+67108864*r;this.words[n]=i/e|0,r=i%e}return this._strip(),t?this.ineg():this},y.prototype.divn=function(e){return this.clone().idivn(e)},y.prototype.egcd=function(e){b(0===e.negative),b(!e.isZero());for(var t=this,r=e.clone(),t=0!==t.negative?t.umod(e):t.clone(),n=new y(1),i=new y(0),o=new y(0),s=new y(1),a=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++a;for(var u=r.clone(),c=t.clone();!t.isZero();){for(var l=0,h=1;0==(t.words[0]&h)&&l<26;++l,h<<=1);if(0<l)for(t.iushrn(l);0<l--;)(n.isOdd()||i.isOdd())&&(n.iadd(u),i.isub(c)),n.iushrn(1),i.iushrn(1);for(var p=0,f=1;0==(r.words[0]&f)&&p<26;++p,f<<=1);if(0<p)for(r.iushrn(p);0<p--;)(o.isOdd()||s.isOdd())&&(o.iadd(u),s.isub(c)),o.iushrn(1),s.iushrn(1);0<=t.cmp(r)?(t.isub(r),n.isub(o),i.isub(s)):(r.isub(t),o.isub(n),s.isub(i))}return{a:o,b:s,gcd:r.iushln(a)}},y.prototype._invmp=function(e){b(0===e.negative),b(!e.isZero());for(var t,r=this,n=e.clone(),r=0!==r.negative?r.umod(e):r.clone(),i=new y(1),o=new y(0),s=n.clone();0<r.cmpn(1)&&0<n.cmpn(1);){for(var a=0,u=1;0==(r.words[0]&u)&&a<26;++a,u<<=1);if(0<a)for(r.iushrn(a);0<a--;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var c=0,l=1;0==(n.words[0]&l)&&c<26;++c,l<<=1);if(0<c)for(n.iushrn(c);0<c--;)o.isOdd()&&o.iadd(s),o.iushrn(1);0<=r.cmp(n)?(r.isub(n),i.isub(o)):(n.isub(r),o.isub(i))}return(t=0===r.cmpn(1)?i:o).cmpn(0)<0&&t.iadd(e),t},y.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0;for(var n=r.negative=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0)var o=t,t=r,r=o;else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},y.prototype.invm=function(e){return this.egcd(e).a.umod(e)},y.prototype.isEven=function(){return 0==(1&this.words[0])},y.prototype.isOdd=function(){return 1==(1&this.words[0])},y.prototype.andln=function(e){return this.words[0]&e},y.prototype.bincn=function(e){b("number"==typeof e);var t=e%26,e=(e-t)/26,t=1<<t;if(this.length<=e)return this._expand(1+e),this.words[e]|=t,this;for(var r=t,n=e;0!==r&&n<this.length;n++){var i=0|this.words[n],r=(i+=r)>>>26;i&=67108863,this.words[n]=i}return 0!==r&&(this.words[n]=r,this.length++),this},y.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},y.prototype.cmpn=function(e){var t=e<0;return 0===this.negative||t?0===this.negative&&t?1:(this._strip(),t=1<this.length?1:(b((e=t?-e:e)<=67108863,"Number is too big"),(t=0|this.words[0])===e?0:t<e?-1:1),0!==this.negative?0|-t:t):-1},y.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;e=this.ucmp(e);return 0!==this.negative?0|-e:e},y.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;0<=r;r--){var n=0|this.words[r],i=0|e.words[r];if(n!=i){n<i?t=-1:i<n&&(t=1);break}}return t},y.prototype.gtn=function(e){return 1===this.cmpn(e)},y.prototype.gt=function(e){return 1===this.cmp(e)},y.prototype.gten=function(e){return 0<=this.cmpn(e)},y.prototype.gte=function(e){return 0<=this.cmp(e)},y.prototype.ltn=function(e){return-1===this.cmpn(e)},y.prototype.lt=function(e){return-1===this.cmp(e)},y.prototype.lten=function(e){return this.cmpn(e)<=0},y.prototype.lte=function(e){return this.cmp(e)<=0},y.prototype.eqn=function(e){return 0===this.cmpn(e)},y.prototype.eq=function(e){return 0===this.cmp(e)},y.red=function(e){return new k(e)},y.prototype.toRed=function(e){return b(!this.red,"Already a number in reduction context"),b(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},y.prototype.fromRed=function(){return b(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},y.prototype._forceRed=function(e){return this.red=e,this},y.prototype.forceRed=function(e){return b(!this.red,"Already a number in reduction context"),this._forceRed(e)},y.prototype.redAdd=function(e){return b(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},y.prototype.redIAdd=function(e){return b(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},y.prototype.redSub=function(e){return b(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},y.prototype.redISub=function(e){return b(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},y.prototype.redShl=function(e){return b(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},y.prototype.redMul=function(e){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},y.prototype.redIMul=function(e){return b(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},y.prototype.redSqr=function(){return b(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},y.prototype.redISqr=function(){return b(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},y.prototype.redSqrt=function(){return b(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},y.prototype.redInvm=function(){return b(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},y.prototype.redNeg=function(){return b(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},y.prototype.redPow=function(e){return b(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new y(t,16),this.n=this.p.bitLength(),this.k=new y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){var t;"string"==typeof e?(t=y._prime(e),this.m=t.p,this.prime=t):(b(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null)}function x(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new y(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){for(var t,r=e;this.split(r,this.tmp),(t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength())>this.n;);e=t<this.n?-1:r.ucmp(this.p);return 0===e?(r.words[0]=0,r.length=1):0<e?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},r(v,_),v.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}0===(e.words[n-10]=i>>>=22)&&10<e.length?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(w,_),r(S,_),r(E,_),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},y._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return g[e]=t},k.prototype._verify1=function(e){b(0===e.negative,"red works only with positives"),b(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){b(0==(e.negative|t.negative),"red works only with positives"),b(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(o(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);e=e.add(t);return 0<=e.cmp(this.m)&&e.isub(this.m),e._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);e=e.iadd(t);return 0<=e.cmp(this.m)&&e.isub(this.m),e},k.prototype.sub=function(e,t){this._verify2(e,t);e=e.sub(t);return e.cmpn(0)<0&&e.iadd(this.m),e._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);e=e.isub(t);return e.cmpn(0)<0&&e.iadd(this.m),e},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(b(t%2==1),3===t)return t=this.m.add(new y(1)).iushrn(2),this.pow(e,t);for(var r=this.m.subn(1),n=0;!r.isZero()&&0===r.andln(1);)n++,r.iushrn(1);b(!r.isZero());for(var i=new y(1).toRed(this),o=i.redNeg(),s=this.m.subn(1).iushrn(1),a=new y(2*(a=this.m.bitLength())*a).toRed(this);0!==this.pow(a,s).cmp(o);)a.redIAdd(o);for(var u=this.pow(a,r),c=this.pow(e,r.addn(1).iushrn(1)),l=this.pow(e,r),h=n;0!==l.cmp(i);){for(var p=l,f=0;0!==p.cmp(i);f++)p=p.redSqr();b(f<h);var d=this.pow(u,new y(1).iushln(h-f-1)),c=c.redMul(d),u=d.redSqr(),l=l.redMul(u),h=f}return c},k.prototype.invm=function(e){e=e._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},k.prototype.pow=function(e,t){if(t.isZero())return new y(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new y(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,s=0,a=t.bitLength()%26;for(0===a&&(a=26),n=t.length-1;0<=n;n--){for(var u=t.words[n],c=a-1;0<=c;c--){var l=u>>c&1;i!==r[0]&&(i=this.sqr(i)),0==l&&0===o?s=0:(o=o<<1|l,(4===++s||0===n&&0===c)&&(i=this.mul(i,r[o]),o=s=0))}a=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){e=e.clone();return e.red=null,e},y.mont=function(e){return new x(e)},r(x,k),x.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},x.prototype.convertFrom=function(e){e=this.imod(e.mul(this.rinv));return e.red=null,e},x.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;e=e.imul(t),t=e.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=e.isub(t).iushrn(this.shift),t=e;return 0<=e.cmp(this.m)?t=e.isub(this.m):e.cmpn(0)<0&&(t=e.iadd(this.m)),t._forceRed(this)},x.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new y(0)._forceRed(this);e=e.mul(t),t=e.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=e.isub(t).iushrn(this.shift),t=e;return 0<=e.cmp(this.m)?t=e.isub(this.m):e.cmpn(0)<0&&(t=e.iadd(this.m)),t._forceRed(this)},x.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)},{buffer:3}],35:[function(e,t,r){t.exports=function(){for(var e,t=0,r="";t<arguments.length;)(e=arguments[t++])&&(e=function e(t){var r,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(n=e(t[r]))&&(i&&(i+=" "),i+=n);else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}(e))&&(r&&(r+=" "),r+=e);return r}},{}],36:[function(e,t,r){e("eth-query"),e("pify");e=e("safe-event-emitter");const n=(e,t)=>e+t,i=["sync","latest"];class o extends e{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||2e4,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock||await new Promise(e=>this.once("latest",e))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,t){i.includes(e)&&this._maybeStart()}_onRemoveListener(e,t){0<this._getBlockTrackerEventCount()||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return i.map(e=>this.listenerCount(e)).reduce(n)}_newPotentialLatest(e){var t=this._currentBlock;t&&s(e)<=s(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){var t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}function s(e){return Number.parseInt(e,16)}t.exports=o},{"eth-query":50,pify:74,"safe-event-emitter":292}],37:[function(e,t,r){const n=e("pify");e=e("./base");class i extends e{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");var t=e.pollingInterval||2e4,r=e.retryTimeout||t/10,n=void 0===e.keepEventLoopActive||e.keepEventLoopActive,i=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:t},e)),this._provider=e.provider,this._pollingInterval=t,this._retryTimeout=r,this._keepEventLoopActive=n,this._setSkipCacheFlag=i}async checkForLatestBlock(){return await this._updateLatestBlock(),this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await o(this._pollingInterval,!this._keepEventLoopActive)}catch(e){var t=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
`+e.stack);try{this.emit("error",t)}catch(e){console.error(t)}await o(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){var e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const t={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0);var e=await n(e=>this._provider.sendAsync(t,e))();if(e.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
`+e.error);return e.result}}function o(r,n){return new Promise(e=>{const t=setTimeout(e,r);t.unref&&n&&t.unref()})}t.exports=i},{"./base":36,pify:74}],38:[function(e,t,r){e=e("./base-filter");class n extends e{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}t.exports=n},{"./base-filter":39}],39:[function(e,t,r){e=e("@metamask/safe-event-emitter").default;class n extends e{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(e=>this.emit("update",e))}addInitialResults(e){}getChangesAndClear(){var e=this.updates;return this.updates=[],e}}t.exports=n},{"@metamask/safe-event-emitter":28}],40:[function(e,t,r){var n=e("./base-filter");const i=e("./getBlocksForRange"),o=e("./hexUtils")["incrementHexInt"];class s extends n{constructor({provider:e}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){e=o(e);const r=await i({provider:this.provider,fromBlock:e,toBlock:t});e=r.map(e=>e.hash);this.addResults(e)}}t.exports=s},{"./base-filter":39,"./getBlocksForRange":41,"./hexUtils":42}],41:[function(e,t,r){function u(e){return null==e?e:Number.parseInt(e,16)}function c(e){return null==e?e:"0x"+e.toString(16)}t.exports=async function({provider:r,fromBlock:e,toBlock:t}){e=e||t;const n=u(e),i=u(t),o=i-n+1,s=Array(o).fill().map((e,t)=>n+t).map(c),a=await Promise.all(s.map(e=>{var t=r,i="eth_getBlockByNumber",o=[e,!1];return new Promise((r,n)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:i,params:o},(e,t)=>{if(e)return n(e);r(t.result)})})}));return a}},{}],42:[function(e,t,r){function n(e){return e.sort((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:i(e)-i(t))}function i(e){return null==e?e:Number.parseInt(e,16)}function o(e){if(null==e)return e;let t=e.toString(16);e=t.length%2;return"0x"+(t=e?"0"+t:t)}function s(){return Math.floor(16*Math.random()).toString(16)}t.exports={minBlockRef:function(...e){e=n(e);return e[0]},maxBlockRef:function(...e){e=n(e);return e[e.length-1]},sortBlockRefs:n,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:i,incrementHexInt:function(e){if(null==e)return e;e=i(e);return o(e+1)},intToHex:o,unsafeRandomBytes:function(t){let r="0x";for(let e=0;e<t;e++)r=(r+=s())+s();return r}}},{}],43:[function(e,t,r){const y=e("async-mutex").Mutex,n=e("json-rpc-engine")["createAsyncMiddleware"],m=e("eth-json-rpc-middleware/scaffold"),g=e("./log-filter.js"),_=e("./block-filter.js"),v=e("./tx-filter.js"),{intToHex:w,hexToInt:S}=e("./hexUtils");function E(t){return k(async(...e)=>{e=await t(...e);return w(e.id)})}function k(r){return n(async(e,t)=>{e=await r.apply(null,e.params);t.result=e})}function x(e){const t=[];for(var r in e)t.push(e[r]);return t}t.exports=function({blockTracker:n,provider:t}){let i=0,o={};const s=new y,e=function({mutex:s}){return o=>async(e,t,r,n)=>{const i=await s.acquire();i(),o(e,t,r,n)}}({mutex:s}),r=m({eth_newFilter:e(E(u)),eth_newBlockFilter:e(E(c)),eth_newPendingTransactionFilter:e(E(l)),eth_uninstallFilter:e(k(f)),eth_getFilterChanges:e(k(h)),eth_getFilterLogs:e(k(p))}),a=async({oldBlock:t,newBlock:r})=>{if(0!==o.length){const e=await s.acquire();try{await Promise.all(x(o).map(async e=>{try{await e.update({oldBlock:t,newBlock:r})}catch(e){console.error(e)}}))}catch(e){console.error(e)}e()}};return r.newLogFilter=u,r.newBlockFilter=c,r.newPendingTransactionFilter=l,r.uninstallFilter=f,r.getFilterChanges=h,r.getFilterLogs=p,r.destroy=()=>{!async function(){var e=x(o).length;o={},b({prevFilterCount:e,newFilterCount:0})}()},r;async function u(e){e=new g({provider:t,params:e});await d(e);return e}async function c(){var e=new _({provider:t});await d(e);return e}async function l(){var e=new v({provider:t});await d(e);return e}async function h(e){e=S(e);const t=o[e];if(t)return t.getChangesAndClear();throw new Error(`No filter for index "${e}"`)}async function p(e){e=S(e);const t=o[e];if(t)return results="log"===t.type?t.getAllResults():[];throw new Error(`No filter for index "${e}"`)}async function f(e){var t,e=S(e),r=o[e],r=Boolean(r);return r&&(e=e,t=x(o).length,delete o[e],e=x(o).length,await!b({prevFilterCount:t,newFilterCount:e})),r}async function d(e){var t=x(o).length,r=await n.getLatestBlock(),r=(await e.initialize({currentBlock:r}),i++,(o[i]=e).id=i,e.idHex=w(i),x(o).length);return b({prevFilterCount:t,newFilterCount:r}),i}function b({prevFilterCount:e,newFilterCount:t}){0===e&&0<t?n.on("sync",a):0<e&&0===t&&n.removeListener("sync",a)}}},{"./block-filter.js":40,"./hexUtils":42,"./log-filter.js":44,"./tx-filter.js":47,"async-mutex":31,"eth-json-rpc-middleware/scaffold":49,"json-rpc-engine":65}],44:[function(e,t,r){const n=e("eth-query"),i=e("pify");var o=e("./base-filter-history");const{hexToInt:s,incrementHexInt:a,minBlockRef:u,blockRefIsNumber:c}=e("./hexUtils");class l extends o{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new n(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(e=>e.toLowerCase()))}async initialize({currentBlock:e}){let t=this.params.fromBlock;"earliest"===(t=["latest","pending"].includes(t)?e:t)&&(t="0x0"),this.params.fromBlock=t;e=u(this.params.toBlock,e),e=Object.assign({},this.params,{toBlock:e}),e=await this._fetchLogs(e);this.addInitialResults(e)}async update({oldBlock:e,newBlock:t}){var r=t;let n;n=e?a(e):t;e=Object.assign({},this.params,{fromBlock:n,toBlock:r});const i=await this._fetchLogs(e);t=i.filter(e=>this.matchLog(e));this.addResults(t)}async _fetchLogs(t){return await i(e=>this.ethQuery.getLogs(t,e))()}matchLog(i){if(s(this.params.fromBlock)>=s(i.blockNumber))return!1;if(c(this.params.toBlock)&&s(this.params.toBlock)<=s(i.blockNumber))return!1;var e=i.address&&i.address.toLowerCase();return!(this.params.address&&e&&!this.params.address.includes(e))&&this.params.topics.every((e,t)=>{let r=i.topics[t];if(!r)return!1;r=r.toLowerCase();let n=Array.isArray(e)?e:[e];return!!n.includes(null)||(n=n.map(e=>e.toLowerCase())).includes(r)})}}t.exports=l},{"./base-filter-history":38,"./hexUtils":42,"eth-query":50,pify:45}],45:[function(e,t,r){"use strict";const a=(i,o,s,a)=>function(...e){const t=o.promiseModule;return new t((r,n)=>{o.multiArgs?e.push((...e)=>{o.errorFirst?e[0]?n(e):(e.shift(),r(e)):r(e)}):o.errorFirst?e.push((e,t)=>{e?n(e):r(t)}):e.push(r),Reflect.apply(i,this===s?a:this,e)})},u=new WeakMap;t.exports=(e,i)=>{i={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...i};var t=typeof e;if(null===e||"object"!=t&&"function"!=t)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":t}\``);const o=new WeakMap,s=new Proxy(e,{apply(e,t,r){var n=o.get(e);if(n)return Reflect.apply(n,t,r);n=i.excludeMain?e:a(e,i,s,e);return o.set(e,n),Reflect.apply(n,t,r)},get(e,t){var r=e[t];if(!((e,t)=>{let r=u.get(e);if(r||(r={},u.set(e,r)),t in r)return r[t];var n=e=>"string"==typeof e||"symbol"==typeof t?t===e:e.test(t),e=Reflect.getOwnPropertyDescriptor(e,t),e=void 0===e||e.writable||e.configurable,n=(i.include?i.include.some(n):!i.exclude.some(n))&&e;return r[t]=n})(e,t)||r===Function.prototype[t])return r;var t=o.get(r);return t||("function"==typeof r?(t=a(r,i,s,e),o.set(r,t),t):r)}});return s}},{}],46:[function(e,t,r){const n=e("@metamask/safe-event-emitter").default,i=e("eth-json-rpc-middleware/scaffold"),o=e("json-rpc-engine")["createAsyncMiddleware"],p=e("./index.js"),{unsafeRandomBytes:f,incrementHexInt:d}=e("./hexUtils.js"),b=e("./getBlocksForRange.js");function y(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}t.exports=function({blockTracker:s,provider:a}){const u={},c=p({blockTracker:s,provider:a});let l=!1;const r=new n,e=i({eth_subscribe:o(async function(e,t){if(l)throw new Error("SubscriptionManager - attempting to use after destroying");const n=e.params[0],r=f(16);let i;switch(n){case"newHeads":i=function({subId:i}){const e={type:n,destroy:async()=>{s.removeListener("sync",e.update)},update:async({oldBlock:e,newBlock:t})=>{e=d(e);const r=await b({provider:a,fromBlock:e,toBlock:t}),n=r.map(y);n.forEach(e=>{h(i,e)})}};return s.on("sync",e.update),e}({subId:r});break;case"logs":var o=e.params[1],o=await c.newLogFilter(o);i=function({subId:t,filter:e}){e.on("update",e=>h(t,e));var r={type:n,destroy:async()=>c.uninstallFilter(e.idHex)};return r}({subId:r,filter:o});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${n}"`)}u[r]=i,t.result=r}),eth_unsubscribe:o(async function(e,t){if(l)throw new Error("SubscriptionManager - attempting to use after destroying");const r=e.params[0],n=u[r];n?(delete u[r],await n.destroy(),t.result=!0):t.result=!1})});return e.destroy=function(){r.removeAllListeners();for(const e in u)u[e].destroy(),delete u[e];l=!0},{events:r,middleware:e};function h(e,t){r.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}}},{"./getBlocksForRange.js":41,"./hexUtils.js":42,"./index.js":43,"@metamask/safe-event-emitter":28,"eth-json-rpc-middleware/scaffold":49,"json-rpc-engine":65}],47:[function(e,t,r){var n=e("./base-filter");const i=e("./getBlocksForRange"),o=e("./hexUtils")["incrementHexInt"];class s extends n{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){var t=e,e=o(e);const r=[];for(const n of await i({provider:this.provider,fromBlock:e,toBlock:t}))r.push(...n.transactions);this.addResults(r)}}t.exports=s},{"./base-filter":39,"./getBlocksForRange":41,"./hexUtils":42}],48:[function(e,t,r){t.exports=function(o){return(e,t,r,n)=>{const i=o[e.method];return void 0===i?r():"function"==typeof i?i(e,t,r,n):(t.result=i,n())}}},{}],49:[function(e,t,r){t.exports=e("json-rpc-engine/src/createScaffoldMiddleware")},{"json-rpc-engine/src/createScaffoldMiddleware":48}],50:[function(e,t,r){const n=e("xtend"),i=e("json-rpc-random-id")();function o(e){this.currentProvider=e}function s(r){return function(){var e=[].slice.call(arguments),t=e.pop();this.sendAsync({method:r,params:e},t)}}function a(r,n){return function(){var e=[].slice.call(arguments),t=e.pop();e.length<r&&e.push("latest"),this.sendAsync({method:n,params:e},t)}}(t.exports=o).prototype.getBalance=a(2,"eth_getBalance"),o.prototype.getCode=a(2,"eth_getCode"),o.prototype.getTransactionCount=a(2,"eth_getTransactionCount"),o.prototype.getStorageAt=a(3,"eth_getStorageAt"),o.prototype.call=a(2,"eth_call"),o.prototype.protocolVersion=s("eth_protocolVersion"),o.prototype.syncing=s("eth_syncing"),o.prototype.coinbase=s("eth_coinbase"),o.prototype.mining=s("eth_mining"),o.prototype.hashrate=s("eth_hashrate"),o.prototype.gasPrice=s("eth_gasPrice"),o.prototype.accounts=s("eth_accounts"),o.prototype.blockNumber=s("eth_blockNumber"),o.prototype.getBlockTransactionCountByHash=s("eth_getBlockTransactionCountByHash"),o.prototype.getBlockTransactionCountByNumber=s("eth_getBlockTransactionCountByNumber"),o.prototype.getUncleCountByBlockHash=s("eth_getUncleCountByBlockHash"),o.prototype.getUncleCountByBlockNumber=s("eth_getUncleCountByBlockNumber"),o.prototype.sign=s("eth_sign"),o.prototype.sendTransaction=s("eth_sendTransaction"),o.prototype.sendRawTransaction=s("eth_sendRawTransaction"),o.prototype.estimateGas=s("eth_estimateGas"),o.prototype.getBlockByHash=s("eth_getBlockByHash"),o.prototype.getBlockByNumber=s("eth_getBlockByNumber"),o.prototype.getTransactionByHash=s("eth_getTransactionByHash"),o.prototype.getTransactionByBlockHashAndIndex=s("eth_getTransactionByBlockHashAndIndex"),o.prototype.getTransactionByBlockNumberAndIndex=s("eth_getTransactionByBlockNumberAndIndex"),o.prototype.getTransactionReceipt=s("eth_getTransactionReceipt"),o.prototype.getUncleByBlockHashAndIndex=s("eth_getUncleByBlockHashAndIndex"),o.prototype.getUncleByBlockNumberAndIndex=s("eth_getUncleByBlockNumberAndIndex"),o.prototype.getCompilers=s("eth_getCompilers"),o.prototype.compileLLL=s("eth_compileLLL"),o.prototype.compileSolidity=s("eth_compileSolidity"),o.prototype.compileSerpent=s("eth_compileSerpent"),o.prototype.newFilter=s("eth_newFilter"),o.prototype.newBlockFilter=s("eth_newBlockFilter"),o.prototype.newPendingTransactionFilter=s("eth_newPendingTransactionFilter"),o.prototype.uninstallFilter=s("eth_uninstallFilter"),o.prototype.getFilterChanges=s("eth_getFilterChanges"),o.prototype.getFilterLogs=s("eth_getFilterLogs"),o.prototype.getLogs=s("eth_getLogs"),o.prototype.getWork=s("eth_getWork"),o.prototype.submitWork=s("eth_submitWork"),o.prototype.submitHashrate=s("eth_submitHashrate"),o.prototype.sendAsync=function(e,r){this.currentProvider.sendAsync((e=e,n({id:i(),jsonrpc:"2.0",params:[]},e)),function(e,t){if(e=!e&&t.error?new Error("EthQuery - RPC Error - "+t.error.message):e)return r(e);r(null,t.result)})}},{"json-rpc-random-id":67,xtend:349}],51:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EthereumProviderError=r.EthereumRpcError=void 0;const n=e("fast-safe-stringify");class i extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),o,2)}}(class extends(r.EthereumRpcError=i){});function o(e,t){if("[Circular]"!==t)return t}r.EthereumProviderError=class extends i{constructor(e,t,r){if(n=e,!(Number.isInteger(n)&&1e3<=n&&n<=4999))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');var n;super(e,t,r)}}},{"fast-safe-stringify":57}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.errorValues=r.errorCodes=void 0,r.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},r.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},{}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ethErrors=void 0;const n=e("./classes"),i=e("./utils"),o=e("./error-constants");function s(e,t){var[t,r]=u(t);return new n.EthereumRpcError(e,t||i.getMessageFromCode(e),r)}function a(e,t){var[t,r]=u(t);return new n.EthereumProviderError(e,t||i.getMessageFromCode(e),r)}function u(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){var{message:e,data:t}=e;if(e&&"string"!=typeof e)throw new Error("Must specify string message.");return[e||void 0,t]}}return[]}r.ethErrors={rpc:{parse:e=>s(o.errorCodes.rpc.parse,e),invalidRequest:e=>s(o.errorCodes.rpc.invalidRequest,e),invalidParams:e=>s(o.errorCodes.rpc.invalidParams,e),methodNotFound:e=>s(o.errorCodes.rpc.methodNotFound,e),internal:e=>s(o.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");var t=e["code"];if(!Number.isInteger(t)||-32005<t||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return s(t,e)},invalidInput:e=>s(o.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>s(o.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>s(o.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>s(o.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>s(o.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>s(o.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>a(o.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>a(o.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>a(o.errorCodes.provider.unsupportedMethod,e),disconnected:e=>a(o.errorCodes.provider.disconnected,e),chainDisconnected:e=>a(o.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");var{code:e,message:t,data:r}=e;if(t&&"string"==typeof t)return new n.EthereumProviderError(e,t,r);throw new Error('"message" must be a nonempty string')}}}},{"./classes":51,"./error-constants":52,"./utils":55}],54:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getMessageFromCode=r.serializeError=r.EthereumProviderError=r.EthereumRpcError=r.ethErrors=r.errorCodes=void 0;const n=e("./classes"),i=(Object.defineProperty(r,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(r,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}}),e("./utils")),o=(Object.defineProperty(r,"serializeError",{enumerable:!0,get:function(){return i.serializeError}}),Object.defineProperty(r,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}}),e("./errors")),s=(Object.defineProperty(r,"ethErrors",{enumerable:!0,get:function(){return o.ethErrors}}),e("./error-constants"));Object.defineProperty(r,"errorCodes",{enumerable:!0,get:function(){return s.errorCodes}})},{"./classes":51,"./error-constants":52,"./errors":53,"./utils":55}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.serializeError=n.isValidCode=n.getMessageFromCode=n.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const i=e("./error-constants"),o=e("./classes");e=i.errorCodes.rpc.internal;const s={code:e,message:a(e)};function a(e,t="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){var r=e.toString();if(h(i.errorValues,r))return i.errorValues[r].message;if(c(e))return n.JSON_RPC_SERVER_ERROR_MESSAGE}return t}function u(e){if(!Number.isInteger(e))return!1;var t=e.toString();return!!i.errorValues[t]||!!c(e)}function c(e){return-32099<=e&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",n.getMessageFromCode=a,n.isValidCode=u,n.serializeError=function(e,{fallbackError:t=s,shouldIncludeStack:r=!1}={}){var n;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof o.EthereumRpcError)return e.serialize();const i={};return e&&"object"==typeof e&&!Array.isArray(e)&&h(e,"code")&&u(e.code)?(n=e,i.code=n.code,n.message&&"string"==typeof n.message?(i.message=n.message,h(n,"data")&&(i.data=n.data)):(i.message=a(i.code),i.data={originalError:l(e)})):(i.code=t.code,n=null==(n=e)?void 0:n.message,i.message=n&&"string"==typeof n?n:t.message,i.data={originalError:l(e)}),t=null==(n=e)?void 0:n.stack,r&&e&&t&&"string"==typeof t&&(i.stack=t),i}},{"./classes":51,"./error-constants":52}],56:[function(e,t,r){arguments[4][8][0].apply(r,arguments)},{dup:8}],57:[function(e,t,r){((t.exports=n).default=n).stable=i,n.stableStringify=i;var p="[...]",f="[Circular]",d=[],s=[];function a(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function n(e,t,r,n){var i;!function e(t,r,n,i,o,s,a){s+=1;var u;if("object"==typeof t&&null!==t){for(u=0;u<i.length;u++)if(i[u]===t)return void b(f,t,r,o);if(void 0!==a.depthLimit&&s>a.depthLimit)b(p,t,r,o);else if(void 0!==a.edgesLimit&&n+1>a.edgesLimit)b(p,t,r,o);else{if(i.push(t),Array.isArray(t))for(u=0;u<t.length;u++)e(t[u],u,u,i,t,s,a);else{var c=Object.keys(t);for(u=0;u<c.length;u++){var l=c[u];e(t[l],l,u,i,t,s,a)}}i.pop()}}}(e,"",0,[],void 0,0,n=void 0===n?a():n);try{i=0===s.length?JSON.stringify(e,t,r):JSON.stringify(e,u(t),r)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==d.length;){var o=d.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function b(e,t,r,n){var i=Object.getOwnPropertyDescriptor(n,r);void 0!==i.get?i.configurable?(Object.defineProperty(n,r,{value:e}),d.push([n,r,t,i])):s.push([t,r,e]):(n[r]=e,d.push([n,r,t]))}function y(e,t){return e<t?-1:t<e?1:0}function i(e,t,r,n){var i,n=function e(t,r,n,i,o,s,a){s+=1;var u;if("object"==typeof t&&null!==t){for(u=0;u<i.length;u++)if(i[u]===t)return void b(f,t,r,o);try{if("function"==typeof t.toJSON)return}catch(e){return}if(void 0!==a.depthLimit&&s>a.depthLimit)b(p,t,r,o);else if(void 0!==a.edgesLimit&&n+1>a.edgesLimit)b(p,t,r,o);else{if(i.push(t),Array.isArray(t))for(u=0;u<t.length;u++)e(t[u],u,u,i,t,s,a);else{var c={},l=Object.keys(t).sort(y);for(u=0;u<l.length;u++){var h=l[u];e(t[h],h,u,i,t,s,a),c[h]=t[h]}if(void 0===o)return c;d.push([o,r,t]),o[r]=c}i.pop()}}}(e,"",0,[],void 0,0,n=void 0===n?a():n)||e;try{i=0===s.length?JSON.stringify(n,t,r):JSON.stringify(n,u(t),r)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==d.length;){var o=d.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function u(i){return i=void 0!==i?i:function(e,t){return t},function(e,t){if(0<s.length)for(var r=0;r<s.length;r++){var n=s[r];if(n[1]===e&&n[0]===t){t=n[2],s.splice(r,1);break}}return i.call(this,e,t)}}},{}],58:[function(e,t,r){arguments[4][18][0].apply(r,arguments)},{dup:18}],59:[function(require,module,exports){!function(process,global){!function(){!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{},WEB_WORKER=(root.JS_SHA256_NO_WINDOW&&(WINDOW=!1),!WINDOW&&"object"==typeof self),NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node,COMMON_JS=(NODE_JS?root=global:WEB_WORKER&&(root=self),!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports),AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[],createOutputMethod=(!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer}),function(t,r){return function(e){return new Sha256(r,!0).update(e)[t]()}}),createMethod=function(e){var t=createOutputMethod("hex",e);(t=NODE_JS?nodeWrap(t,e):t).create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(r,n){return function(e,t){return new HmacSha256(e,n,!0).update(t)[r]()}},createHmacMethod=function(t){var r=createHmacOutputMethod("hex",t);r.create=function(e){return new HmacSha256(e,t)},r.update=function(e,t){return r.create(e).update(t)};for(var e=0;e<OUTPUT_TYPES.length;++e){var n=OUTPUT_TYPES[e];r[n]=createHmacOutputMethod(n,t)}return r};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var n=typeof e;if("string"==n){for(var i,o=[],s=e.length,a=0,u=0;u<s;++u)(i=e.charCodeAt(u))<128?o[a++]=i:(i<2048?o[a++]=192|i>>6:(i<55296||57344<=i?o[a++]=224|i>>12:(i=65536+((1023&i)<<10|1023&e.charCodeAt(++u)),o[a++]=240|i>>18,o[a++]=128|i>>12&63),o[a++]=128|i>>6&63),o[a++]=128|63&i);e=o}else{if("object"!=n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}64<e.length&&(e=new Sha256(t,!0).update(e).array());var c=[],l=[];for(u=0;u<64;++u){var h=e[u]||0;c[u]=92^h,l[u]=54^h}Sha256.call(this,t,r),this.update(l),this.oKeyPad=c,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!=r){if("object"!=r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var n,i,o=0,s=e.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=e[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(n=e.charCodeAt(o))<128?a[i>>2]|=n<<SHIFT[3&i++]:(n<2048?a[i>>2]|=(192|n>>6)<<SHIFT[3&i++]:(n<55296||57344<=n?a[i>>2]|=(224|n>>12)<<SHIFT[3&i++]:(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++]),a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++]),a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,64<=i?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){var e,t;this.finalized||(this.finalized=!0,e=this.blocks,t=this.lastByteIndex,e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],56<=t&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash())},Sha256.prototype.hash=function(){for(var e,t,r,n,i,o,s=this.h0,a=this.h1,u=this.h2,c=this.h3,l=this.h4,h=this.h5,p=this.h6,f=this.h7,d=this.blocks,b=16;b<64;++b)e=((t=d[b-15])>>>7|t<<25)^(t>>>18|t<<14)^t>>>3,t=d[b-2],d[b]=d[b-16]+e+d[b-7]+((t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)<<0;for(o=a&u,b=0;b<64;b+=4)this.first?(c=this.is224?(r=300032,f=(t=d[0]-1413257819)-150054599<<0,t+24177077<<0):(r=704751109,f=(t=d[0]-210244248)-1521486534<<0,t+143694565<<0),this.first=!1):(f=c+(t=f+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&h^~l&p)+K[b]+d[b])<<0,c=t+((e=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+((r=s&a)^s&u^o))<<0),p=u+(t=p+((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&l^~f&h)+K[b+1]+d[b+1])<<0,u=t+((e=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+((n=c&s)^c&a^r))<<0,h=a+(t=h+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&f^~p&l)+K[b+2]+d[b+2])<<0,a=t+((e=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10))+((i=u&c)^u&s^n))<<0,l=s+(t=l+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&f)+K[b+3]+d[b+3])<<0,s=t+((e=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((o=a&u)^a&c^i))<<0;this.h0=this.h0+s<<0,this.h1=this.h1+a<<0,this.h2=this.h2+u<<0,this.h3=this.h3+c<<0,this.h4=this.h4+l<<0,this.h5=this.h5+h<<0,this.h6=this.h6+p<<0,this.h7=this.h7+f<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,e=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(e+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),e},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,e=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||e.push(a>>24&255,a>>16&255,a>>8&255,255&a),e},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){var e;Sha256.prototype.finalize.call(this),this.inner&&(this.inner=!1,e=this.array(),Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this))};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define(function(){return exports}))}()}.call(this)}.call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:22}],60:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},n=(Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcEngine=void 0,n(e("@metamask/safe-event-emitter")));const s=e("eth-rpc-errors");class a extends n.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!=typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[i,o,s]=await a._runAllMiddleware(e,t,this._middleware);return o?(await a._runReturnHandlers(s),n(i)):r(async t=>{try{await a._runReturnHandlers(s)}catch(e){return t(e)}return t()})}catch(e){return n(e)}}}async _handleBatch(e,t){try{var r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(e,t)=>{r(t)})})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!=typeof e){const n=new s.EthereumRpcError(s.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(n,{id:void 0,jsonrpc:"2.0",error:n})}if("string"!=typeof e.method){const n=new s.EthereumRpcError(s.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(n,{id:e.id,jsonrpc:"2.0",error:n})}e=Object.assign({},e);const r={id:e.id,jsonrpc:e.jsonrpc};let n=null;try{await this._processRequest(e,r)}catch(e){n=e}return n&&(delete r.result,r.error||(r.error=s.serializeError(n))),t(n,r)}async _processRequest(e,t){var[r,n,i]=await a._runAllMiddleware(e,t,this._middleware);if(a._checkForCompletion(e,t,n),await a._runReturnHandlers(i),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let i=null,o=!1;for(const s of r)if([i,o]=await a._runMiddleware(e,t,s,n),o)break;return[i,o,n.reverse()]}static _runMiddleware(n,i,e,o){return new Promise(t=>{const r=e=>{e=e||i.error;e&&(i.error=s.serializeError(e)),t([e,!0])};try{e(n,i,e=>{i.error?r(i.error):(e&&("function"!=typeof e&&r(new s.EthereumRpcError(s.errorCodes.rpc.internal,'JsonRpcEngine: "next" return handlers must be functions. '+`Received "${typeof e}" for request:
`+u(n),{request:n})),o.push(e)),t([null,!1]))},r)}catch(e){r(e)}})}static async _runReturnHandlers(e){for(const n of e)await new Promise((t,r)=>{n(e=>e?r(e):t())})}static _checkForCompletion(e,t,r){if(!("result"in t||"error"in t))throw new s.EthereumRpcError(s.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
`+u(e),{request:e});if(!r)throw new s.EthereumRpcError(s.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
`+u(e),{request:e})}}function u(e){return JSON.stringify(e,null,2)}r.JsonRpcEngine=a},{"@metamask/safe-event-emitter":28,"eth-rpc-errors":54}],61:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createAsyncMiddleware=void 0,r.createAsyncMiddleware=function(u){return async(e,t,r,n)=>{let i;const o=new Promise(e=>{i=e});let s=null,a=!1;try{await u(e,t,async()=>{a=!0,r(e=>{s=e,i()}),await o}),a?(await o,s(null)):n(null)}catch(e){(s||n)(e)}}}},{}],62:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createScaffoldMiddleware=void 0,r.createScaffoldMiddleware=function(o){return(e,t,r,n)=>{const i=o[e.method];return void 0===i?r():"function"==typeof i?i(e,t,r,n):(t.result=i,n())}}},{}],63:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getUniqueId=void 0;const n=4294967295;let i=Math.floor(Math.random()*n);r.getUniqueId=function(){return i=(i+1)%n}},{}],64:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createIdRemapMiddleware=void 0;const s=e("./getUniqueId");r.createIdRemapMiddleware=function(){return(t,r,e,n)=>{const i=t.id;var o=s.getUniqueId();t.id=o,r.id=o,e(e=>{t.id=i,r.id=i,e()})}}},{"./getUniqueId":63}],65:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./idRemapMiddleware"),r),i(e("./createAsyncMiddleware"),r),i(e("./createScaffoldMiddleware"),r),i(e("./getUniqueId"),r),i(e("./JsonRpcEngine"),r),i(e("./mergeMiddleware"),r)},{"./JsonRpcEngine":60,"./createAsyncMiddleware":61,"./createScaffoldMiddleware":62,"./getUniqueId":63,"./idRemapMiddleware":64,"./mergeMiddleware":66}],66:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mergeMiddleware=void 0;const n=e("./JsonRpcEngine");r.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach(e=>t.push(e)),t.asMiddleware()}},{"./JsonRpcEngine":60}],67:[function(e,t,r){t.exports=function(e){var t=(e=e||{}).max||Number.MAX_SAFE_INTEGER,r=void 0!==e.start?e.start:Math.floor(Math.random()*t);return function(){return r%=t,r++}}},{}],68:[function(e,t,r){t.exports=e("./lib/api")(e("./lib/keccak"))},{"./lib/api":69,"./lib/keccak":73}],69:[function(e,t,r){const i=e("./keccak"),o=e("./shake");t.exports=function(e){const r=i(e),n=o(e);return function(e,t){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new r(1152,448,null,224,t);case"keccak256":return new r(1088,512,null,256,t);case"keccak384":return new r(832,768,null,384,t);case"keccak512":return new r(576,1024,null,512,t);case"sha3-224":return new r(1152,448,6,224,t);case"sha3-256":return new r(1088,512,6,256,t);case"sha3-384":return new r(832,768,6,384,t);case"sha3-512":return new r(576,1024,6,512,t);case"shake128":return new n(1344,256,31,t);case"shake256":return new n(1088,512,31,t);default:throw new Error("Invald algorithm: "+e)}}}},{"./keccak":70,"./shake":71}],70:[function(t,n,e){!function(r){!function(){const e=t("readable-stream")["Transform"];n.exports=o=>class t extends e{constructor(e,t,r,n,i){super(i),this._rate=e,this._capacity=t,this._delimitedSuffix=r,this._hashBitLength=n,this._options=i,this._state=new o,this._state.initialize(e,t),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(e){let t=null;try{this.push(this.digest())}catch(e){t=e}e(t)}update(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return r.isBuffer(e)||(e=r.from(e,t)),this._state.absorb(e),this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}}.call(this)}.call(this,t("buffer").Buffer)},{buffer:4,"readable-stream":91}],71:[function(t,n,e){!function(r){!function(){const e=t("readable-stream")["Transform"];n.exports=i=>class t extends e{constructor(e,t,r,n){super(n),this._rate=e,this._capacity=t,this._delimitedSuffix=r,this._options=n,this._state=new i,this._state.initialize(e,t),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(e){n=e}r(n)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return r.isBuffer(e)||(e=r.from(e,t)),this._state.absorb(e),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(e);return r=void 0!==t?r.toString(t):r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}}.call(this)}.call(this,t("buffer").Buffer)},{buffer:4,"readable-stream":91}],72:[function(e,t,r){const Z=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];r.p1600=function(t){for(let e=0;e<24;++e){var r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],o=t[3]^t[13]^t[23]^t[33]^t[43],s=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],c=t[7]^t[17]^t[27]^t[37]^t[47],l=t[8]^t[18]^t[28]^t[38]^t[48],h=t[9]^t[19]^t[29]^t[39]^t[49],p=l^(i<<1|o>>>31),f=h^(o<<1|i>>>31),B=t[0]^p,D=t[1]^f,d=t[10]^p,b=t[11]^f,y=t[20]^p,m=t[21]^f,g=t[30]^p,_=t[31]^f,v=t[40]^p,w=t[41]^f,S=t[2]^(p=r^(s<<1|a>>>31)),E=t[3]^(f=n^(a<<1|s>>>31)),k=t[12]^p,x=t[13]^f,M=t[22]^p,O=t[23]^f,A=t[32]^p,j=t[33]^f,R=t[42]^p,C=t[43]^f,i=t[4]^(p=i^(u<<1|c>>>31)),o=t[5]^(f=o^(c<<1|u>>>31)),P=t[14]^p,I=t[15]^f,T=t[24]^p,N=t[25]^f,L=t[34]^p,U=t[35]^f,F=t[44]^p,W=t[45]^f,s=t[6]^(p=s^(l<<1|h>>>31)),a=t[7]^(f=a^(h<<1|l>>>31)),h=t[16]^p,l=t[17]^f,H=t[26]^p,z=t[27]^f,q=t[36]^p,V=t[37]^f,G=t[46]^p,J=t[47]^f,u=t[8]^(p=u^(r<<1|n>>>31)),c=t[9]^(f=c^(n<<1|r>>>31)),n=t[18]^p,r=t[19]^f,Y=t[28]^p,$=t[29]^f,Q=t[38]^p,X=t[39]^f,p=t[48]^p,f=t[49]^f,K=b<<4|d>>>28,d=d<<4|b>>>28,b=y<<3|m>>>29,m=m<<3|y>>>29,y=_<<9|g>>>23,g=g<<9|_>>>23,_=v<<18|w>>>14,w=w<<18|v>>>14,v=S<<1|E>>>31,E=E<<1|S>>>31,S=x<<12|k>>>20,k=k<<12|x>>>20,x=M<<10|O>>>22,O=O<<10|M>>>22,M=j<<13|A>>>19,A=A<<13|j>>>19,j=R<<2|C>>>30,C=C<<2|R>>>30,R=o<<30|i>>>2,i=i<<30|o>>>2,o=P<<6|I>>>26,I=I<<6|P>>>26,P=N<<11|T>>>21,T=T<<11|N>>>21,N=L<<15|U>>>17,U=U<<15|L>>>17,L=W<<29|F>>>3,F=F<<29|W>>>3,W=s<<28|a>>>4,a=a<<28|s>>>4,s=l<<23|h>>>9,h=h<<23|l>>>9,l=H<<25|z>>>7,z=z<<25|H>>>7,H=q<<21|V>>>11,V=V<<21|q>>>11,q=J<<24|G>>>8,G=G<<24|J>>>8,J=u<<27|c>>>5,c=c<<27|u>>>5,u=n<<20|r>>>12,r=r<<20|n>>>12,n=$<<7|Y>>>25,Y=Y<<7|$>>>25,$=Q<<8|X>>>24,X=X<<8|Q>>>24,Q=p<<14|f>>>18,f=f<<14|p>>>18;t[0]=B^~S&P,t[1]=D^~k&T,t[10]=W^~u&b,t[11]=a^~r&m,t[20]=v^~o&l,t[21]=E^~I&z,t[30]=J^~K&x,t[31]=c^~d&O,t[40]=R^~s&n,t[41]=i^~h&Y,t[2]=S^~P&H,t[3]=k^~T&V,t[12]=u^~b&M,t[13]=r^~m&A,t[22]=o^~l&$,t[23]=I^~z&X,t[32]=K^~x&N,t[33]=d^~O&U,t[42]=s^~n&y,t[43]=h^~Y&g,t[4]=P^~H&Q,t[5]=T^~V&f,t[14]=b^~M&L,t[15]=m^~A&F,t[24]=l^~$&_,t[25]=z^~X&w,t[34]=x^~N&q,t[35]=O^~U&G,t[44]=n^~y&j,t[45]=Y^~g&C,t[6]=H^~Q&B,t[7]=V^~f&D,t[16]=M^~L&W,t[17]=A^~F&a,t[26]=$^~_&v,t[27]=X^~w&E,t[36]=N^~q&J,t[37]=U^~G&c,t[46]=y^~j&R,t[47]=g^~C&i,t[8]=Q^~B&S,t[9]=f^~D&k,t[18]=L^~W&u,t[19]=F^~a&r,t[28]=_^~v&o,t[29]=w^~E&I,t[38]=q^~J&K,t[39]=G^~c&d,t[48]=j^~R&s,t[49]=C^~i&h,t[0]^=Z[2*e],t[1]^=Z[2*e+1]}}},{}],73:[function(t,r,e){!function(i){!function(){const n=t("./keccak-state-unroll");function e(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}e.prototype.initialize=function(e,t){for(let e=0;e<50;++e)this.state[e]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},e.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0)},e.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!=(128&e)&&this.count===this.blockSize-1&&n.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,n.p1600(this.state),this.count=0,this.squeezing=!0},e.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const r=i.alloc(t);for(let e=0;e<t;++e)r[e]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(n.p1600(this.state),this.count=0);return r},e.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing},r.exports=e}.call(this)}.call(this,t("buffer").Buffer)},{"./keccak-state-unroll":72,buffer:4}],74:[function(e,t,r){"use strict";const o=(r,o)=>function(){const e=o.promiseModule,t=new Array(arguments.length);for(let e=0;e<arguments.length;e++)t[e]=arguments[e];return new e((n,i)=>{o.errorFirst?t.push(function(e,t){if(o.multiArgs){const r=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)r[e-1]=arguments[e];e?(r.unshift(e),i(r)):n(r)}else e?i(e):n(t)}):t.push(function(e){if(o.multiArgs){const t=new Array(arguments.length-1);for(let e=0;e<arguments.length;e++)t[e]=arguments[e];n(t)}else n(e)}),r.apply(this,t)})};t.exports=(e,r)=>{r=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},r);let t;t="function"==typeof e?function(){return(r.excludeMain?e:o(e,r)).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const i in e){var n=e[i];t[i]="function"==typeof n&&(t=>{var e=e=>"string"==typeof e?t===e:e.test(t);return r.include?r.include.some(e):!r.exclude.some(e)})(i)?o(n,r):n}return t}},{}],75:[function(e,t,r){var E,k,o,n,i,s,a,u,x={},_=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function M(e,t){for(var r in t)e[r]=t[r];return e}function O(e){var t=e.parentNode;t&&t.removeChild(e)}function l(e,t,r){var n,i,o,s={};for(o in t)"key"==o?n=t[o]:"ref"==o?i=t[o]:s[o]=t[o];if(2<arguments.length&&(s.children=3<arguments.length?E.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===s[o]&&(s[o]=e.defaultProps[o]);return v(e,s,n,i,null)}function v(e,t,r,n,i){e={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++o:i};return null==i&&null!=k.vnode&&k.vnode(e),e}function A(e){return e.children}function j(e,t){this.props=e,this.context=t}function R(e,t){if(null==t)return e.__?R(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?R(e):null}function h(e){(!e.__d&&(e.__d=!0)&&i.push(e)&&!p.__r++||a!==k.debounceRendering)&&((a=k.debounceRendering)||s)(p)}function p(){for(var e;p.__r=i.length;)e=i.sort(function(e,t){return e.__v.__b-t.__v.__b}),i=[],e.some(function(e){var t,r,n,i,o;e.__d&&(i=(n=(e=e).__v).__e,(o=e.__P)&&(t=[],(r=M({},n)).__v=n.__v+1,S(o,n,r,e.__n,void 0!==o.ownerSVGElement,null!=n.__h?[i]:null,t,null==i?R(n):i,n.__h),y(t,n),n.__e!=i&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n)))})}function C(e,t,r,n,i,o,s,a,u,c){var l,h,p,f,d,b,y,m=n&&n.__k||_,g=m.length;for(r.__k=[],l=0;l<t.length;l++)if(null!=(f=r.__k[l]=null==(f=t[l])||"boolean"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?v(null,f,null,null,f):Array.isArray(f)?v(A,{children:f},null,null,null):0<f.__b?v(f.type,f.props,f.key,null,f.__v):f)){if(f.__=r,f.__b=r.__b+1,null===(p=m[l])||p&&f.key==p.key&&f.type===p.type)m[l]=void 0;else for(h=0;h<g;h++){if((p=m[h])&&f.key==p.key&&f.type===p.type){m[h]=void 0;break}p=null}S(e,f,p=p||x,i,o,s,a,u,c),d=f.__e,(h=f.ref)&&p.ref!=h&&(y=y||[],p.ref&&y.push(p.ref,null,f),y.push(h,f.__c||d,f)),null!=d?(null==b&&(b=d),"function"==typeof f.type&&f.__k===p.__k?f.__d=u=function e(t,r,n){for(var i,o=t.__k,s=0;o&&s<o.length;s++)(i=o[s])&&(i.__=t,r="function"==typeof i.type?e(i,r,n):w(n,i,i,o,i.__e,r));return r}(f,u,e):u=w(e,f,p,m,d,u),"function"==typeof r.type&&(r.__d=u)):u&&p.__e==u&&u.parentNode!=e&&(u=R(p))}for(r.__e=b,l=g;l--;)null!=m[l]&&("function"==typeof r.type&&null!=m[l].__e&&m[l].__e==r.__d&&(r.__d=R(n,l+1)),function e(t,r,n){var i,o;if(k.unmount&&k.unmount(t),!(i=t.ref)||i.current&&i.current!==t.__e||I(i,null,r),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(t){k.__e(t,r)}i.base=i.__P=null}if(i=t.__k)for(o=0;o<i.length;o++)i[o]&&e(i[o],r,"function"!=typeof t.type);n||null==t.__e||O(t.__e),t.__e=t.__d=void 0}(m[l],m[l]));if(y)for(l=0;l<y.length;l++)I(y[l],y[++l],y[++l])}function w(e,t,r,n,i,o){var s,a,u;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==r||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),s=null;else{for(a=o,u=0;(a=a.nextSibling)&&u<n.length;u+=2)if(a==i)break e;e.insertBefore(i,o),s=o}return void 0!==s?s:i.nextSibling}function f(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||c.test(t)?r:r+"px"}function P(e,t,r,n,i){var o;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||f(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||f(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=(t.toLowerCase()in e?t.toLowerCase():t).slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n||e.addEventListener(t,o?b:d,o):e.removeEventListener(t,o?b:d,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"!=typeof r&&(null!=r&&(!1!==r||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,r):e.removeAttribute(t))}}function d(e){this.l[e.type+!1](k.event?k.event(e):e)}function b(e){this.l[e.type+!0](k.event?k.event(e):e)}function S(e,t,r,n,i,o,s,a,u){var c,l,h,p,f,d,b,y,m,g,_,v,w,S=t.type;if(void 0===t.constructor){null!=r.__h&&(u=r.__h,a=t.__e=r.__e,t.__h=null,o=[a]),(c=k.__b)&&c(t);try{e:if("function"==typeof S){if(y=t.props,m=(c=S.contextType)&&n[c.__c],g=c?m?m.props.value:c.__:n,r.__c?b=(l=t.__c=r.__c).__=l.__E:("prototype"in S&&S.prototype.render?t.__c=l=new S(y,g):(t.__c=l=new j(y,g),l.constructor=S,l.render=T),m&&m.sub(l),l.props=y,l.state||(l.state={}),l.context=g,l.__n=n,h=l.__d=!0,l.__h=[]),null==l.__s&&(l.__s=l.state),null!=S.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=M({},l.__s)),M(l.__s,S.getDerivedStateFromProps(y,l.__s))),p=l.props,f=l.state,h)null==S.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==S.getDerivedStateFromProps&&y!==p&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(y,g),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(y,l.__s,g)||t.__v===r.__v){l.props=y,l.state=l.__s,t.__v!==r.__v&&(l.__d=!1),(l.__v=t).__e=r.__e,t.__k=r.__k,t.__k.forEach(function(e){e&&(e.__=t)}),l.__h.length&&s.push(l);break e}null!=l.componentWillUpdate&&l.componentWillUpdate(y,l.__s,g),null!=l.componentDidUpdate&&l.__h.push(function(){l.componentDidUpdate(p,f,d)})}if(l.context=g,l.props=y,l.__v=t,l.__P=e,_=k.__r,v=0,"prototype"in S&&S.prototype.render)l.state=l.__s,l.__d=!1,_&&_(t),c=l.render(l.props,l.state,l.context);else for(;l.__d=!1,_&&_(t),c=l.render(l.props,l.state,l.context),l.state=l.__s,l.__d&&++v<25;);l.state=l.__s,null!=l.getChildContext&&(n=M(M({},n),l.getChildContext())),h||null==l.getSnapshotBeforeUpdate||(d=l.getSnapshotBeforeUpdate(p,f)),w=null!=c&&c.type===A&&null==c.key?c.props.children:c,C(e,Array.isArray(w)?w:[w],t,r,n,i,o,s,a,u),l.base=t.__e,t.__h=null,l.__h.length&&s.push(l),b&&(l.__E=l.__=null),l.__e=!1}else null==o&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,i,o,s,a){var u,c,l,h=r.props,p=t.props,f=t.type,d=0;if("svg"===f&&(i=!0),null!=o)for(;d<o.length;d++)if((u=o[d])&&"setAttribute"in u==!!f&&(f?u.localName===f:3===u.nodeType)){e=u,o[d]=null;break}if(null==e){if(null===f)return document.createTextNode(p);e=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,p.is&&p),o=null,a=!1}if(null===f)h===p||a&&e.data===p||(e.data=p);else{if(o=o&&E.call(e.childNodes),c=(h=r.props||x).dangerouslySetInnerHTML,l=p.dangerouslySetInnerHTML,!a){if(null!=o)for(h={},d=0;d<e.attributes.length;d++)h[e.attributes[d].name]=e.attributes[d].value;!l&&!c||l&&(c&&l.__html==c.__html||l.__html===e.innerHTML)||(e.innerHTML=l&&l.__html||"")}if(function(e,t,r,n,i){for(var o in r)"children"===o||"key"===o||o in t||P(e,o,null,r[o],n);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||r[o]===t[o]||P(e,o,t[o],r[o],n)}(e,p,h,i,a),l)t.__k=[];else if(d=t.props.children,C(e,Array.isArray(d)?d:[d],t,r,n,i&&"foreignObject"!==f,o,s,o?o[0]:r.__k&&R(r,0),a),null!=o)for(d=o.length;d--;)null!=o[d]&&O(o[d]);a||("value"in p&&void 0!==(d=p.value)&&(d!==e.value||"progress"===f&&!d||"option"===f&&d!==h.value)&&P(e,"value",d,h.value,!1),"checked"in p&&void 0!==(d=p.checked)&&d!==e.checked&&P(e,"checked",d,h.checked,!1))}return e}(r.__e,t,r,n,i,o,s,u);(c=k.diffed)&&c(t)}catch(e){t.__v=null,!u&&null==o||(t.__e=a,t.__h=!!u,o[o.indexOf(a)]=null),k.__e(e,t,r)}}}function y(e,t){k.__c&&k.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){k.__e(e,t.__v)}})}function I(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){k.__e(e,r)}}function T(e,t,r){return this.constructor(e,r)}function m(e,t,r){var n,i,o;k.__&&k.__(e,t),i=(n="function"==typeof r)?null:r&&r.__k||t.__k,o=[],S(t,e=(!n&&r||t).__k=l(A,null,[e]),i||x,x,void 0!==t.ownerSVGElement,!n&&r?[r]:!i&&t.firstChild?E.call(t.childNodes):null,o,!n&&r?r:i?i.__e:t.firstChild,n),y(o,e)}E=_.slice,k={__e:function(e,t,r,n){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},o=0,n=function(e){return null!=e&&void 0===e.constructor},j.prototype.setState=function(e,t){var r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=M({},this.state);(e="function"==typeof e?e(M({},r),this.props):e)&&M(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),h(this))},j.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),h(this))},j.prototype.render=A,i=[],s="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,p.__r=0,u=0,r.render=m,r.hydrate=function e(t,r){m(t,r,e)},r.createElement=l,r.h=l,r.Fragment=A,r.createRef=function(){return{current:null}},r.isValidElement=n,r.Component=j,r.cloneElement=function(e,t,r){var n,i,o,s=M({},e.props);for(o in t)"key"==o?n=t[o]:"ref"==o?i=t[o]:s[o]=t[o];return 2<arguments.length&&(s.children=3<arguments.length?E.call(arguments,2):r),v(e.type,s,n||e.key,i||e.ref,null)},r.createContext=function(e,n){e={__c:n="__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,t;return this.getChildContext||(r=[],((t={})[n]=this).getChildContext=function(){return t},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&r.some(h)},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return e.Provider.__=e.Consumer.contextType=e},r.toChildArray=function t(e,r){return r=r||[],null!=e&&"boolean"!=typeof e&&(Array.isArray(e)?e.some(function(e){t(e,r)}):r.push(e)),r},r.options=k},{}],76:[function(e,t,r){var i,o,n,s,a=e("preact"),u=0,c=[],l=a.options.__b,h=a.options.__r,p=a.options.diffed,f=a.options.__c,d=a.options.unmount;function b(e,t){a.options.__h&&a.options.__h(o,e,u||t),u=0;t=o.__H||(o.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function y(e){return u=1,m(x,e)}function m(e,t,r){var n=b(i++,2);return n.t=e,n.__c||(n.__=[r?r(t):x(void 0,t),function(e){e=n.t(n.__[0],e);n.__[0]!==e&&(n.__=[e,n.__[1]],n.__c.setState({}))}],n.__c=o),n.__}function g(e,t){var r=b(i++,4);!a.options.__s&&k(r.__H,t)&&(r.__=e,r.u=t,o.__h.push(r))}function _(e,t){var r=b(i++,7);return k(r.__H,t)?(r.o=e(),r.u=t,r.__h=e,r.o):r.__}function v(){for(var t;t=c.shift();)if(t.__P)try{t.__H.__h.forEach(S),t.__H.__h.forEach(E),t.__H.__h=[]}catch(e){t.__H.__h=[],a.options.__e(e,t.__v)}}a.options.__b=function(e){o=null,l&&l(e)},a.options.__r=function(e){h&&h(e),i=0;e=(o=e.__c).__H;e&&(n===o?(e.__h=[],o.__h=[],e.__.forEach(function(e){e.o=e.u=void 0})):(e.__.forEach(function(e){e.u&&(e.__H=e.u),e.o&&(e.__=e.o),e.o=e.u=void 0}),e.__h.forEach(S),e.__h.forEach(E),e.__h=[])),n=o},a.options.diffed=function(e){p&&p(e);e=e.__c;e&&e.__H&&e.__H.__h.length&&(1!==c.push(e)&&s===a.options.requestAnimationFrame||((s=a.options.requestAnimationFrame)||function(e){function t(){clearTimeout(n),w&&cancelAnimationFrame(r),setTimeout(e)}var r,n=setTimeout(t,100);w&&(r=requestAnimationFrame(t))})(v)),n=o=null},a.options.__c=function(e,r){r.some(function(t){try{t.__H&&t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.o&&(e.__=e.o),e.o=e.u=void 0}),t.__h.forEach(S),t.__h=t.__h.filter(function(e){return!e.__||E(e)})}catch(e){r.some(function(e){e.__h&&(e.__h=[])}),r=[],a.options.__e(e,t.__v)}}),f&&f(e,r)},a.options.unmount=function(e){d&&d(e);var t,e=e.__c;e&&e.__H&&(e.__H.__.forEach(function(e){try{S(e)}catch(e){t=e}}),t&&a.options.__e(t,e.__v))};var w="function"==typeof requestAnimationFrame;function S(e){var t=o,r=e.__c;"function"==typeof r&&(e.__c=void 0,r()),o=t}function E(e){var t=o;e.__c=e.__(),o=t}function k(r,e){return!r||r.length!==e.length||e.some(function(e,t){return e!==r[t]})}function x(e,t){return"function"==typeof t?t(e):t}r.useState=y,r.useReducer=m,r.useEffect=function(e,t){var r=b(i++,3);!a.options.__s&&k(r.__H,t)&&(r.__=e,r.u=t,o.__H.__h.push(r))},r.useLayoutEffect=g,r.useRef=function(e){return u=5,_(function(){return{current:e}},[])},r.useImperativeHandle=function(e,t,r){u=6,g(function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},null==r?r:r.concat(e))},r.useMemo=_,r.useCallback=function(e,t){return u=8,_(function(){return e},t)},r.useContext=function(e){var t=o.context[e.__c],r=b(i++,9);return r.c=e,t?(null==r.__&&(r.__=!0,t.sub(o)),t.props.value):e.__},r.useDebugValue=function(e,t){a.options.useDebugValue&&a.options.useDebugValue(t?t(e):e)},r.useErrorBoundary=function(e){var t=b(i++,10),r=y();return t.__=e,o.componentDidCatch||(o.componentDidCatch=function(e){t.__&&t.__(e),r[1](e)}),[r[0],function(){r[1](void 0)}]}},{preact:75}],77:[function(e,t,r){"use strict";var a={};function n(e,n,t){t=t||Error;r=i=t,(o=s).prototype=Object.create(r.prototype),(o.prototype.constructor=o).__proto__=r;var i,r,o=s;function s(e,t,r){return i.call(this,(e=e,t=t,r=r,"string"==typeof n?n:n(e,t,r)))||this}o.prototype.name=t.name,o.prototype.code=e,a[e]=o}function u(e,t){var r;return Array.isArray(e)?(r=e.length,e=e.map(function(e){return String(e)}),2<r?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])):"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(e,t,r){var n,i,o,s,a;return"string"==typeof t&&(s="not ",t.substr(!o||o<0?0:+o,s.length)===s)?(n="must not be",t=t.replace(/^not /,"")):n="must be",o=e,s=" argument",(void 0===a||a>o.length)&&(a=o.length),o=o.substring(a-s.length,a)===s?"The ".concat(e," ").concat(n," ").concat(u(t,"type")):(a=(i="number"!=typeof i?0:i)+(o=".").length>(a=e).length||-1===a.indexOf(o,i)?"argument":"property",'The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(u(t,"type"))),o+=". Received type ".concat(typeof r)},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=a},{}],78:[function(l,h,e){!function(c){!function(){"use strict";var e=Object.keys||function(e){var t,r=[];for(t in e)r.push(t);return r},t=(h.exports=s,l("./_stream_readable")),r=l("./_stream_writable");l("inherits")(s,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var o=n[i];s.prototype[o]||(s.prototype[o]=r.prototype[o])}function s(e){if(!(this instanceof s))return new s(e);t.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||c.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}.call(this)}.call(this,l("_process"))},{"./_stream_readable":80,"./_stream_writable":82,_process:22,inherits:58}],79:[function(e,t,r){"use strict";t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":81,inherits:58}],80:[function(U,F,e){!function(B,D){!function(){"use strict";function d(e,t){return e.listeners(t).length}(F.exports=v).ReadableState=_,U("events").EventEmitter;var n,i=U("./internal/streams/stream"),l=U("buffer").Buffer,h=D.Uint8Array||function(){};var o,e,r,t=U("util"),b=t&&t.debuglog?t.debuglog("stream"):function(){},s=U("./internal/streams/buffer_list"),t=U("./internal/streams/destroy"),a=U("./internal/streams/state").getHighWaterMark,u=U("../errors").codes,p=u.ERR_INVALID_ARG_TYPE,f=u.ERR_STREAM_PUSH_AFTER_EOF,c=u.ERR_METHOD_NOT_IMPLEMENTED,y=u.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,m=(U("inherits")(v,i),t.errorOrDestroy),g=["error","close","destroy","pause","resume"];function _(e,t,r){n=n||U("./_stream_duplex"),"boolean"!=typeof r&&(r=t instanceof n),this.objectMode=!!(e=e||{}).objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=a(this,e,"readableHighWaterMark",r),this.buffer=new s,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(o=o||U("string_decoder/").StringDecoder,this.decoder=new o(e.encoding),this.encoding=e.encoding)}function v(e){if(n=n||U("./_stream_duplex"),!(this instanceof v))return new v(e);var t=this instanceof n;this._readableState=new _(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),i.call(this)}function w(e,t,r,n,i){b("readableAddChunk",t);var o,s,a,u,c=e._readableState;if(null===t)c.reading=!1,s=e,a=c,b("onEofChunk"),a.ended||(a.decoder&&(u=a.decoder.end())&&u.length&&(a.buffer.push(u),a.length+=a.objectMode?1:u.length),a.ended=!0,a.sync?x(s):(a.needReadable=!1,a.emittedReadable||(a.emittedReadable=!0,M(s))));else if(o=i?o:function(e,t){var r;!function(e){return l.isBuffer(e)||e instanceof h}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(r=new p("chunk",["string","Buffer","Uint8Array"],t));return r}(c,t))m(e,o);else if(c.objectMode||t&&0<t.length)if("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===l.prototype||(u=t,t=l.from(u)),n)c.endEmitted?m(e,new y):S(e,c,t,!0);else if(c.ended)m(e,new f);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?S(e,c,t,!1):O(e,c)):S(e,c,t,!1)}else n||(c.reading=!1,O(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function S(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),O(e,t)}Object.defineProperty(v.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=t.destroy,v.prototype._undestroy=t.undestroy,v.prototype._destroy=function(e,t){t(e)},v.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},v.prototype.unshift=function(e){return w(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){for(var t=new(o=o||U("string_decoder/").StringDecoder)(e),r=(this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding,this._readableState.buffer.head),n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var E=1073741824;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?(t.flowing&&t.length?t.buffer.head.data:t).length:(e>t.highWaterMark&&(t.highWaterMark=(E<=(r=e)?r=E:(r--,r=(r=(r=(r=(r|=r>>>1)|r>>>2)|r>>>4)|r>>>8)|r>>>16,r++),r)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0));var r}function x(e){var t=e._readableState;b("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(b("emitReadable",t.flowing),t.emittedReadable=!0,B.nextTick(M,e))}function M(e){var t=e._readableState;b("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,P(e)}function O(e,t){t.readingMore||(t.readingMore=!0,B.nextTick(A,e,t))}function A(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(b("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=0<e.listenerCount("readable"),t.resumeScheduled&&!t.paused?t.flowing=!0:0<e.listenerCount("data")&&e.resume()}function R(e){b("readable nexttick read 0"),e.read(0)}function C(e,t){b("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(b("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function T(e){var t=e._readableState;b("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,B.nextTick(L,t,e))}function L(e,t){b("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy&&(!(e=t._writableState)||e.autoDestroy&&e.finished)&&t.destroy())}function N(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}v.prototype.read=function(e){b("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:0<t.length)||t.ended))return b("read: emitReadable",t.length,t.ended),(0===t.length&&t.ended?T:x)(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&T(this),null;var n=t.needReadable;return b("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&b("length less than watermark",n=!0),t.ended||t.reading?b("reading or ended",n=!1):n&&(b("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(r,t))),null===(n=0<e?I(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&T(this)),null!==n&&this.emit("data",n),n},v.prototype._read=function(e){m(this,new c("_read()"))},v.prototype.pipe=function(r,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r)}i.pipesCount+=1,b("pipe count=%d opts=%j",i.pipesCount,e);e=(!e||!1!==e.end)&&r!==B.stdout&&r!==B.stderr?s:f;function o(e,t){b("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,b("cleanup"),r.removeListener("close",h),r.removeListener("finish",p),r.removeListener("drain",a),r.removeListener("error",l),r.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",f),n.removeListener("data",c),u=!0,!i.awaitDrain||r._writableState&&!r._writableState.needDrain||a())}function s(){b("onend"),r.end()}i.endEmitted?B.nextTick(e):n.once("end",e),r.on("unpipe",o);t=n;var t,a=function(){var e=t._readableState;b("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&d(t,"data")&&(e.flowing=!0,P(t))},u=(r.on("drain",a),!1);function c(e){b("ondata");e=r.write(e);b("dest.write",e),!1===e&&((1===i.pipesCount&&i.pipes===r||1<i.pipesCount&&-1!==N(i.pipes,r))&&!u&&(b("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function l(e){b("onerror",e),f(),r.removeListener("error",l),0===d(r,"error")&&m(r,e)}function h(){r.removeListener("finish",p),f()}function p(){b("onfinish"),r.removeListener("close",h),f()}function f(){b("unpipe"),n.unpipe(r)}return n.on("data",c),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(r,"error",l),r.once("close",h),r.once("finish",p),r.emit("pipe",n),i.flowing||(b("pipe resume"),n.resume()),r},v.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e=e||t.pipes,t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=N(t.pipes,e);return-1===s||(t.pipes.splice(s,1),--t.pipesCount,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},v.prototype.addListener=v.prototype.on=function(e,t){var t=i.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=0<this.listenerCount("readable"),!1!==r.flowing&&this.resume()):"readable"!==e||r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,b("on readable",r.length,r.reading),r.length?x(this):r.reading||B.nextTick(R,this)),t},v.prototype.removeListener=function(e,t){t=i.prototype.removeListener.call(this,e,t);return"readable"===e&&B.nextTick(j,this),t},v.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||B.nextTick(j,this),t},v.prototype.resume=function(){var e,t,r=this._readableState;return r.flowing||(b("resume"),r.flowing=!r.readableListening,e=this,(t=r).resumeScheduled||(t.resumeScheduled=!0,B.nextTick(C,e,t))),r.paused=!1,this},v.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},v.prototype.wrap=function(t){var e,r=this,n=this._readableState,i=!1;for(e in t.on("end",function(){var e;b("wrapped end"),n.decoder&&!n.ended&&(e=n.decoder.end())&&e.length&&r.push(e),r.push(null)}),t.on("data",function(e){b("wrapped data"),n.decoder&&(e=n.decoder.write(e)),n.objectMode&&null==e||(n.objectMode||e&&e.length)&&!r.push(e)&&(i=!0,t.pause())}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){b("wrapped _read",e),i&&(i=!1,t.resume())},this},"function"==typeof Symbol&&(v.prototype[Symbol.asyncIterator]=function(){return(e=void 0===e?U("./internal/streams/async_iterator"):e)(this)}),Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(v.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(v.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),v._fromList=I,Object.defineProperty(v.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(v.from=function(e,t){return(r=void 0===r?U("./internal/streams/from"):r)(v,e,t)})}.call(this)}.call(this,U("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":77,"./_stream_duplex":78,"./internal/streams/async_iterator":83,"./internal/streams/buffer_list":84,"./internal/streams/destroy":85,"./internal/streams/from":87,"./internal/streams/state":89,"./internal/streams/stream":90,_process:22,buffer:4,events:8,inherits:58,"string_decoder/":293,util:3}],81:[function(e,t,r){"use strict";t.exports=u;var t=e("../errors").codes,n=t.ERR_METHOD_NOT_IMPLEMENTED,i=t.ERR_MULTIPLE_CALLBACK,o=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=t.ERR_TRANSFORM_WITH_LENGTH_0,a=e("./_stream_duplex");function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState,n=(r.transforming=!1,r.writecb);if(null===n)return this.emit("error",new i);r.writechunk=null,(r.writecb=null)!=t&&this.push(t),n(e),(r=this._readableState).reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",c)}function c(){var r=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush(function(e,t){l(r,e,t)})}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;e.push(null)}e("inherits")(u,a),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new n("_transform()"))},u.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r,n.writechunk=e,n.writeencoding=t,n.transforming||(r=this._readableState,(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark))},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){a.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":77,"./_stream_duplex":78,inherits:58}],82:[function(R,C,e){!function(A,j){!function(){"use strict";function h(o){var s=this;this.next=null,this.entry=null,this.finish=function(){var e=s,t=o,r=void 0,n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}}(C.exports=w).WritableState=v;var r,e={deprecate:R("util-deprecate")},n=R("./internal/streams/stream"),p=R("buffer").Buffer,f=j.Uint8Array||function(){};var i,t=R("./internal/streams/destroy"),o=R("./internal/streams/state").getHighWaterMark,s=R("../errors").codes,d=s.ERR_INVALID_ARG_TYPE,a=s.ERR_METHOD_NOT_IMPLEMENTED,b=s.ERR_MULTIPLE_CALLBACK,u=s.ERR_STREAM_CANNOT_PIPE,c=s.ERR_STREAM_DESTROYED,y=s.ERR_STREAM_NULL_VALUES,m=s.ERR_STREAM_WRITE_AFTER_END,l=s.ERR_UNKNOWN_ENCODING,g=t.errorOrDestroy;function _(){}function v(e,l,t){r=r||R("./_stream_duplex"),"boolean"!=typeof t&&(t=l instanceof r),this.objectMode=!!(e=e||{}).objectMode,t&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=o(this,e,"writableHighWaterMark",t),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;t=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!t,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){var t=l,r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new b;var o,s,a,u,c=r;c.writing=!1,c.writecb=null,c.length-=c.writelen,c.writelen=0,e?(c=t,s=n,a=e,u=i,--(o=r).pendingcb,s?(A.nextTick(u,a),A.nextTick(O,c,o),c._writableState.errorEmitted=!0,g(c,a)):(u(a),c._writableState.errorEmitted=!0,g(c,a),O(c,o))):((e=x(r)||t.destroyed)||r.corked||r.bufferProcessing||!r.bufferedRequest||k(t,r),n?A.nextTick(E,t,r,e,i):E(t,r,e,i))},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}R("inherits")(w,n),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};try{Object.defineProperty(v.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}function w(e){var t=this instanceof(r=r||R("./_stream_duplex"));if(!t&&!i.call(w,this))return new w(e);this._writableState=new v(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),n.call(this)}function S(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new c("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,r,n){var i;r||(r=e,0===(i=t).length&&i.needDrain&&(i.needDrain=!1,r.emit("drain"))),t.pendingcb--,n(),O(e,t)}function k(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){for(var n=t.bufferedRequestCount,i=new Array(n),n=t.corkedRequestsFree,o=(n.entry=r,0),s=!0;r;)(i[o]=r).isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,S(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new h(t),t.bufferedRequestCount=0}else{for(;r;){var a=r.chunk,u=r.encoding,c=r.callback;if(S(e,t,!1,t.objectMode?1:a.length,a,u,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function M(t,r){t._final(function(e){r.pendingcb--,e&&g(t,e),r.prefinished=!0,t.emit("prefinish"),O(t,r)})}function O(e,t){var r,n,i=x(t);return i&&(r=e,(n=t).prefinished||n.finalCalled||("function"!=typeof r._final||n.destroyed?(n.prefinished=!0,r.emit("prefinish")):(n.pendingcb++,n.finalCalled=!0,A.nextTick(M,r,n))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy&&(!(r=e._readableState)||r.autoDestroy&&r.endEmitted)&&e.destroy())),i}"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===w&&(e&&e._writableState instanceof v)}})):i=function(e){return e instanceof this},w.prototype.pipe=function(){g(this,new u)},w.prototype.write=function(e,t,r){var n,i,o,s,a,u,c=this._writableState,l=!1,h=!c.objectMode&&(h=e,p.isBuffer(h)||h instanceof f);return h&&!p.isBuffer(e)&&(s=e,e=p.from(s)),"function"==typeof t&&(r=t,t=null),t=h?"buffer":t||c.defaultEncoding,"function"!=typeof r&&(r=_),c.ending?(s=this,a=r,u=new m,g(s,u),A.nextTick(a,u)):!h&&(a=this,u=c,i=r,null===(n=e)?o=new y:"string"==typeof n||u.objectMode||(o=new d("chunk",["string","Buffer"],n)),o&&(g(a,o),!void A.nextTick(i,o)))||(c.pendingcb++,l=function(e,t,r,n,i,o){r||(s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=p.from(t,r));return t}(t,n,i),n!==s&&(r=!0,i="buffer",n=s));var s=t.objectMode?1:n.length,a=(t.length+=s,t.length<t.highWaterMark);a||(t.needDrain=!0);{var u;t.writing||t.corked?(u=t.lastBufferedRequest,t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1):S(e,t,!1,s,n,i,o)}return a}(this,c,h,e,t,r)),l},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||k(this,e))},w.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase()))return this._writableState.defaultEncoding=e,this;throw new l(e)},Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),w.prototype._write=function(e,t,r){r(new a("_write()"))},w.prototype._writev=null,w.prototype.end=function(e,t,r){var n=this._writableState;if("function"==typeof e?(r=e,t=e=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending){e=this,t=n,n=r;t.ending=!0,O(e,t),n&&(t.finished?A.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}return this},Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),w.prototype.destroy=t.destroy,w.prototype._undestroy=t.undestroy,w.prototype._destroy=function(e,t){t(e)}}.call(this)}.call(this,R("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":77,"./_stream_duplex":78,"./internal/streams/destroy":85,"./internal/streams/state":89,"./internal/streams/stream":90,_process:22,buffer:4,inherits:58,"util-deprecate":296}],83:[function(n,y,e){!function(b){!function(){"use strict";var e;function r(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}var i=n("./end-of-stream"),o=Symbol("lastResolve"),s=Symbol("lastReject"),a=Symbol("error"),u=Symbol("ended"),c=Symbol("lastPromise"),l=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function f(e){var t,r=e[o];null!==r&&null!==(t=e[h].read())&&(e[c]=null,e[o]=null,e[s]=null,r(p(t,!1)))}var t=Object.getPrototypeOf(function(){}),d=Object.setPrototypeOf((r(e={get stream(){return this[h]},next:function(){var r=this,e=this[a];if(null!==e)return Promise.reject(e);if(this[u])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise(function(e,t){b.nextTick(function(){r[a]?t(r[a]):e(p(void 0,!0))})});var t,n,i,e=this[c];if(e)t=new Promise((n=e,i=this,function(e,t){n.then(function(){i[u]?e(p(void 0,!0)):i[l](e,t)},t)}));else{e=this[h].read();if(null!==e)return Promise.resolve(p(e,!1));t=new Promise(this[l])}return this[c]=t}},Symbol.asyncIterator,function(){return this}),r(e,"return",function(){var e=this;return new Promise(function(t,r){e[h].destroy(null,function(e){e?r(e):t(p(void 0,!0))})})}),e),t);y.exports=function(e){var t,n=Object.create(d,(r(t={},h,{value:e,writable:!0}),r(t,o,{value:null,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,u,{value:e._readableState.endEmitted,writable:!0}),r(t,l,{value:function(e,t){var r=n[h].read();r?(n[c]=null,n[o]=null,n[s]=null,e(p(r,!1))):(n[o]=e,n[s]=t)},writable:!0}),t));return n[c]=null,i(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code)return null!==(t=n[s])&&(n[c]=null,n[o]=null,n[s]=null,t(e)),void(n[a]=e);var t=n[o];null!==t&&(n[c]=null,n[o]=null,t(p(void 0,!(n[s]=null)))),n[u]=!0}),e.on("readable",function(e){b.nextTick(f,e)}.bind(null,n)),n}}.call(this)}.call(this,n("_process"))},{"./end-of-stream":86,_process:22}],84:[function(e,t,r){"use strict";function o(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function n(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s,a=e("buffer").Buffer,u=e("util").inspect,e=u&&u.custom||"inspect";function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}t.exports=(t=c,(e=[{key:"push",value:function(e){e={data:e,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(e){e={data:e,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){var e;if(0!==this.length)return e=this.head.data,1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n=a.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=i.data,r=o,a.prototype.copy.call(t,n,r),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t).data=i.slice(o);break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r).data=i.slice(o);break}++n}return this.length-=n,t}},{key:e,value:function(e,t){return u(this,n({},t,{depth:0,customInspect:!1}))}}])&&i(t.prototype,e),s&&i(t,s),c)},{buffer:4,util:3}],85:[function(e,t,r){!function(u){!function(){"use strict";function o(e,t){a(e,t),s(e)}function s(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,u.nextTick(a,this,e)):u.nextTick(a,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?r._writableState?r._writableState.errorEmitted?u.nextTick(s,r):(r._writableState.errorEmitted=!0,u.nextTick(o,r,e)):u.nextTick(o,r,e):t?(u.nextTick(s,r),t(e)):u.nextTick(s,r)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}.call(this)}.call(this,e("_process"))},{_process:22}],86:[function(e,t,r){"use strict";var m=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function g(){}t.exports=function e(t,r,n){if("function"==typeof r)return e(t,null,r);function i(){t.writable||o()}function o(){b=!(d=!1),f||n.call(t)}function s(){y=!(f=!1),d||n.call(t)}function a(e){n.call(t,e)}function u(){var e;return f&&!y?(t._readableState&&t._readableState.ended||(e=new m),n.call(t,e)):d&&!b?(t._writableState&&t._writableState.ended||(e=new m),n.call(t,e)):void 0}function c(){t.req.on("finish",o)}l=n||g,h=!1,n=function(){if(!h){h=!0;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];l.apply(this,t)}};var l,h,p,f=(r=r||{}).readable||!1!==r.readable&&t.readable,d=r.writable||!1!==r.writable&&t.writable,b=t._writableState&&t._writableState.finished,y=t._readableState&&t._readableState.endEmitted;return(p=t).setHeader&&"function"==typeof p.abort?(t.on("complete",o),t.on("abort",u),t.req?c():t.on("request",c)):d&&!t._writableState&&(t.on("end",i),t.on("close",i)),t.on("end",s),t.on("finish",o),!1!==r.error&&t.on("error",a),t.on("close",u),function(){t.removeListener("complete",o),t.removeListener("abort",u),t.removeListener("request",c),t.req&&t.req.removeListener("finish",o),t.removeListener("end",i),t.removeListener("close",i),t.removeListener("finish",o),t.removeListener("end",s),t.removeListener("error",a),t.removeListener("close",u)}}},{"../../../errors":77}],87:[function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],88:[function(u,e,t){"use strict";var c;var r=u("../../../errors").codes,a=r.ERR_MISSING_ARGS,l=r.ERR_STREAM_DESTROYED;function h(e){if(e)throw e}function p(r,e,t,n){i=n,o=!1;var i,o,s=!(n=function(){o||(o=!0,i.apply(void 0,arguments))}),a=(r.on("close",function(){s=!0}),(c=void 0===c?u("./end-of-stream"):c)(r,{readable:e,writable:t},function(e){if(e)return n(e);s=!0,n()}),!1);return function(e){var t;if(!s&&!a)return a=!0,(t=r).setHeader&&"function"==typeof t.abort?r.abort():"function"==typeof r.destroy?r.destroy():void n(e||new l("pipe"))}}function f(e){e()}function d(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r,i,o=!(r=n).length||"function"!=typeof r[r.length-1]?h:r.pop();if((n=Array.isArray(n[0])?n[0]:n).length<2)throw new a("streams");var s=n.map(function(e,t){var r=t<n.length-1;return p(e,r,0<t,function(e){i=i||e,e&&s.forEach(f),r||(s.forEach(f),o(i))})});return n.reduce(d)}},{"../../../errors":77,"./end-of-stream":86}],89:[function(e,t,r){"use strict";var s=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,n){o=n,i=r;var i,o=null!=(t=t).highWaterMark?t.highWaterMark:o?t[i]:null;if(null==o)return e.objectMode?16:16384;if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new s(n?r:"highWaterMark",o);return Math.floor(o)}}},{"../../../errors":77}],90:[function(e,t,r){t.exports=e("events").EventEmitter},{events:8}],91:[function(e,t,r){(((r=t.exports=e("./lib/_stream_readable.js")).Stream=r).Readable=r).Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":78,"./lib/_stream_passthrough.js":79,"./lib/_stream_readable.js":80,"./lib/_stream_transform.js":81,"./lib/_stream_writable.js":82,"./lib/internal/streams/end-of-stream.js":86,"./lib/internal/streams/pipeline.js":88}],92:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./internal/Observable"),n=(r.Observable=n.Observable,e("./internal/observable/ConnectableObservable")),n=(r.ConnectableObservable=n.ConnectableObservable,e("./internal/operators/groupBy")),n=(r.GroupedObservable=n.GroupedObservable,e("./internal/symbol/observable")),n=(r.observable=n.observable,e("./internal/Subject")),n=(r.Subject=n.Subject,e("./internal/BehaviorSubject")),n=(r.BehaviorSubject=n.BehaviorSubject,e("./internal/ReplaySubject")),n=(r.ReplaySubject=n.ReplaySubject,e("./internal/AsyncSubject")),n=(r.AsyncSubject=n.AsyncSubject,e("./internal/scheduler/asap")),n=(r.asap=n.asap,r.asapScheduler=n.asapScheduler,e("./internal/scheduler/async")),n=(r.async=n.async,r.asyncScheduler=n.asyncScheduler,e("./internal/scheduler/queue")),n=(r.queue=n.queue,r.queueScheduler=n.queueScheduler,e("./internal/scheduler/animationFrame")),n=(r.animationFrame=n.animationFrame,r.animationFrameScheduler=n.animationFrameScheduler,e("./internal/scheduler/VirtualTimeScheduler")),n=(r.VirtualTimeScheduler=n.VirtualTimeScheduler,r.VirtualAction=n.VirtualAction,e("./internal/Scheduler")),n=(r.Scheduler=n.Scheduler,e("./internal/Subscription")),n=(r.Subscription=n.Subscription,e("./internal/Subscriber")),n=(r.Subscriber=n.Subscriber,e("./internal/Notification")),n=(r.Notification=n.Notification,r.NotificationKind=n.NotificationKind,e("./internal/util/pipe")),n=(r.pipe=n.pipe,e("./internal/util/noop")),n=(r.noop=n.noop,e("./internal/util/identity")),n=(r.identity=n.identity,e("./internal/util/isObservable")),n=(r.isObservable=n.isObservable,e("./internal/util/ArgumentOutOfRangeError")),n=(r.ArgumentOutOfRangeError=n.ArgumentOutOfRangeError,e("./internal/util/EmptyError")),n=(r.EmptyError=n.EmptyError,e("./internal/util/ObjectUnsubscribedError")),n=(r.ObjectUnsubscribedError=n.ObjectUnsubscribedError,e("./internal/util/UnsubscriptionError")),n=(r.UnsubscriptionError=n.UnsubscriptionError,e("./internal/util/TimeoutError")),n=(r.TimeoutError=n.TimeoutError,e("./internal/observable/bindCallback")),n=(r.bindCallback=n.bindCallback,e("./internal/observable/bindNodeCallback")),n=(r.bindNodeCallback=n.bindNodeCallback,e("./internal/observable/combineLatest")),n=(r.combineLatest=n.combineLatest,e("./internal/observable/concat")),n=(r.concat=n.concat,e("./internal/observable/defer")),n=(r.defer=n.defer,e("./internal/observable/empty")),n=(r.empty=n.empty,e("./internal/observable/forkJoin")),n=(r.forkJoin=n.forkJoin,e("./internal/observable/from")),n=(r.from=n.from,e("./internal/observable/fromEvent")),n=(r.fromEvent=n.fromEvent,e("./internal/observable/fromEventPattern")),n=(r.fromEventPattern=n.fromEventPattern,e("./internal/observable/generate")),n=(r.generate=n.generate,e("./internal/observable/iif")),n=(r.iif=n.iif,e("./internal/observable/interval")),n=(r.interval=n.interval,e("./internal/observable/merge")),n=(r.merge=n.merge,e("./internal/observable/never")),n=(r.never=n.never,e("./internal/observable/of")),n=(r.of=n.of,e("./internal/observable/onErrorResumeNext")),n=(r.onErrorResumeNext=n.onErrorResumeNext,e("./internal/observable/pairs")),n=(r.pairs=n.pairs,e("./internal/observable/partition")),n=(r.partition=n.partition,e("./internal/observable/race")),n=(r.race=n.race,e("./internal/observable/range")),n=(r.range=n.range,e("./internal/observable/throwError")),n=(r.throwError=n.throwError,e("./internal/observable/timer")),n=(r.timer=n.timer,e("./internal/observable/using")),n=(r.using=n.using,e("./internal/observable/zip")),n=(r.zip=n.zip,e("./internal/scheduled/scheduled")),n=(r.scheduled=n.scheduled,e("./internal/observable/empty")),n=(r.EMPTY=n.EMPTY,e("./internal/observable/never")),n=(r.NEVER=n.NEVER,e("./internal/config"));r.config=n.config},{"./internal/AsyncSubject":93,"./internal/BehaviorSubject":94,"./internal/Notification":96,"./internal/Observable":97,"./internal/ReplaySubject":100,"./internal/Scheduler":101,"./internal/Subject":102,"./internal/Subscriber":104,"./internal/Subscription":105,"./internal/config":106,"./internal/observable/ConnectableObservable":108,"./internal/observable/bindCallback":110,"./internal/observable/bindNodeCallback":111,"./internal/observable/combineLatest":112,"./internal/observable/concat":113,"./internal/observable/defer":114,"./internal/observable/empty":115,"./internal/observable/forkJoin":116,"./internal/observable/from":117,"./internal/observable/fromEvent":119,"./internal/observable/fromEventPattern":120,"./internal/observable/generate":121,"./internal/observable/iif":122,"./internal/observable/interval":123,"./internal/observable/merge":124,"./internal/observable/never":125,"./internal/observable/of":126,"./internal/observable/onErrorResumeNext":127,"./internal/observable/pairs":128,"./internal/observable/partition":129,"./internal/observable/race":130,"./internal/observable/range":131,"./internal/observable/throwError":132,"./internal/observable/timer":133,"./internal/observable/using":134,"./internal/observable/zip":135,"./internal/operators/groupBy":171,"./internal/scheduled/scheduled":243,"./internal/scheduler/VirtualTimeScheduler":253,"./internal/scheduler/animationFrame":254,"./internal/scheduler/asap":255,"./internal/scheduler/async":256,"./internal/scheduler/queue":257,"./internal/symbol/observable":259,"./internal/util/ArgumentOutOfRangeError":261,"./internal/util/EmptyError":262,"./internal/util/ObjectUnsubscribedError":264,"./internal/util/TimeoutError":265,"./internal/util/UnsubscriptionError":266,"./internal/util/identity":269,"./internal/util/isObservable":278,"./internal/util/noop":281,"./internal/util/pipe":283}],93:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("./Subject")),a=e("./Subscription"),e=(i=s.Subject,o(u,i),u.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),a.Subscription.EMPTY):i.prototype._subscribe.call(this,e)},u.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},u.prototype.error=function(e){this.hasCompleted||i.prototype.error.call(this,e)},u.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&i.prototype.next.call(this,this.value),i.prototype.complete.call(this)},u);function u(){var e=null!==i&&i.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}r.AsyncSubject=e},{"./Subject":102,"./Subscription":105}],94:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("./Subject")),a=e("./util/ObjectUnsubscribedError"),e=(i=s.Subject,o(u,i),Object.defineProperty(u.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),u.prototype._subscribe=function(e){var t=i.prototype._subscribe.call(this,e);return t&&!t.closed&&e.next(this._value),t},u.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new a.ObjectUnsubscribedError;return this._value},u.prototype.next=function(e){i.prototype.next.call(this,this._value=e)},u);function u(e){var t=i.call(this)||this;return t._value=e,t}r.BehaviorSubject=e},{"./Subject":102,"./util/ObjectUnsubscribedError":264}],95:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("./Subscriber")),e=(i=e.Subscriber,o(s,i),s.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},s.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},s.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},s);function s(e,t,r){var n=i.call(this)||this;return n.parent=e,n.outerValue=t,n.outerIndex=r,n.index=0,n}r.InnerSubscriber=e},{"./Subscriber":104}],96:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./observable/empty"),i=e("./observable/of"),o=e("./observable/throwError"),e=((e=r.NotificationKind||(r.NotificationKind={})).NEXT="N",e.ERROR="E",e.COMPLETE="C",s.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},s.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},s.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},s.prototype.toObservable=function(){switch(this.kind){case"N":return i.of(this.value);case"E":return o.throwError(this.error);case"C":return n.empty()}throw new Error("unexpected notification kind value")},s.createNext=function(e){return void 0!==e?new s("N",e):s.undefinedValueNotification},s.createError=function(e){return new s("E",void 0,e)},s.createComplete=function(){return s.completeNotification},s.completeNotification=new s("C"),s.undefinedValueNotification=new s("N",void 0),s);function s(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}r.Notification=e},{"./observable/empty":115,"./observable/of":126,"./observable/throwError":132}],97:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./util/canReportError"),i=e("./util/toSubscriber"),o=e("./symbol/observable"),s=e("./util/pipe"),a=e("./config");function u(e){this._isScalar=!1,e&&(this._subscribe=e)}function c(e){if(e=e||(a.config.Promise||Promise))return e;throw new Error("no Promise impl found")}u.prototype.lift=function(e){var t=new u;return t.source=this,t.operator=e,t},u.prototype.subscribe=function(e,t,r){var n=this.operator,e=i.toSubscriber(e,t,r);if(n?e.add(n.call(e,this.source)):e.add(this.source||a.config.useDeprecatedSynchronousErrorHandling&&!e.syncErrorThrowable?this._subscribe(e):this._trySubscribe(e)),a.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e},u.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),n.canReportError(t)?t.error(e):console.warn(e)}},u.prototype.forEach=function(n,e){var i=this;return new(e=c(e))(function(e,t){var r=i.subscribe(function(e){try{n(e)}catch(e){t(e),r&&r.unsubscribe()}},t,e)})},u.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},u.prototype[o.observable]=function(){return this},u.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:s.pipeFromArray(e)(this)},u.prototype.toPromise=function(e){var n=this;return new(e=c(e))(function(e,t){var r;n.subscribe(function(e){return r=e},function(e){return t(e)},function(){return e(r)})})},u.create=function(e){return new u(e)},r.Observable=u},{"./config":106,"./symbol/observable":259,"./util/canReportError":267,"./util/pipe":283,"./util/toSubscriber":290}],98:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./config"),i=e("./util/hostReportError");r.empty={closed:!0,next:function(e){},error:function(e){if(n.config.useDeprecatedSynchronousErrorHandling)throw e;i.hostReportError(e)},complete:function(){}}},{"./config":106,"./util/hostReportError":268}],99:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("./Subscriber")),e=(i=e.Subscriber,o(s,i),s.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(t)},s.prototype.notifyError=function(e,t){this.destination.error(e)},s.prototype.notifyComplete=function(e){this.destination.complete()},s);function s(){return null!==i&&i.apply(this,arguments)||this}r.OuterSubscriber=e},{"./Subscriber":104}],100:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("./Subject")),a=e("./scheduler/queue"),u=e("./Subscription"),c=e("./operators/observeOn"),l=e("./util/ObjectUnsubscribedError"),h=e("./SubjectSubscription"),e=(i=s.Subject,o(p,i),p.prototype.nextInfiniteTimeWindow=function(e){var t;this.isStopped||((t=this._events).push(e),t.length>this._bufferSize&&t.shift()),i.prototype.next.call(this,e)},p.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new f(this._getNow(),e)),this._trimBufferThenGetEvents()),i.prototype.next.call(this,e)},p.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=n.length;if(this.closed)throw new l.ObjectUnsubscribedError;if(t=this.isStopped||this.hasError?u.Subscription.EMPTY:(this.observers.push(e),new h.SubjectSubscription(this,e)),i&&e.add(e=new c.ObserveOnSubscriber(e,i)),r)for(var s=0;s<o&&!e.closed;s++)e.next(n[s]);else for(s=0;s<o&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},p.prototype._getNow=function(){return(this.scheduler||a.queue).now()},p.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(e-n[o].time<r);)o++;return 0<(o=t<i?Math.max(o,i-t):o)&&n.splice(0,o),n},p);function p(e,t,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY);var n=i.call(this)||this;return n.scheduler=r,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=e<1?1:e,n._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}r.ReplaySubject=e;var f=function(e,t){this.time=e,this.value=t}},{"./Subject":102,"./SubjectSubscription":103,"./Subscription":105,"./operators/observeOn":186,"./scheduler/queue":257,"./util/ObjectUnsubscribedError":264}],101:[function(e,t,r){"use strict";function n(e,t){void 0===t&&(t=n.now),this.SchedulerAction=e,this.now=t}Object.defineProperty(r,"__esModule",{value:!0}),n.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},n.now=function(){return Date.now()},r.Scheduler=n},{}],102:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("./Observable")),a=e("./Subscriber"),u=e("./Subscription"),c=e("./util/ObjectUnsubscribedError"),l=e("./SubjectSubscription"),e=e("../internal/symbol/rxSubscriber"),h=(i=a.Subscriber,o(p,i),p);function p(e){var t=i.call(this,e)||this;return t.destination=e,t}r.SubjectSubscriber=h;f=s.Observable,o(d,f),d.prototype[e.rxSubscriber]=function(){return new h(this)},d.prototype.lift=function(e){var t=new y(this,this);return t.operator=e,t},d.prototype.next=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].next(e)},d.prototype.error=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),i=0;i<r;i++)n[i].error(e);this.observers.length=0},d.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},d.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},d.prototype._trySubscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return f.prototype._trySubscribe.call(this,e)},d.prototype._subscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),u.Subscription.EMPTY):this.isStopped?(e.complete(),u.Subscription.EMPTY):(this.observers.push(e),new l.SubjectSubscription(this,e))},d.prototype.asObservable=function(){var e=new s.Observable;return e.source=this,e},d.create=function(e,t){return new y(e,t)};var f,a=d;function d(){var e=f.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}r.Subject=a;o(m,b=a),m.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},m.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},m.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},m.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):u.Subscription.EMPTY};var b,y=m;function m(e,t){var r=b.call(this)||this;return r.destination=e,r.source=t,r}r.AnonymousSubject=y},{"../internal/symbol/rxSubscriber":260,"./Observable":97,"./SubjectSubscription":103,"./Subscriber":104,"./Subscription":105,"./util/ObjectUnsubscribedError":264}],103:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("./Subscription")),e=(i=e.Subscription,o(s,i),s.prototype.unsubscribe=function(){var e,t;this.closed||(this.closed=!0,e=(t=this.subject).observers,this.subject=null,!e||0===e.length||t.isStopped||t.closed||-1!==(t=e.indexOf(this.subscriber))&&e.splice(t,1))},s);function s(e,t){var r=i.call(this)||this;return r.subject=e,r.subscriber=t,r.closed=!1,r}r.SubjectSubscription=e},{"./Subscription":105}],104:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("./util/isFunction")),a=e("./Observer"),u=e("./Subscription"),c=e("../internal/symbol/rxSubscriber"),l=e("./config"),h=e("./util/hostReportError"),e=(i=u.Subscription,o(p,i),p.prototype[c.rxSubscriber]=function(){return this},p.create=function(e,t,r){e=new p(e,t,r);return e.syncErrorThrowable=!1,e},p.prototype.next=function(e){this.isStopped||this._next(e)},p.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},p.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},p.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,i.prototype.unsubscribe.call(this))},p.prototype._next=function(e){this.destination.next(e)},p.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},p.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},p.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},p);function p(e,t,r){var n=i.call(this)||this;switch(n.syncErrorValue=null,n.syncErrorThrown=!1,n.syncErrorThrowable=!1,n.isStopped=!1,arguments.length){case 0:n.destination=a.empty;break;case 1:if(!e){n.destination=a.empty;break}if("object"==typeof e){e instanceof p?(n.syncErrorThrowable=e.syncErrorThrowable,(n.destination=e).add(n)):(n.syncErrorThrowable=!0,n.destination=new d(n,e));break}default:n.syncErrorThrowable=!0,n.destination=new d(n,e,t,r)}return n}r.Subscriber=e;o(b,f=e),b.prototype.next=function(e){var t;!this.isStopped&&this._next&&(t=this._parentSubscriber,l.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e))},b.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=l.config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?this.__tryOrSetError(t,this._error,e):this.__tryOrUnsub(this._error,e),this.unsubscribe();else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):h.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;h.hostReportError(e)}}},b.prototype.complete=function(){var e,t,r=this;this.isStopped||(e=this._parentSubscriber,this._complete&&(t=function(){return r._complete.call(r._context)},l.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,t):this.__tryOrUnsub(t)),this.unsubscribe())},b.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),l.config.useDeprecatedSynchronousErrorHandling)throw e;h.hostReportError(e)}},b.prototype.__tryOrSetError=function(t,e,r){if(!l.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return l.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0):(h.hostReportError(e),!0)}return!1},b.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()};var f,d=b;function b(e,t,r,n){var i,o=f.call(this)||this,e=(o._parentSubscriber=e,o);return s.isFunction(t)?i=t:t&&(i=t.next,r=t.error,n=t.complete,t!==a.empty&&(e=Object.create(t),s.isFunction(e.unsubscribe)&&o.add(e.unsubscribe.bind(e)),e.unsubscribe=o.unsubscribe.bind(o))),o._context=e,o._next=i,o._error=r,o._complete=n,o}r.SafeSubscriber=d},{"../internal/symbol/rxSubscriber":260,"./Observer":98,"./Subscription":105,"./config":106,"./util/hostReportError":268,"./util/isFunction":273}],105:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u=e("./util/isArray"),c=e("./util/isObject"),l=e("./util/isFunction"),h=e("./util/UnsubscriptionError");function p(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}function f(e){return e.reduce(function(e,t){return e.concat(t instanceof h.UnsubscriptionError?t.errors:t)},[])}p.prototype.unsubscribe=function(){var t;if(!this.closed){var e=this._parentOrParents,r=this._ctorUnsubscribe,n=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof p)e.remove(this);else if(null!==e)for(var o=0;o<e.length;++o)e[o].remove(this);if(l.isFunction(n)){r&&(this._unsubscribe=void 0);try{n.call(this)}catch(e){t=e instanceof h.UnsubscriptionError?f(e.errors):[e]}}if(u.isArray(i))for(var o=-1,s=i.length;++o<s;){var a=i[o];if(c.isObject(a))try{a.unsubscribe()}catch(e){t=t||[],e instanceof h.UnsubscriptionError?t=t.concat(f(e.errors)):t.push(e)}}if(t)throw new h.UnsubscriptionError(t)}},p.prototype.add=function(e){var t,r=e;if(!e)return p.EMPTY;switch(typeof e){case"function":r=new p(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;r instanceof p||(t=r,(r=new p)._subscriptions=[t]);break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var n=r._parentOrParents;if(null===n)r._parentOrParents=this;else if(n instanceof p){if(n===this)return r;r._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return r;n.push(this)}n=this._subscriptions;return null===n?this._subscriptions=[r]:n.push(r),r},p.prototype.remove=function(e){var t=this._subscriptions;t&&-1!==(e=t.indexOf(e))&&t.splice(e,1)},p.EMPTY=((e=new p).closed=!0,e),r.Subscription=p},{"./util/UnsubscriptionError":266,"./util/isArray":270,"./util/isFunction":273,"./util/isObject":277}],106:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=!1;r.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){var t;e?(t=new Error,console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)):n&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},{}],107:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("./Subscriber")),a=e("./Observable"),u=e("./util/subscribeTo"),e=(i=s.Subscriber,o(c,i),c.prototype._next=function(e){this.parent.notifyNext(e)},c.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},c.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},c);function c(e){var t=i.call(this)||this;return t.parent=e,t}r.SimpleInnerSubscriber=e;l=s.Subscriber,o(h,l),h.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this)},h.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},h.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()};var l,e=h;function h(e,t,r){var n=l.call(this)||this;return n.parent=e,n.outerValue=t,n.outerIndex=r,n}r.ComplexInnerSubscriber=e;p=s.Subscriber,o(f,p),f.prototype.notifyNext=function(e){this.destination.next(e)},f.prototype.notifyError=function(e){this.destination.error(e)},f.prototype.notifyComplete=function(){this.destination.complete()};var p,e=f;function f(){return null!==p&&p.apply(this,arguments)||this}r.SimpleOuterSubscriber=e;d=s.Subscriber,o(b,d),b.prototype.notifyNext=function(e,t,r,n){this.destination.next(t)},b.prototype.notifyError=function(e){this.destination.error(e)},b.prototype.notifyComplete=function(e){this.destination.complete()};var d,e=b;function b(){return null!==d&&d.apply(this,arguments)||this}r.ComplexOuterSubscriber=e,r.innerSubscribe=function(e,t){if(!t.closed){if(e instanceof a.Observable)return e.subscribe(t);var r;try{r=u.subscribeTo(e)(t)}catch(e){t.error(e)}return r}}},{"./Observable":97,"./Subscriber":104,"./util/subscribeTo":284}],108:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subject")),a=e("../Observable"),u=e("../Subscriber"),c=e("../Subscription"),l=e("../operators/refCount"),e=(i=a.Observable,o(h,i),h.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},h.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},h.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new c.Subscription).add(this.source.subscribe(new f(this.getSubject(),this))),e.closed&&(this._connection=null,e=c.Subscription.EMPTY)),e},h.prototype.refCount=function(){return l.refCount()(this)},h);function h(e,t){var r=i.call(this)||this;return r.source=e,r.subjectFactory=t,r._refCount=0,r._isComplete=!1,r}r.ConnectableObservable=e,r.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(a=e.prototype)._subscribe},_isComplete:{value:a._isComplete,writable:!0},getSubject:{value:a.getSubject},connect:{value:a.connect},refCount:{value:a.refCount}};p=s.SubjectSubscriber,o(d,p),d.prototype._error=function(e){this._unsubscribe(),p.prototype._error.call(this,e)},d.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),p.prototype._complete.call(this)},d.prototype._unsubscribe=function(){var e,t=this.connectable;t&&(this.connectable=null,e=t._connection,t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe())};var p,f=d;function d(e,t){e=p.call(this,e)||this;return e.connectable=t,e}b=u.Subscriber,o(y,b),y.prototype._unsubscribe=function(){var e,t=this.connectable;t?(this.connectable=null,(e=t._refCount)<=0?this.connection=null:(t._refCount=e-1,1<e?this.connection=null:(e=this.connection,t=t._connection,this.connection=null,!t||e&&t!==e||t.unsubscribe()))):this.connection=null};var b;function y(e,t){e=b.call(this,e)||this;return e.connectable=t,e}},{"../Observable":97,"../Subject":102,"../Subscriber":104,"../Subscription":105,"../operators/refCount":197}],109:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Observable")),a=e("../scheduler/asap"),u=e("../util/isNumeric"),e=(i=s.Observable,o(c,i),c.create=function(e,t,r){return new c(e,t=void 0===t?0:t,r=void 0===r?a.asap:r)},c.dispatch=function(e){var t=e.source,e=e.subscriber;return this.add(t.subscribe(e))},c.prototype._subscribe=function(e){var t=this.delayTime,r=this.source;return this.scheduler.schedule(c.dispatch,t,{source:r,subscriber:e})},c);function c(e,t,r){void 0===t&&(t=0),void 0===r&&(r=a.asap);var n=i.call(this)||this;return n.source=e,n.delayTime=t,n.scheduler=r,(!u.isNumeric(t)||t<0)&&(n.delayTime=0),r&&"function"==typeof r.schedule||(n.scheduler=a.asap),n}r.SubscribeOnObservable=e},{"../Observable":97,"../scheduler/asap":255,"../util/isNumeric":276}],110:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("../Observable"),u=e("../AsyncSubject"),i=e("../operators/map"),c=e("../util/canReportError"),l=e("../util/isArray"),h=e("../util/isScheduler");function p(e){var n=this,t=e.args,r=e.subscriber,e=e.params,i=e.callbackFunc,o=e.context,s=e.scheduler;if(!(a=e.subject)){var a=e.subject=new u.AsyncSubject;try{i.apply(o,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length<=1?e[0]:e;n.add(s.schedule(f,0,{value:r,subject:a}))}]))}catch(e){a.error(e)}}this.add(a.subscribe(r))}function f(e){var t=e.value,e=e.subject;e.next(t),e.complete()}r.bindCallback=function r(o,n,s){if(n){if(!h.isScheduler(n))return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(o,s).apply(void 0,e).pipe(i.map(function(e){return l.isArray(e)?n.apply(void 0,e):n(e)}))};s=n}return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r,n=this,i={context:n,subject:r,callbackFunc:o,scheduler:s};return new a.Observable(function(e){if(s)return s.schedule(p,0,{args:t,subscriber:e,params:i});if(!r){r=new u.AsyncSubject;try{o.apply(n,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r.next(e.length<=1?e[0]:e),r.complete()}]))}catch(e){c.canReportError(r)?r.error(e):console.warn(e)}}return r.subscribe(e)})}}},{"../AsyncSubject":93,"../Observable":97,"../operators/map":175,"../util/canReportError":267,"../util/isArray":270,"../util/isScheduler":280}],111:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("../Observable"),u=e("../AsyncSubject"),i=e("../operators/map"),c=e("../util/canReportError"),l=e("../util/isScheduler"),h=e("../util/isArray");function p(e){var n=this,t=e.params,r=e.subscriber,e=e.context,i=t.callbackFunc,o=t.args,s=t.scheduler;if(!(a=t.subject)){var a=t.subject=new u.AsyncSubject;try{i.apply(e,o.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.shift();r?n.add(s.schedule(d,0,{err:r,subject:a})):(r=e.length<=1?e[0]:e,n.add(s.schedule(f,0,{value:r,subject:a})))}]))}catch(e){this.add(s.schedule(d,0,{err:e,subject:a}))}}this.add(a.subscribe(r))}function f(e){var t=e.value,e=e.subject;e.next(t),e.complete()}function d(e){var t=e.err;e.subject.error(t)}r.bindNodeCallback=function r(o,n,s){if(n){if(!l.isScheduler(n))return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(o,s).apply(void 0,e).pipe(i.map(function(e){return h.isArray(e)?n.apply(void 0,e):n(e)}))};s=n}return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var i={subject:void 0,args:r,callbackFunc:o,scheduler:s,context:this};return new a.Observable(function(e){var t=i.context,n=i.subject;if(s)return s.schedule(p,0,{params:i,subscriber:e,context:t});if(!n){n=i.subject=new u.AsyncSubject;try{o.apply(t,r.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.shift();r?n.error(r):(n.next(e.length<=1?e[0]:e),n.complete())}]))}catch(e){c.canReportError(n)?n.error(e):console.warn(e)}}return n.subscribe(e)})}}},{"../AsyncSubject":93,"../Observable":97,"../operators/map":175,"../util/canReportError":267,"../util/isArray":270,"../util/isScheduler":280}],112:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../util/isScheduler")),s=e("../util/isArray"),a=e("../OuterSubscriber"),u=e("../util/subscribeToResult"),c=e("./fromArray"),l={};r.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=void 0,n=void 0;return o.isScheduler(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&s.isArray(e[0])&&(e=e[0]),c.fromArray(e,n).lift(new h(r))};p.prototype.call=function(e,t){return t.subscribe(new d(e,this.resultSelector))};var h=p;function p(e){this.resultSelector=e}r.CombineLatestOperator=h;f=a.OuterSubscriber,i(b,f),b.prototype._next=function(e){this.values.push(l),this.observables.push(e)},b.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add(u.subscribeToResult(this,n,void 0,r))}}},b.prototype.notifyComplete=function(e){0==--this.active&&this.destination.complete()},b.prototype.notifyNext=function(e,t,r){var n=this.values,i=n[r],i=this.toRespond?i===l?--this.toRespond:this.toRespond:0;n[r]=t,0===i&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},b.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)};var f,d=b;function b(e,t){e=f.call(this,e)||this;return e.resultSelector=t,e.active=0,e.values=[],e.observables=[],e}r.CombineLatestSubscriber=d},{"../OuterSubscriber":99,"../util/isArray":270,"../util/isScheduler":280,"../util/subscribeToResult":289,"./fromArray":118}],113:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./of"),i=e("../operators/concatAll");r.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.concatAll()(n.of.apply(void 0,e))}},{"../operators/concatAll":147,"./of":126}],114:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Observable"),i=e("./from"),o=e("./empty");r.defer=function(r){return new n.Observable(function(t){var e;try{e=r()}catch(e){return void t.error(e)}return(e?i.from(e):o.empty()).subscribe(t)})}},{"../Observable":97,"./empty":115,"./from":117}],115:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Observable");r.EMPTY=new n.Observable(function(e){return e.complete()}),r.empty=function(e){return e?(t=e,new n.Observable(function(e){return t.schedule(function(){return e.complete()})})):r.EMPTY;var t}},{"../Observable":97}],116:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Observable"),o=e("../util/isArray"),s=e("../operators/map"),a=e("../util/isObject"),l=e("./from");function u(u,c){return new n.Observable(function(n){var i=u.length;if(0===i)n.complete();else for(var o=new Array(i),s=0,a=0,e=0;e<i;e++)!function(t){var e=l.from(u[t]),r=!1;n.add(e.subscribe({next:function(e){r||(r=!0,a++),o[t]=e},error:function(e){return n.error(e)},complete:function(){++s!==i&&r||(a===i&&n.next(c?c.reduce(function(e,t,r){return e[t]=o[r],e},{}):o),n.complete())}}))}(e)})}r.forkJoin=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(1===e.length){var n,i=e[0];if(o.isArray(i))return u(i,null);if(a.isObject(i)&&Object.getPrototypeOf(i)===Object.prototype)return u((n=Object.keys(i)).map(function(e){return i[e]}),n)}return"function"==typeof e[e.length-1]?(t=e.pop(),u(e=1===e.length&&o.isArray(e[0])?e[0]:e,null).pipe(s.map(function(e){return t.apply(void 0,e)}))):u(e,null)}},{"../Observable":97,"../operators/map":175,"../util/isArray":270,"../util/isObject":277,"./from":117}],117:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Observable"),i=e("../util/subscribeTo"),o=e("../scheduled/scheduled");r.from=function(e,t){return t?o.scheduled(e,t):e instanceof n.Observable?e:new n.Observable(i.subscribeTo(e))}},{"../Observable":97,"../scheduled/scheduled":243,"../util/subscribeTo":284}],118:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Observable"),i=e("../util/subscribeToArray"),o=e("../scheduled/scheduleArray");r.fromArray=function(e,t){return t?o.scheduleArray(e,t):new n.Observable(i.subscribeToArray(e))}},{"../Observable":97,"../scheduled/scheduleArray":239,"../util/subscribeToArray":285}],119:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),s=e("../util/isArray"),a=e("../util/isFunction"),u=e("../operators/map");Object.prototype.toString;function p(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function f(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function d(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}r.fromEvent=function e(r,n,i,t){return a.isFunction(i)&&(t=i,i=void 0),t?e(r,n,i).pipe(u.map(function(e){return s.isArray(e)?t.apply(void 0,e):t(e)})):new o.Observable(function(t){!function e(t,r,n,i,o){var s;if(d(t)){var a=t;t.addEventListener(r,n,o),s=function(){return a.removeEventListener(r,n,o)}}else if(f(t)){var u=t;t.on(r,n),s=function(){return u.off(r,n)}}else if(p(t)){var c=t;t.addListener(r,n),s=function(){return c.removeListener(r,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,h=t.length;l<h;l++)e(t[l],r,n,i,o)}i.add(s)}(r,n,function(e){1<arguments.length?t.next(Array.prototype.slice.call(arguments)):t.next(e)},t,i)})}},{"../Observable":97,"../operators/map":175,"../util/isArray":270,"../util/isFunction":273}],120:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),s=e("../util/isArray"),a=e("../util/isFunction"),u=e("../operators/map");r.fromEventPattern=function e(n,i,t){return t?e(n,i).pipe(u.map(function(e){return s.isArray(e)?t.apply(void 0,e):t(e)})):new o.Observable(function(r){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1===e.length?e[0]:e)}var t;try{t=n(e)}catch(e){return void r.error(e)}if(a.isFunction(i))return function(){return i(e,t)}})}},{"../Observable":97,"../operators/map":175,"../util/isArray":270,"../util/isFunction":273}],121:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u=e("../Observable"),c=e("../util/identity"),l=e("../util/isScheduler");function h(e){var t,r=e.subscriber,n=e.condition;if(!r.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void r.error(e)}else e.needIterate=!0;if(n){var i=void 0;try{i=n(e.state)}catch(e){return void r.error(e)}if(!i)return void r.complete();if(r.closed)return}try{t=e.resultSelector(e.state)}catch(e){return void r.error(e)}if(!r.closed&&(r.next(t),!r.closed))return this.schedule(e)}}r.generate=function(e,n,i,t,o){var s,a;return 1==arguments.length?(a=e.initialState,n=e.condition,i=e.iterate,s=e.resultSelector||c.identity,o=e.scheduler):void 0===t||l.isScheduler(t)?(a=e,s=c.identity,o=t):(a=e,s=t),new u.Observable(function(t){var e=a;if(o)return o.schedule(h,0,{subscriber:t,iterate:i,condition:n,resultSelector:s,state:e});for(;;){if(n){var r=void 0;try{r=n(e)}catch(e){return void t.error(e)}if(!r){t.complete();break}}r=void 0;try{r=s(e)}catch(e){return void t.error(e)}if(t.next(r),t.closed)break;try{e=i(e)}catch(e){return void t.error(e)}}})}},{"../Observable":97,"../util/identity":269,"../util/isScheduler":280}],122:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./defer"),i=e("./empty");r.iif=function(e,t,r){return void 0===t&&(t=i.EMPTY),void 0===r&&(r=i.EMPTY),n.defer(function(){return e()?t:r})}},{"./defer":114,"./empty":115}],123:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Observable"),i=e("../scheduler/async"),o=e("../util/isNumeric");function s(e){var t=e.subscriber,r=e.counter,e=e.period;t.next(r),this.schedule({subscriber:t,counter:r+1,period:e},e)}r.interval=function(t,r){return void 0===t&&(t=0),void 0===r&&(r=i.async),(!o.isNumeric(t)||t<0)&&(t=0),r&&"function"==typeof r.schedule||(r=i.async),new n.Observable(function(e){return e.add(r.schedule(s,t,{subscriber:e,counter:0,period:t})),e})}},{"../Observable":97,"../scheduler/async":256,"../util/isNumeric":276}],124:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),s=e("../util/isScheduler"),a=e("../operators/mergeAll"),u=e("./fromArray");r.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return s.isScheduler(i)?(n=e.pop(),1<e.length&&"number"==typeof e[e.length-1]&&(r=e.pop())):"number"==typeof i&&(r=e.pop()),null===n&&1===e.length&&e[0]instanceof o.Observable?e[0]:a.mergeAll(r)(u.fromArray(e,n))}},{"../Observable":97,"../operators/mergeAll":180,"../util/isScheduler":280,"./fromArray":118}],125:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Observable"),e=e("../util/noop");r.NEVER=new n.Observable(e.noop),r.never=function(){return r.NEVER}},{"../Observable":97,"../util/noop":281}],126:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../util/isScheduler"),i=e("./fromArray"),o=e("../scheduled/scheduleArray");r.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return n.isScheduler(r)?(e.pop(),o.scheduleArray(e,r)):i.fromArray(e)}},{"../scheduled/scheduleArray":239,"../util/isScheduler":280,"./fromArray":118}],127:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../Observable"),o=e("./from"),s=e("../util/isArray"),a=e("./empty");function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return a.EMPTY;var r=e[0],n=e.slice(1);return 1===e.length&&s.isArray(r)?u.apply(void 0,r):new i.Observable(function(t){function e(){return t.add(u.apply(void 0,n).subscribe(t))}return o.from(r).subscribe({next:function(e){t.next(e)},error:e,complete:e})})}r.onErrorResumeNext=u},{"../Observable":97,"../util/isArray":270,"./empty":115,"./from":117}],128:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),s=e("../Subscription");function a(e){var t,r=e.keys,n=e.index,i=e.subscriber,o=e.subscription,e=e.obj;i.closed||(n<r.length?(t=r[n],i.next([t,e[t]]),o.add(this.schedule({keys:r,index:n+1,subscriber:i,subscription:o,obj:e}))):i.complete())}r.pairs=function(i,n){return n?new o.Observable(function(e){var t=Object.keys(i),r=new s.Subscription;return r.add(n.schedule(a,0,{keys:t,index:0,subscriber:e,subscription:r,obj:i})),r}):new o.Observable(function(e){for(var t=Object.keys(i),r=0;r<t.length&&!e.closed;r++){var n=t[r];i.hasOwnProperty(n)&&e.next([n,i[n]])}e.complete()})},r.dispatch=a},{"../Observable":97,"../Subscription":105}],129:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../util/not"),i=e("../util/subscribeTo"),o=e("../operators/filter"),s=e("../Observable");r.partition=function(e,t,r){return[o.filter(t,r)(new s.Observable(i.subscribeTo(e))),o.filter(n.not(t,r))(new s.Observable(i.subscribeTo(e)))]}},{"../Observable":97,"../operators/filter":166,"../util/not":282,"../util/subscribeTo":284}],130:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../util/isArray")),s=e("./fromArray"),a=e("../OuterSubscriber"),u=e("../util/subscribeToResult");r.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!o.isArray(e[0]))return e[0];e=e[0]}return s.fromArray(e,void 0).lift(new c)};l.prototype.call=function(e,t){return t.subscribe(new p(e))};var c=l;function l(){}r.RaceOperator=c;h=a.OuterSubscriber,i(f,h),f.prototype._next=function(e){this.observables.push(e)},f.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var r=0;r<t&&!this.hasFirst;r++){var n=e[r],n=u.subscribeToResult(this,n,void 0,r);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}},f.prototype.notifyNext=function(e,t,r){if(!this.hasFirst){this.hasFirst=!0;for(var n,i=0;i<this.subscriptions.length;i++)i!==r&&((n=this.subscriptions[i]).unsubscribe(),this.remove(n));this.subscriptions=null}this.destination.next(t)};var h,p=f;function f(e){e=h.call(this,e)||this;return e.hasFirst=!1,e.observables=[],e.subscriptions=[],e}r.RaceSubscriber=p},{"../OuterSubscriber":99,"../util/isArray":270,"../util/subscribeToResult":289,"./fromArray":118}],131:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("../Observable");function a(e){var t=e.start,r=e.index,n=e.count,i=e.subscriber;n<=r?i.complete():(i.next(t),i.closed||(e.index=r+1,e.start=t+1,this.schedule(e)))}r.range=function(n,i,o){return void 0===n&&(n=0),new s.Observable(function(e){void 0===i&&(i=n,n=0);var t=0,r=n;if(o)return o.schedule(a,0,{index:t,count:i,start:n,subscriber:e});for(;;){if(t++>=i){e.complete();break}if(e.next(r++),e.closed)break}})},r.dispatch=a},{"../Observable":97}],132:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Observable");function i(e){var t=e.error;e.subscriber.error(t)}r.throwError=function(t,r){return r?new n.Observable(function(e){return r.schedule(i,0,{error:t,subscriber:e})}):new n.Observable(function(e){return e.error(t)})}},{"../Observable":97}],133:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),s=e("../scheduler/async"),a=e("../util/isNumeric"),u=e("../util/isScheduler");function c(e){var t=e.index,r=e.period,n=e.subscriber;if(n.next(t),!n.closed){if(-1===r)return n.complete();e.index=t+1,this.schedule(e,r)}}r.timer=function(r,e,n){void 0===r&&(r=0);var i=-1;return a.isNumeric(e)?i=Number(e)<1?1:Number(e):u.isScheduler(e)&&(n=e),u.isScheduler(n)||(n=s.async),new o.Observable(function(e){var t=a.isNumeric(r)?r:+r-n.now();return n.schedule(c,t,{index:0,period:i,subscriber:e})})}},{"../Observable":97,"../scheduler/async":256,"../util/isNumeric":276,"../util/isScheduler":280}],134:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Observable"),s=e("./from"),a=e("./empty");r.using=function(i,o){return new n.Observable(function(t){var e,r;try{e=i()}catch(e){return void t.error(e)}try{r=o(e)}catch(e){return void t.error(e)}var n=(r?s.from(r):a.EMPTY).subscribe(t);return function(){n.unsubscribe(),e&&e.unsubscribe()}})}},{"../Observable":97,"./empty":115,"./from":117}],135:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("./fromArray")),s=e("../util/isArray"),a=e("../Subscriber"),u=e("../../internal/symbol/iterator"),c=e("../innerSubscribe");r.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return"function"==typeof r&&e.pop(),o.fromArray(e,void 0).lift(new l(r))};h.prototype.call=function(e,t){return t.subscribe(new f(e,this.resultSelector))};var l=h;function h(e){this.resultSelector=e}r.ZipOperator=l;p=a.Subscriber,i(d,p),d.prototype._next=function(e){var t=this.iterators;s.isArray(e)?t.push(new m(e)):"function"==typeof e[u.iterator]?t.push(new b(e[u.iterator]())):t.push(new v(this.destination,this,e))},d.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0===t)this.destination.complete();else{this.active=t;for(var r=0;r<t;r++){var n=e[r];n.stillUnsubscribed?this.destination.add(n.subscribe()):this.active--}}},d.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},d.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,r=this.destination,n=0;n<t;n++)if("function"==typeof(s=e[n]).hasValue&&!s.hasValue())return;for(var i=!1,o=[],n=0;n<t;n++){var s,a=(s=e[n]).next();if(s.hasCompleted()&&(i=!0),a.done)return void r.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):r.next(o),i&&r.complete()},d.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)};var p,f=d;function d(e,t,r){void 0===r&&(r=Object.create(null));r=p.call(this,e)||this;return r.resultSelector=t,r.iterators=[],r.active=0,r.resultSelector="function"==typeof t?t:void 0,r}r.ZipSubscriber=f;y.prototype.hasValue=function(){return!0},y.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},y.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)};var b=y;function y(e){this.iterator=e,this.nextResult=e.next()}g.prototype[u.iterator]=function(){return this},g.prototype.next=function(e){var t=this.index++,r=this.array;return t<this.length?{value:r[t],done:!1}:{value:null,done:!0}},g.prototype.hasValue=function(){return this.array.length>this.index},g.prototype.hasCompleted=function(){return this.array.length===this.index};var m=g;function g(e){this.array=e,this.index=0,this.length=0,this.length=e.length}_=c.SimpleOuterSubscriber,i(w,_),w.prototype[u.iterator]=function(){return this},w.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},w.prototype.hasValue=function(){return 0<this.buffer.length},w.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},w.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},w.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},w.prototype.subscribe=function(){return c.innerSubscribe(this.observable,new c.SimpleInnerSubscriber(this))};var _,v=w;function w(e,t,r){e=_.call(this,e)||this;return e.parent=t,e.observable=r,e.stillUnsubscribed=!0,e.buffer=[],e.isComplete=!1,e}},{"../../internal/symbol/iterator":258,"../Subscriber":104,"../innerSubscribe":107,"../util/isArray":270,"./fromArray":118}],136:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../innerSubscribe"));r.audit=function(t){return function(e){return e.lift(new s(t))}};a.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))};var s=a;function a(e){this.durationSelector=e}u=o.SimpleOuterSubscriber,i(l,u),l.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}e=o.innerSubscribe(t,new o.SimpleInnerSubscriber(this));!e||e.closed?this.clearThrottle():this.add(this.throttled=e)}},l.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,r=this.throttled;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))},l.prototype.notifyNext=function(){this.clearThrottle()},l.prototype.notifyComplete=function(){this.clearThrottle()};var u,c=l;function l(e,t){e=u.call(this,e)||this;return e.durationSelector=t,e.hasValue=!1,e}},{"../innerSubscribe":107}],137:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../scheduler/async"),i=e("./audit"),o=e("../observable/timer");r.auditTime=function(e,t){return void 0===t&&(t=n.async),i.audit(function(){return o.timer(e,t)})}},{"../observable/timer":133,"../scheduler/async":256,"./audit":136}],138:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../innerSubscribe"));r.buffer=function(t){return function(e){return e.lift(new s(t))}};a.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingNotifier))};var s=a;function a(e){this.closingNotifier=e}u=o.SimpleOuterSubscriber,i(l,u),l.prototype._next=function(e){this.buffer.push(e)},l.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)};var u,c=l;function l(e,t){e=u.call(this,e)||this;return e.buffer=[],e.add(o.innerSubscribe(t,new o.SimpleInnerSubscriber(e))),e}},{"../innerSubscribe":107}],139:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.bufferCount=function(t,r){return void 0===r&&(r=null),function(e){return e.lift(new o(t,r))}};s.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))};var o=s;function s(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?h:u}a=e.Subscriber,i(c,a),c.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},c.prototype._complete=function(){var e=this.buffer;0<e.length&&this.destination.next(e),a.prototype._complete.call(this)};var a,u=c;function c(e,t){e=a.call(this,e)||this;return e.bufferSize=t,e.buffer=[],e}l=e.Subscriber,i(p,l),p.prototype._next=function(e){var t=this.bufferSize,r=this.startBufferEvery,n=this.buffers,i=this.count;this.count++,i%r==0&&n.push([]);for(var o=n.length;o--;){var s=n[o];s.push(e),s.length===t&&(n.splice(o,1),this.destination.next(s))}},p.prototype._complete=function(){for(var e=this.buffers,t=this.destination;0<e.length;){var r=e.shift();0<r.length&&t.next(r)}l.prototype._complete.call(this)};var l,h=p;function p(e,t,r){e=l.call(this,e)||this;return e.bufferSize=t,e.startBufferEvery=r,e.buffers=[],e.count=0,e}},{"../Subscriber":104}],140:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../scheduler/async")),s=e("../Subscriber"),a=e("../util/isScheduler");r.bufferTime=function(t){var e=arguments.length,r=o.async,n=(a.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--),null),i=(2<=e&&(n=arguments[1]),Number.POSITIVE_INFINITY);return 3<=e&&(i=arguments[2]),function(e){return e.lift(new u(t,n,i,r))}};c.prototype.call=function(e,t){return t.subscribe(new p(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))};var u=c;function c(e,t,r,n){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=r,this.scheduler=n}var l,h=function(){this.buffer=[]},p=(l=s.Subscriber,i(f,l),f.prototype._next=function(e){for(var t,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},f.prototype._error=function(e){this.contexts.length=0,l.prototype._error.call(this,e)},f.prototype._complete=function(){for(var e=this.contexts,t=this.destination;0<e.length;){var r=e.shift();t.next(r.buffer)}l.prototype._complete.call(this)},f.prototype._unsubscribe=function(){this.contexts=null},f.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly&&(e=this.openContext(),t=this.bufferTimeSpan,this.add(e.closeAction=this.scheduler.schedule(d,t,{subscriber:this,context:e,bufferTimeSpan:t})))},f.prototype.openContext=function(){var e=new h;return this.contexts.push(e),e},f.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;0<=(t?t.indexOf(e):-1)&&t.splice(t.indexOf(e),1)},f);function f(e,t,r,n,i){var o,e=l.call(this,e)||this,n=(e.bufferTimeSpan=t,e.bufferCreationInterval=r,e.maxBufferSize=n,e.scheduler=i,e.contexts=[],e.openContext());return e.timespanOnly=null==r||r<0,e.timespanOnly?e.add(n.closeAction=i.schedule(d,t,{subscriber:e,context:n,bufferTimeSpan:t})):(o={bufferTimeSpan:t,bufferCreationInterval:r,subscriber:e,scheduler:i},e.add(n.closeAction=i.schedule(y,t,{subscriber:e,context:n})),e.add(i.schedule(b,r,o))),e}function d(e){var t=e.subscriber,r=e.context;r&&t.closeContext(r),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function b(e){var t=e.bufferCreationInterval,r=e.bufferTimeSpan,n=e.subscriber,i=e.scheduler,o=n.openContext();n.closed||(n.add(o.closeAction=i.schedule(y,r,{subscriber:n,context:o})),this.schedule(e,t))}function y(e){var t=e.subscriber,e=e.context;t.closeContext(e)}},{"../Subscriber":104,"../scheduler/async":256,"../util/isScheduler":280}],141:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscription")),s=e("../util/subscribeToResult"),e=e("../OuterSubscriber");r.bufferToggle=function(t,r){return function(e){return e.lift(new a(t,r))}};u.prototype.call=function(e,t){return t.subscribe(new l(e,this.openings,this.closingSelector))};var a=u;function u(e,t){this.openings=e,this.closingSelector=t}c=e.OuterSubscriber,i(h,c),h.prototype._next=function(e){for(var t=this.contexts,r=t.length,n=0;n<r;n++)t[n].buffer.push(e)},h.prototype._error=function(e){for(var t=this.contexts;0<t.length;){var r=t.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,c.prototype._error.call(this,e)},h.prototype._complete=function(){for(var e=this.contexts;0<e.length;){var t=e.shift();this.destination.next(t.buffer),t.subscription.unsubscribe(),t.buffer=null,t.subscription=null}this.contexts=null,c.prototype._complete.call(this)},h.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},h.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},h.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},h.prototype.closeBuffer=function(e){var t,r,n=this.contexts;n&&e&&(t=e.buffer,r=e.subscription,this.destination.next(t),n.splice(n.indexOf(e),1),this.remove(r),r.unsubscribe())},h.prototype.trySubscribe=function(e){var t=this.contexts,r=new o.Subscription,n={buffer:[],subscription:r},t=(t.push(n),s.subscribeToResult(this,e,n));!t||t.closed?this.closeBuffer(n):(t.context=n,this.add(t),r.add(t))};var c,l=h;function h(e,t,r){e=c.call(this,e)||this;return e.closingSelector=r,e.contexts=[],e.add(s.subscribeToResult(e,t)),e}},{"../OuterSubscriber":99,"../Subscription":105,"../util/subscribeToResult":289}],142:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscription")),s=e("../innerSubscribe");r.bufferWhen=function(t){return function(e){return e.lift(new a(t))}};u.prototype.call=function(e,t){return t.subscribe(new l(e,this.closingSelector))};var a=u;function u(e){this.closingSelector=e}c=s.SimpleOuterSubscriber,i(h,c),h.prototype._next=function(e){this.buffer.push(e)},h.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),c.prototype._complete.call(this)},h.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},h.prototype.notifyNext=function(){this.openBuffer()},h.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},h.prototype.openBuffer=function(){var e=this.closingSubscription,t=(e&&(this.remove(e),e.unsubscribe()),this.buffer);this.buffer&&this.destination.next(t),this.buffer=[];try{var r=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new o.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(s.innerSubscribe(r,new s.SimpleInnerSubscriber(this))),this.subscribing=!1};var c,l=h;function h(e,t){e=c.call(this,e)||this;return e.closingSelector=t,e.subscribing=!1,e.openBuffer(),e}},{"../Subscription":105,"../innerSubscribe":107}],143:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../innerSubscribe"));r.catchError=function(r){return function(e){var t=new s(r),e=e.lift(t);return t.caught=e}};a.prototype.call=function(e,t){return t.subscribe(new c(e,this.selector,this.caught))};var s=a;function a(e){this.selector=e}u=o.SimpleOuterSubscriber,i(l,u),l.prototype.error=function(e){if(!this.isStopped){var t=void 0;try{t=this.selector(e,this.caught)}catch(e){return void u.prototype.error.call(this,e)}this._unsubscribeAndRecycle();e=new o.SimpleInnerSubscriber(this),t=(this.add(e),o.innerSubscribe(t,e));t!==e&&this.add(t)}};var u,c=l;function l(e,t,r){e=u.call(this,e)||this;return e.selector=t,e.caught=r,e}},{"../innerSubscribe":107}],144:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../observable/combineLatest");r.combineAll=function(t){return function(e){return e.lift(new n.CombineLatestOperator(t))}}},{"../observable/combineLatest":112}],145:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../util/isArray"),i=e("../observable/combineLatest"),o=e("../observable/from");r.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&n.isArray(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(o.from([e].concat(t)),new i.CombineLatestOperator(r))}}},{"../observable/combineLatest":112,"../observable/from":117,"../util/isArray":270}],146:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../observable/concat");r.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(n.concat.apply(void 0,[e].concat(t)))}}},{"../observable/concat":113}],147:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./mergeAll");r.concatAll=function(){return n.mergeAll(1)}},{"./mergeAll":180}],148:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./mergeMap");r.concatMap=function(e,t){return n.mergeMap(e,t,1)}},{"./mergeMap":181}],149:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./concatMap");r.concatMapTo=function(e,t){return n.concatMap(function(){return e},t)}},{"./concatMap":148}],150:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.count=function(t){return function(e){return e.lift(new o(t,e))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.source))};var o=s;function s(e,t){this.predicate=e,this.source=t}a=e.Subscriber,i(c,a),c.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},c.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},c.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()};var a,u=c;function c(e,t,r){e=a.call(this,e)||this;return e.predicate=t,e.source=r,e.count=0,e.index=0,e}},{"../Subscriber":104}],151:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../innerSubscribe"));r.debounce=function(t){return function(e){return e.lift(new s(t))}};a.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))};var s=a;function a(e){this.durationSelector=e}u=o.SimpleOuterSubscriber,i(l,u),l.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},l.prototype._complete=function(){this.emitValue(),this.destination.complete()},l.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=o.innerSubscribe(t,new o.SimpleInnerSubscriber(this)))&&!r.closed&&this.add(this.durationSubscription=r)},l.prototype.notifyNext=function(){this.emitValue()},l.prototype.notifyComplete=function(){this.emitValue()},l.prototype.emitValue=function(){var e,t;this.hasValue&&(e=this.value,(t=this.durationSubscription)&&(this.durationSubscription=void 0,t.unsubscribe(),this.remove(t)),this.value=void 0,this.hasValue=!1,u.prototype._next.call(this,e))};var u,c=l;function l(e,t){e=u.call(this,e)||this;return e.durationSelector=t,e.hasValue=!1,e}},{"../innerSubscribe":107}],152:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../scheduler/async");r.debounceTime=function(t,r){return void 0===r&&(r=s.async),function(e){return e.lift(new a(t,r))}};u.prototype.call=function(e,t){return t.subscribe(new l(e,this.dueTime,this.scheduler))};var a=u;function u(e,t){this.dueTime=e,this.scheduler=t}c=o.Subscriber,i(h,c),h.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(p,this.dueTime,this))},h.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},h.prototype.debouncedNext=function(){var e;this.clearDebounce(),this.hasValue&&(e=this.lastValue,this.lastValue=null,this.hasValue=!1,this.destination.next(e))},h.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)};var c,l=h;function h(e,t,r){e=c.call(this,e)||this;return e.dueTime=t,e.scheduler=r,e.debouncedSubscription=null,e.lastValue=null,e.hasValue=!1,e}function p(e){e.debouncedNext()}},{"../Subscriber":104,"../scheduler/async":256}],153:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.defaultIfEmpty=function(t){return void 0===t&&(t=null),function(e){return e.lift(new o(t))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.defaultValue))};var o=s;function s(e){this.defaultValue=e}a=e.Subscriber,i(c,a),c.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},c.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()};var a,u=c;function c(e,t){e=a.call(this,e)||this;return e.defaultValue=t,e.isEmpty=!0,e}},{"../Subscriber":104}],154:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../scheduler/async")),s=e("../util/isDate"),a=e("../Subscriber"),u=e("../Notification");r.delay=function(e,t){void 0===t&&(t=o.async);var r=s.isDate(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(r,t))}};l.prototype.call=function(e,t){return t.subscribe(new p(e,this.delay,this.scheduler))};var c=l;function l(e,t){this.delay=e,this.scheduler=t}h=a.Subscriber,i(f,h),f.dispatch=function(e){for(var t,r=e.source,n=r.queue,i=e.scheduler,o=e.destination;0<n.length&&n[0].time-i.now()<=0;)n.shift().notification.observe(o);0<n.length?(t=Math.max(0,n[0].time-i.now()),this.schedule(e,t)):(this.unsubscribe(),r.active=!1)},f.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(f.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},f.prototype.scheduleNotification=function(e){var t;!0!==this.errored&&(t=this.scheduler,e=new d(t.now()+this.delay,e),this.queue.push(e),!1===this.active&&this._schedule(t))},f.prototype._next=function(e){this.scheduleNotification(u.Notification.createNext(e))},f.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},f.prototype._complete=function(){this.scheduleNotification(u.Notification.createComplete()),this.unsubscribe()};var h,p=f;function f(e,t,r){e=h.call(this,e)||this;return e.delay=t,e.scheduler=r,e.queue=[],e.active=!1,e.errored=!1,e}var d=function(e,t){this.time=e,this.notification=t}},{"../Notification":96,"../Subscriber":104,"../scheduler/async":256,"../util/isDate":272}],155:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../Observable"),a=e("../OuterSubscriber"),u=e("../util/subscribeToResult");r.delayWhen=function(t,r){return r?function(e){return new b(e,r).lift(new c(t))}:function(e){return e.lift(new c(t))}};l.prototype.call=function(e,t){return t.subscribe(new p(e,this.delayDurationSelector))};var c=l;function l(e){this.delayDurationSelector=e}h=a.OuterSubscriber,i(f,h),f.prototype.notifyNext=function(e,t,r,n,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},f.prototype.notifyError=function(e,t){this._error(e)},f.prototype.notifyComplete=function(e){e=this.removeSubscription(e);e&&this.destination.next(e),this.tryComplete()},f.prototype._next=function(e){var t=this.index++;try{var r=this.delayDurationSelector(e,t);r&&this.tryDelay(r,e)}catch(e){this.destination.error(e)}},f.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},f.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},f.prototype.tryDelay=function(e,t){e=u.subscribeToResult(this,e,t);e&&!e.closed&&(this.destination.add(e),this.delayNotifierSubscriptions.push(e))},f.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()};var h,p=f;function f(e,t){e=h.call(this,e)||this;return e.delayDurationSelector=t,e.completed=!1,e.delayNotifierSubscriptions=[],e.index=0,e}d=s.Observable,i(y,d),y.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new g(e,this.source))};var d,b=y;function y(e,t){var r=d.call(this)||this;return r.source=e,r.subscriptionDelay=t,r}m=o.Subscriber,i(_,m),_.prototype._next=function(e){this.subscribeToSource()},_.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},_.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},_.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))};var m,g=_;function _(e,t){var r=m.call(this)||this;return r.parent=e,r.source=t,r.sourceSubscribed=!1,r}},{"../Observable":97,"../OuterSubscriber":99,"../Subscriber":104,"../util/subscribeToResult":289}],156:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.dematerialize=function(){return function(e){return e.lift(new o)}};s.prototype.call=function(e,t){return t.subscribe(new u(e))};var o=s;function s(){}a=e.Subscriber,i(c,a),c.prototype._next=function(e){e.observe(this.destination)};var a,u=c;function c(e){return a.call(this,e)||this}},{"../Subscriber":104}],157:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../innerSubscribe"));r.distinct=function(t,r){return function(e){return e.lift(new s(t,r))}};a.prototype.call=function(e,t){return t.subscribe(new c(e,this.keySelector,this.flushes))};var s=a;function a(e,t){this.keySelector=e,this.flushes=t}u=o.SimpleOuterSubscriber,i(l,u),l.prototype.notifyNext=function(){this.values.clear()},l.prototype.notifyError=function(e){this._error(e)},l.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},l.prototype._useKeySelector=function(e){var t,r=this.destination;try{t=this.keySelector(e)}catch(e){return void r.error(e)}this._finalizeNext(t,e)},l.prototype._finalizeNext=function(e,t){var r=this.values;r.has(e)||(r.add(e),this.destination.next(t))};var u,c=l;function l(e,t,r){e=u.call(this,e)||this;return e.keySelector=t,e.values=new Set,r&&e.add(o.innerSubscribe(r,new o.SimpleInnerSubscriber(e))),e}r.DistinctSubscriber=c},{"../innerSubscribe":107}],158:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.distinctUntilChanged=function(t,r){return function(e){return e.lift(new o(t,r))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.compare,this.keySelector))};var o=s;function s(e,t){this.compare=e,this.keySelector=t}a=e.Subscriber,i(c,a),c.prototype.compare=function(e,t){return e===t},c.prototype._next=function(e){try{var t=this.keySelector,r=t?t(e):e}catch(e){return this.destination.error(e)}t=!1;if(this.hasKey)try{t=(0,this.compare)(this.key,r)}catch(e){return this.destination.error(e)}else this.hasKey=!0;t||(this.key=r,this.destination.next(e))};var a,u=c;function c(e,t,r){e=a.call(this,e)||this;return e.keySelector=r,e.hasKey=!1,"function"==typeof t&&(e.compare=t),e}},{"../Subscriber":104}],159:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("./distinctUntilChanged");r.distinctUntilKeyChanged=function(r,n){return i.distinctUntilChanged(function(e,t){return n?n(e[r],t[r]):e[r]===t[r]})}},{"./distinctUntilChanged":158}],160:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../util/ArgumentOutOfRangeError"),o=e("./filter"),s=e("./throwIfEmpty"),a=e("./defaultIfEmpty"),u=e("./take");r.elementAt=function(r,t){if(r<0)throw new i.ArgumentOutOfRangeError;var n=2<=arguments.length;return function(e){return e.pipe(o.filter(function(e,t){return t===r}),u.take(1),n?a.defaultIfEmpty(t):s.throwIfEmpty(function(){return new i.ArgumentOutOfRangeError}))}}},{"../util/ArgumentOutOfRangeError":261,"./defaultIfEmpty":153,"./filter":166,"./take":218,"./throwIfEmpty":225}],161:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../observable/concat"),i=e("../observable/of");r.endWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return n.concat(e,i.of.apply(void 0,t))}}},{"../observable/concat":113,"../observable/of":126}],162:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.every=function(t,r){return function(e){return e.lift(new o(t,r,e))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.thisArg,this.source))};var o=s;function s(e,t,r){this.predicate=e,this.thisArg=t,this.source=r}a=e.Subscriber,i(c,a),c.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},c.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},c.prototype._complete=function(){this.notifyComplete(!0)};var a,u=c;function c(e,t,r,n){e=a.call(this,e)||this;return e.predicate=t,e.thisArg=r,e.source=n,e.index=0,e.thisArg=r||e,e}},{"../Subscriber":104}],163:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../innerSubscribe"));r.exhaust=function(){return function(e){return e.lift(new s)}};a.prototype.call=function(e,t){return t.subscribe(new c(e))};var s=a;function a(){}u=o.SimpleOuterSubscriber,i(l,u),l.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(o.innerSubscribe(e,new o.SimpleInnerSubscriber(this))))},l.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},l.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()};var u,c=l;function l(e){e=u.call(this,e)||this;return e.hasCompleted=!1,e.hasSubscription=!1,e}},{"../innerSubscribe":107}],164:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("./map")),a=e("../observable/from"),o=e("../innerSubscribe");r.exhaustMap=function t(i,o){return o?function(e){return e.pipe(t(function(r,n){return a.from(i(r,n)).pipe(s.map(function(e,t){return o(r,e,n,t)}))}))}:function(e){return e.lift(new u(i))}};c.prototype.call=function(e,t){return t.subscribe(new h(e,this.project))};var u=c;function c(e){this.project=e}l=o.SimpleOuterSubscriber,i(p,l),p.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},p.prototype.tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t)},p.prototype._innerSub=function(e){var t=new o.SimpleInnerSubscriber(this),r=this.destination,e=(r.add(t),o.innerSubscribe(e,t));e!==t&&r.add(e)},p.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},p.prototype.notifyNext=function(e){this.destination.next(e)},p.prototype.notifyError=function(e){this.destination.error(e)},p.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()};var l,h=p;function p(e,t){e=l.call(this,e)||this;return e.project=t,e.hasSubscription=!1,e.hasCompleted=!1,e.index=0,e}},{"../innerSubscribe":107,"../observable/from":117,"./map":175}],165:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../innerSubscribe"));r.expand=function(t,r,n){return r=((r=void 0===r?Number.POSITIVE_INFINITY:r)||0)<1?Number.POSITIVE_INFINITY:r,function(e){return e.lift(new s(t,r,n))}};a.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.concurrent,this.scheduler))};var s=a;function a(e,t,r){this.project=e,this.concurrent=t,this.scheduler=r}r.ExpandOperator=s;u=o.SimpleOuterSubscriber,i(l,u),l.dispatch=function(e){var t=e.subscriber,r=e.result,n=e.value,e=e.index;t.subscribeToProjection(r,n,e)},l.prototype._next=function(e){var t=this.destination;if(t.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){t.next(e);try{var n,i=(0,this.project)(e,r);this.scheduler?(n={subscriber:this,result:i,value:e,index:r},this.destination.add(this.scheduler.schedule(l.dispatch,0,n))):this.subscribeToProjection(i,e,r)}catch(e){t.error(e)}}else this.buffer.push(e)}},l.prototype.subscribeToProjection=function(e,t,r){this.active++,this.destination.add(o.innerSubscribe(e,new o.SimpleInnerSubscriber(this)))},l.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},l.prototype.notifyNext=function(e){this._next(e)},l.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&0<e.length&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()};var u,c=l;function l(e,t,r,n){e=u.call(this,e)||this;return e.project=t,e.concurrent=r,e.scheduler=n,e.index=0,e.active=0,e.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(e.buffer=[]),e}r.ExpandSubscriber=c},{"../innerSubscribe":107}],166:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.filter=function(t,r){return function(e){return e.lift(new o(t,r))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.thisArg))};var o=s;function s(e,t){this.predicate=e,this.thisArg=t}a=e.Subscriber,i(c,a),c.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)};var a,u=c;function c(e,t,r){e=a.call(this,e)||this;return e.predicate=t,e.thisArg=r,e.count=0,e}},{"../Subscriber":104}],167:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../Subscription");r.finalize=function(t){return function(e){return e.lift(new a(t))}};u.prototype.call=function(e,t){return t.subscribe(new l(e,this.callback))};var a=u;function u(e){this.callback=e}c=o.Subscriber,i(h,c);var c,l=h;function h(e,t){e=c.call(this,e)||this;return e.add(new s.Subscription(t)),e}},{"../Subscriber":104,"../Subscription":105}],168:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.find=function(t,r){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(e){return e.lift(new o(t,e,!1,r))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.source,this.yieldIndex,this.thisArg))};var o=s;function s(e,t,r,n){this.predicate=e,this.source=t,this.yieldIndex=r,this.thisArg=n}r.FindValueOperator=o;a=e.Subscriber,i(c,a),c.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},c.prototype._next=function(e){var t=this.predicate,r=this.thisArg,n=this.index++;try{t.call(r||this,e,n,this.source)&&this.notifyComplete(this.yieldIndex?n:e)}catch(e){this.destination.error(e)}},c.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)};var a,u=c;function c(e,t,r,n,i){e=a.call(this,e)||this;return e.predicate=t,e.source=r,e.yieldIndex=n,e.thisArg=i,e.index=0,e}r.FindValueSubscriber=u},{"../Subscriber":104}],169:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../operators/find");r.findIndex=function(t,r){return function(e){return e.lift(new n.FindValueOperator(t,e,!0,r))}}},{"../operators/find":168}],170:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../util/EmptyError"),o=e("./filter"),s=e("./take"),a=e("./defaultIfEmpty"),u=e("./throwIfEmpty"),c=e("../util/identity");r.first=function(n,e){var t=2<=arguments.length;return function(r){return r.pipe(n?o.filter(function(e,t){return n(e,t,r)}):c.identity,s.take(1),t?a.defaultIfEmpty(e):u.throwIfEmpty(function(){return new i.EmptyError}))}}},{"../util/EmptyError":262,"../util/identity":269,"./defaultIfEmpty":153,"./filter":166,"./take":218,"./throwIfEmpty":225}],171:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../Subscription"),a=e("../Observable"),u=e("../Subject");r.groupBy=function(t,r,n,i){return function(e){return e.lift(new c(t,r,n,i))}};l.prototype.call=function(e,t){return t.subscribe(new p(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))};var c=l;function l(e,t,r,n){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=n}h=o.Subscriber,i(f,h),f.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},f.prototype._group=function(e,t){var r,n=this.groups,i=(n=n||(this.groups=new Map)).get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(e){this.error(e)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new u.Subject,n.set(t,i);e=new g(t,i,this);if(this.destination.next(e),this.durationSelector){n=void 0;try{n=this.durationSelector(new g(t,i))}catch(e){return void this.error(e)}this.add(n.subscribe(new b(t,i,this)))}}i.closed||i.next(r)},f.prototype._error=function(r){var e=this.groups;e&&(e.forEach(function(e,t){e.error(r)}),e.clear()),this.destination.error(r)},f.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},f.prototype.removeGroup=function(e){this.groups.delete(e)},f.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&h.prototype.unsubscribe.call(this))};var h,p=f;function f(e,t,r,n,i){e=h.call(this,e)||this;return e.keySelector=t,e.elementSelector=r,e.durationSelector=n,e.subjectSelector=i,e.groups=null,e.attemptedToUnsubscribe=!1,e.count=0,e}d=o.Subscriber,i(y,d),y.prototype._next=function(e){this.complete()},y.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)};var d,b=y;function y(e,t,r){var n=d.call(this,t)||this;return n.key=e,n.group=t,n.parent=r,n}m=a.Observable,i(_,m),_.prototype._subscribe=function(e){var t=new s.Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&t.add(new w(r)),t.add(n.subscribe(e)),t};var m,g=_;function _(e,t,r){var n=m.call(this)||this;return n.key=e,n.groupSubject=t,n.refCountSubscription=r,n}r.GroupedObservable=g;v=s.Subscription,i(S,v),S.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(v.prototype.unsubscribe.call(this),--e.count,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())};var v,w=S;function S(e){var t=v.call(this)||this;return(t.parent=e).count++,t}},{"../Observable":97,"../Subject":102,"../Subscriber":104,"../Subscription":105}],172:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.ignoreElements=function(){return function(e){return e.lift(new o)}};s.prototype.call=function(e,t){return t.subscribe(new u(e))};var o=s;function s(){}a=e.Subscriber,i(c,a),c.prototype._next=function(e){};var a,u=c;function c(){return null!==a&&a.apply(this,arguments)||this}},{"../Subscriber":104}],173:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.isEmpty=function(){return function(e){return e.lift(new o)}};s.prototype.call=function(e,t){return t.subscribe(new u(e))};var o=s;function s(){}a=e.Subscriber,i(c,a),c.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},c.prototype._next=function(e){this.notifyComplete(!1)},c.prototype._complete=function(){this.notifyComplete(!0)};var a,u=c;function c(e){return a.call(this,e)||this}},{"../Subscriber":104}],174:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../util/EmptyError"),o=e("./filter"),s=e("./takeLast"),a=e("./throwIfEmpty"),u=e("./defaultIfEmpty"),c=e("../util/identity");r.last=function(n,e){var t=2<=arguments.length;return function(r){return r.pipe(n?o.filter(function(e,t){return n(e,t,r)}):c.identity,s.takeLast(1),t?u.defaultIfEmpty(e):a.throwIfEmpty(function(){return new i.EmptyError}))}}},{"../util/EmptyError":262,"../util/identity":269,"./defaultIfEmpty":153,"./filter":166,"./takeLast":219,"./throwIfEmpty":225}],175:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.map=function(t,r){return function(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new o(t,r))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.thisArg))};var o=s;function s(e,t){this.project=e,this.thisArg=t}r.MapOperator=o;a=e.Subscriber,i(c,a),c.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)};var a,u=c;function c(e,t,r){e=a.call(this,e)||this;return e.project=t,e.count=0,e.thisArg=r||e,e}},{"../Subscriber":104}],176:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.mapTo=function(t){return function(e){return e.lift(new o(t))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.value))};var o=s;function s(e){this.value=e}a=e.Subscriber,i(c,a),c.prototype._next=function(e){this.destination.next(this.value)};var a,u=c;function c(e,t){e=a.call(this,e)||this;return e.value=t,e}},{"../Subscriber":104}],177:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../Notification");r.materialize=function(){return function(e){return e.lift(new a)}};u.prototype.call=function(e,t){return t.subscribe(new l(e))};var a=u;function u(){}c=o.Subscriber,i(h,c),h.prototype._next=function(e){this.destination.next(s.Notification.createNext(e))},h.prototype._error=function(e){var t=this.destination;t.next(s.Notification.createError(e)),t.complete()},h.prototype._complete=function(){var e=this.destination;e.next(s.Notification.createComplete()),e.complete()};var c,l=h;function h(e){return c.call(this,e)||this}},{"../Notification":96,"../Subscriber":104}],178:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./reduce");r.max=function(r){return n.reduce("function"==typeof r?function(e,t){return 0<r(e,t)?e:t}:function(e,t){return t<e?e:t})}},{"./reduce":196}],179:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../observable/merge");r.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(n.merge.apply(void 0,[e].concat(t)))}}},{"../observable/merge":124}],180:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./mergeMap"),i=e("../util/identity");r.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),n.mergeMap(i.identity,e)}},{"../util/identity":269,"./mergeMap":181}],181:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("./map")),s=e("../observable/from"),a=e("../innerSubscribe");function u(t,i,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof i?function(e){return e.pipe(u(function(r,n){return s.from(t(r,n)).pipe(o.map(function(e,t){return i(r,e,n,t)}))},r))}:("number"==typeof i&&(r=i),function(e){return e.lift(new c(t,r))})}r.mergeMap=u;l.prototype.call=function(e,t){return t.subscribe(new p(e,this.project,this.concurrent))};var c=l;function l(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}r.MergeMapOperator=c;h=a.SimpleOuterSubscriber,i(f,h),f.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},f.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},f.prototype._innerSub=function(e){var t=new a.SimpleInnerSubscriber(this),r=this.destination,e=(r.add(t),a.innerSubscribe(e,t));e!==t&&r.add(e)},f.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},f.prototype.notifyNext=function(e){this.destination.next(e)},f.prototype.notifyComplete=function(){var e=this.buffer;this.active--,0<e.length?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};var h,p=f;function f(e,t,r){void 0===r&&(r=Number.POSITIVE_INFINITY);e=h.call(this,e)||this;return e.project=t,e.concurrent=r,e.hasCompleted=!1,e.buffer=[],e.active=0,e.index=0,e}r.MergeMapSubscriber=p,r.flatMap=u},{"../innerSubscribe":107,"../observable/from":117,"./map":175}],182:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./mergeMap");r.mergeMapTo=function(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof t?n.mergeMap(function(){return e},t,r):n.mergeMap(function(){return e},r="number"==typeof t?t:r)}},{"./mergeMap":181}],183:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../innerSubscribe"));r.mergeScan=function(t,r,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(e){return e.lift(new s(t,r,n))}};a.prototype.call=function(e,t){return t.subscribe(new c(e,this.accumulator,this.seed,this.concurrent))};var s=a;function a(e,t,r){this.accumulator=e,this.seed=t,this.concurrent=r}r.MergeScanOperator=s;u=o.SimpleOuterSubscriber,i(l,u),l.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,r=this.destination,n=void 0;try{n=(0,this.accumulator)(this.acc,e,t)}catch(e){return r.error(e)}this.active++,this._innerSub(n)}else this.buffer.push(e)},l.prototype._innerSub=function(e){var t=new o.SimpleInnerSubscriber(this),r=this.destination,e=(r.add(t),o.innerSubscribe(e,t));e!==t&&r.add(e)},l.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},l.prototype.notifyNext=function(e){var t=this.destination;this.acc=e,this.hasValue=!0,t.next(e)},l.prototype.notifyComplete=function(){var e=this.buffer;this.active--,0<e.length?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())};var u,c=l;function l(e,t,r,n){e=u.call(this,e)||this;return e.accumulator=t,e.acc=r,e.concurrent=n,e.hasValue=!1,e.hasCompleted=!1,e.buffer=[],e.active=0,e.index=0,e}r.MergeScanSubscriber=c},{"../innerSubscribe":107}],184:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./reduce");r.min=function(r){return n.reduce("function"==typeof r?function(e,t){return r(e,t)<0?e:t}:function(e,t){return e<t?e:t})}},{"./reduce":196}],185:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../observable/ConnectableObservable");r.multicast=function(n,i){return function(e){var t="function"==typeof n?n:function(){return n};if("function"==typeof i)return e.lift(new s(t,i));var r=Object.create(e,o.connectableObservableDescriptor);return r.source=e,r.subjectFactory=t,r}};n.prototype.call=function(e,t){var r=this.selector,n=this.subjectFactory(),r=r(n).subscribe(e);return r.add(t.subscribe(n)),r};var s=n;function n(e,t){this.subjectFactory=e,this.selector=t}r.MulticastOperator=s},{"../observable/ConnectableObservable":108}],186:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../Notification");r.observeOn=function(t,r){return void 0===r&&(r=0),function(e){return e.lift(new a(t,r))}};u.prototype.call=function(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))};var a=u;function u(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}r.ObserveOnOperator=a;c=o.Subscriber,i(h,c),h.dispatch=function(e){var t=e.notification,e=e.destination;t.observe(e),this.unsubscribe()},h.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(h.dispatch,this.delay,new p(e,this.destination)))},h.prototype._next=function(e){this.scheduleMessage(s.Notification.createNext(e))},h.prototype._error=function(e){this.scheduleMessage(s.Notification.createError(e)),this.unsubscribe()},h.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete()),this.unsubscribe()};var c,l=h;function h(e,t,r){void 0===r&&(r=0);e=c.call(this,e)||this;return e.scheduler=t,e.delay=r,e}r.ObserveOnSubscriber=l;var p=function(e,t){this.notification=e,this.destination=t};r.ObserveOnMessage=p},{"../Notification":96,"../Subscriber":104}],187:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../observable/from")),s=e("../util/isArray"),a=e("../innerSubscribe");r.onErrorResumeNext=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&s.isArray(t[0])&&(t=t[0]),function(e){return e.lift(new u(t))}},r.onErrorResumeNextStatic=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(e=1===e.length&&s.isArray(e[0])?e[0]:e).shift();return o.from(r).lift(new u(e))};c.prototype.call=function(e,t){return t.subscribe(new h(e,this.nextSources))};var u=c;function c(e){this.nextSources=e}l=a.SimpleOuterSubscriber,i(p,l),p.prototype.notifyError=function(){this.subscribeToNextSource()},p.prototype.notifyComplete=function(){this.subscribeToNextSource()},p.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},p.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},p.prototype.subscribeToNextSource=function(){var e,t,r=this.nextSources.shift();r?(e=new a.SimpleInnerSubscriber(this),(t=this.destination).add(e),(r=a.innerSubscribe(r,e))!==e&&t.add(r)):this.destination.complete()};var l,h=p;function p(e,t){var r=l.call(this,e)||this;return r.destination=e,r.nextSources=t,r}},{"../innerSubscribe":107,"../observable/from":117,"../util/isArray":270}],188:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.pairwise=function(){return function(e){return e.lift(new o)}};s.prototype.call=function(e,t){return t.subscribe(new u(e))};var o=s;function s(){}a=e.Subscriber,i(c,a),c.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)};var a,u=c;function c(e){e=a.call(this,e)||this;return e.hasPrev=!1,e}},{"../Subscriber":104}],189:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../util/not"),i=e("./filter");r.partition=function(t,r){return function(e){return[i.filter(t,r)(e),i.filter(n.not(t,r))(e)]}}},{"../util/not":282,"./filter":166}],190:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./map");r.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return n.map((i=t,o=r,function(e){for(var t=e,r=0;r<o;r++){var n=null!=t?t[i[r]]:void 0;if(void 0===n)return;t=n}return t}))(e);var i,o}}},{"./map":175}],191:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Subject"),i=e("./multicast");r.publish=function(e){return e?i.multicast(function(){return new n.Subject},e):i.multicast(new n.Subject)}},{"../Subject":102,"./multicast":185}],192:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../BehaviorSubject"),i=e("./multicast");r.publishBehavior=function(t){return function(e){return i.multicast(new n.BehaviorSubject(t))(e)}}},{"../BehaviorSubject":94,"./multicast":185}],193:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../AsyncSubject"),i=e("./multicast");r.publishLast=function(){return function(e){return i.multicast(new n.AsyncSubject)(e)}}},{"../AsyncSubject":93,"./multicast":185}],194:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=e("../ReplaySubject"),a=e("./multicast");r.publishReplay=function(e,t,r,n){var i="function"==typeof r?r:void 0,o=new s.ReplaySubject(e,t,n=r&&"function"!=typeof r?r:n);return function(e){return a.multicast(function(){return o},i)(e)}}},{"../ReplaySubject":100,"./multicast":185}],195:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../util/isArray"),i=e("../observable/race");r.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&n.isArray(t[0])&&(t=t[0]),e.lift.call(i.race.apply(void 0,[e].concat(t)))}}},{"../observable/race":130,"../util/isArray":270}],196:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("./scan"),o=e("./takeLast"),s=e("./defaultIfEmpty"),a=e("../util/pipe");r.reduce=function(n,t){return 2<=arguments.length?function(e){return a.pipe(i.scan(n,t),o.takeLast(1),s.defaultIfEmpty(t))(e)}:function(e){return a.pipe(i.scan(function(e,t,r){return n(e,t,r+1)}),o.takeLast(1))(e)}}},{"../util/pipe":283,"./defaultIfEmpty":153,"./scan":204,"./takeLast":219}],197:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.refCount=function(){return function(e){return e.lift(new o(e))}};s.prototype.call=function(e,t){var r=this.connectable,e=(r._refCount++,new u(e,r)),t=t.subscribe(e);return e.closed||(e.connection=r.connect()),t};var o=s;function s(e){this.connectable=e}a=e.Subscriber,i(c,a),c.prototype._unsubscribe=function(){var e,t=this.connectable;t?(this.connectable=null,(e=t._refCount)<=0?this.connection=null:(t._refCount=e-1,1<e?this.connection=null:(e=this.connection,t=t._connection,this.connection=null,!t||e&&t!==e||t.unsubscribe()))):this.connection=null};var a,u=c;function c(e,t){e=a.call(this,e)||this;return e.connectable=t,e}},{"../Subscriber":104}],198:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../observable/empty");r.repeat=function(t){return void 0===t&&(t=-1),function(e){return 0===t?s.empty():t<0?e.lift(new a(-1,e)):e.lift(new a(t-1,e))}};u.prototype.call=function(e,t){return t.subscribe(new l(e,this.count,this.source))};var a=u;function u(e,t){this.count=e,this.source=t}c=o.Subscriber,i(h,c),h.prototype.complete=function(){if(!this.isStopped){var e=this.source,t=this.count;if(0===t)return c.prototype.complete.call(this);-1<t&&(this.count=t-1),e.subscribe(this._unsubscribeAndRecycle())}};var c,l=h;function h(e,t,r){e=c.call(this,e)||this;return e.count=t,e.source=r,e}},{"../Subscriber":104,"../observable/empty":115}],199:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subject")),s=e("../innerSubscribe");r.repeatWhen=function(t){return function(e){return e.lift(new a(t))}};u.prototype.call=function(e,t){return t.subscribe(new l(e,this.notifier,t))};var a=u;function u(e){this.notifier=e}c=s.SimpleOuterSubscriber,i(h,c),h.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},h.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return c.prototype.complete.call(this)},h.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return c.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},h.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},h.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,c.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},h.prototype.subscribeToRetries=function(){this.notifications=new o.Subject;try{var e=(0,this.notifier)(this.notifications)}catch(e){return c.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=s.innerSubscribe(e,new s.SimpleInnerSubscriber(this))};var c,l=h;function h(e,t,r){e=c.call(this,e)||this;return e.notifier=t,e.source=r,e.sourceIsBeingSubscribedTo=!0,e}},{"../Subject":102,"../innerSubscribe":107}],200:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.retry=function(t){return void 0===t&&(t=-1),function(e){return e.lift(new o(t,e))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.count,this.source))};var o=s;function s(e,t){this.count=e,this.source=t}a=e.Subscriber,i(c,a),c.prototype.error=function(e){if(!this.isStopped){var t=this.source,r=this.count;if(0===r)return a.prototype.error.call(this,e);-1<r&&(this.count=r-1),t.subscribe(this._unsubscribeAndRecycle())}};var a,u=c;function c(e,t,r){e=a.call(this,e)||this;return e.count=t,e.source=r,e}},{"../Subscriber":104}],201:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subject")),s=e("../innerSubscribe");r.retryWhen=function(t){return function(e){return e.lift(new a(t,e))}};u.prototype.call=function(e,t){return t.subscribe(new l(e,this.notifier,this.source))};var a=u;function u(e,t){this.notifier=e,this.source=t}c=s.SimpleOuterSubscriber,i(h,c),h.prototype.error=function(e){if(!this.isStopped){var t=this.errors,r=this.retries,n=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{t=new o.Subject;try{r=(0,this.notifier)(t)}catch(e){return c.prototype.error.call(this,e)}n=s.innerSubscribe(r,new s.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=t,this.retries=r,this.retriesSubscription=n,t.next(e)}},h.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},h.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)};var c,l=h;function h(e,t,r){e=c.call(this,e)||this;return e.notifier=t,e.source=r,e}},{"../Subject":102,"../innerSubscribe":107}],202:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../innerSubscribe"));r.sample=function(t){return function(e){return e.lift(new s(t))}};a.prototype.call=function(e,t){e=new c(e),t=t.subscribe(e);return t.add(o.innerSubscribe(this.notifier,new o.SimpleInnerSubscriber(e))),t};var s=a;function a(e){this.notifier=e}u=o.SimpleOuterSubscriber,i(l,u),l.prototype._next=function(e){this.value=e,this.hasValue=!0},l.prototype.notifyNext=function(){this.emitValue()},l.prototype.notifyComplete=function(){this.emitValue()},l.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))};var u,c=l;function l(){var e=null!==u&&u.apply(this,arguments)||this;return e.hasValue=!1,e}},{"../innerSubscribe":107}],203:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../scheduler/async");r.sampleTime=function(t,r){return void 0===r&&(r=s.async),function(e){return e.lift(new a(t,r))}};u.prototype.call=function(e,t){return t.subscribe(new l(e,this.period,this.scheduler))};var a=u;function u(e,t){this.period=e,this.scheduler=t}c=o.Subscriber,i(h,c),h.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},h.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))};var c,l=h;function h(e,t,r){e=c.call(this,e)||this;return e.period=t,e.scheduler=r,e.hasValue=!1,e.add(r.schedule(p,t,{subscriber:e,period:t})),e}function p(e){var t=e.subscriber,r=e.period;t.notifyNext(),this.schedule(e,r)}},{"../Subscriber":104,"../scheduler/async":256}],204:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.scan=function(t,r){var n=2<=arguments.length?!0:!1;return function(e){return e.lift(new o(t,r,n))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.accumulator,this.seed,this.hasSeed))};var o=s;function s(e,t,r){void 0===r&&(r=!1),this.accumulator=e,this.seed=t,this.hasSeed=r}a=e.Subscriber,i(c,a),Object.defineProperty(c.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),c.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},c.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.accumulator(this.seed,e,r)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)};var a,u=c;function c(e,t,r,n){e=a.call(this,e)||this;return e.accumulator=t,e._seed=r,e.hasSeed=n,e.index=0,e}},{"../Subscriber":104}],205:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.sequenceEqual=function(t,r){return function(e){return e.lift(new o(t,r))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.compareTo,this.comparator))};var o=s;function s(e,t){this.compareTo=e,this.comparator=t}r.SequenceEqualOperator=o;a=e.Subscriber,i(c,a),c.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},c.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},c.prototype.checkValues=function(){for(var e=this._a,t=this._b,r=this.comparator;0<e.length&&0<t.length;){var n=e.shift(),i=t.shift(),o=!1;try{o=r?r(n,i):n===i}catch(e){this.destination.error(e)}o||this.emit(!1)}},c.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},c.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},c.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0};var a,u=c;function c(e,t,r){var n=a.call(this,e)||this;return n.compareTo=t,n.comparator=r,n._a=[],n._b=[],n._oneComplete=!1,n.destination.add(t.subscribe(new h(e,n))),n}r.SequenceEqualSubscriber=u;l=e.Subscriber,i(p,l),p.prototype._next=function(e){this.parent.nextB(e)},p.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},p.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()};var l,h=p;function p(e,t){e=l.call(this,e)||this;return e.parent=t,e}},{"../Subscriber":104}],206:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./multicast"),i=e("./refCount"),o=e("../Subject");function s(){return new o.Subject}r.share=function(){return function(e){return i.refCount()(n.multicast(s)(e))}}},{"../Subject":102,"./multicast":185,"./refCount":197}],207:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var p=e("../ReplaySubject");r.shareReplay=function(e,t,r){var h=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:r};return function(e){return e.lift((t=(e=h).bufferSize,i=void 0===t?Number.POSITIVE_INFINITY:t,t=e.windowTime,o=void 0===t?Number.POSITIVE_INFINITY:t,s=e.refCount,a=e.scheduler,u=0,l=c=!1,function(e){var t;u++,!r||c?(c=!1,r=new p.ReplaySubject(i,o,a),t=r.subscribe(this),n=e.subscribe({next:function(e){r.next(e)},error:function(e){c=!0,r.error(e)},complete:function(){l=!0,n=void 0,r.complete()}}),l&&(n=void 0)):t=r.subscribe(this),this.add(function(){u--,t.unsubscribe(),t=void 0,n&&!l&&s&&0===u&&(n.unsubscribe(),r=n=void 0)})}));var r,n,t,i,o,s,a,u,c,l}}},{"../ReplaySubject":100}],208:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../util/EmptyError");r.single=function(t){return function(e){return e.lift(new a(t,e))}};u.prototype.call=function(e,t){return t.subscribe(new l(e,this.predicate,this.source))};var a=u;function u(e,t){this.predicate=e,this.source=t}c=o.Subscriber,i(h,c),h.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},h.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},h.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},h.prototype._complete=function(){var e=this.destination;0<this.index?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new s.EmptyError)};var c,l=h;function h(e,t,r){e=c.call(this,e)||this;return e.predicate=t,e.source=r,e.seenValue=!1,e.index=0,e}},{"../Subscriber":104,"../util/EmptyError":262}],209:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.skip=function(t){return function(e){return e.lift(new o(t))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.total))};var o=s;function s(e){this.total=e}a=e.Subscriber,i(c,a),c.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)};var a,u=c;function c(e,t){e=a.call(this,e)||this;return e.total=t,e.count=0,e}},{"../Subscriber":104}],210:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../util/ArgumentOutOfRangeError");r.skipLast=function(t){return function(e){return e.lift(new a(t))}};u.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new o.Subscriber(e)):t.subscribe(new l(e,this._skipCount))};var a=u;function u(e){if(this._skipCount=e,this._skipCount<0)throw new s.ArgumentOutOfRangeError}c=o.Subscriber,i(h,c),h.prototype._next=function(e){var t,r=this._skipCount,n=this._count++;n<r?this._ring[n]=e:(r=(t=this._ring)[n=n%r],t[n]=e,this.destination.next(r))};var c,l=h;function h(e,t){e=c.call(this,e)||this;return e._skipCount=t,e._count=0,e._ring=new Array(t),e}},{"../Subscriber":104,"../util/ArgumentOutOfRangeError":261}],211:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../innerSubscribe"));r.skipUntil=function(t){return function(e){return e.lift(new s(t))}};a.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier))};var s=a;function a(e){this.notifier=e}u=o.SimpleOuterSubscriber,i(l,u),l.prototype._next=function(e){this.hasValue&&u.prototype._next.call(this,e)},l.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},l.prototype.notifyComplete=function(){};var u,c=l;function l(e,t){var e=u.call(this,e)||this,r=(e.hasValue=!1,new o.SimpleInnerSubscriber(e)),t=(e.add(r),e.innerSubscription=r,o.innerSubscribe(t,r));return t!==r&&(e.add(t),e.innerSubscription=t),e}},{"../innerSubscribe":107}],212:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.skipWhile=function(t){return function(e){return e.lift(new o(t))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate))};var o=s;function s(e){this.predicate=e}a=e.Subscriber,i(c,a),c.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},c.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}};var a,u=c;function c(e,t){e=a.call(this,e)||this;return e.predicate=t,e.skipping=!0,e.index=0,e}},{"../Subscriber":104}],213:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../observable/concat"),i=e("../util/isScheduler");r.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return i.isScheduler(r)?(t.pop(),function(e){return n.concat(t,e,r)}):function(e){return n.concat(t,e)}}},{"../observable/concat":113,"../util/isScheduler":280}],214:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../observable/SubscribeOnObservable");r.subscribeOn=function(t,r){return void 0===r&&(r=0),function(e){return e.lift(new i(t,r))}};o.prototype.call=function(e,t){return new n.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)};var i=o;function o(e,t){this.scheduler=e,this.delay=t}},{"../observable/SubscribeOnObservable":109}],215:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./switchMap"),i=e("../util/identity");r.switchAll=function(){return n.switchMap(i.identity)}},{"../util/identity":269,"./switchMap":216}],216:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("./map")),a=e("../observable/from"),o=e("../innerSubscribe");r.switchMap=function t(i,o){return"function"==typeof o?function(e){return e.pipe(t(function(r,n){return a.from(i(r,n)).pipe(s.map(function(e,t){return o(r,e,n,t)}))}))}:function(e){return e.lift(new u(i))}};c.prototype.call=function(e,t){return t.subscribe(new h(e,this.project))};var u=c;function c(e){this.project=e}l=o.SimpleOuterSubscriber,i(p,l),p.prototype._next=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t)},p.prototype._innerSub=function(e){var t=this.innerSubscription,t=(t&&t.unsubscribe(),new o.SimpleInnerSubscriber(this)),r=this.destination;r.add(t),this.innerSubscription=o.innerSubscribe(e,t),this.innerSubscription!==t&&r.add(this.innerSubscription)},p.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||l.prototype._complete.call(this),this.unsubscribe()},p.prototype._unsubscribe=function(){this.innerSubscription=void 0},p.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&l.prototype._complete.call(this)},p.prototype.notifyNext=function(e){this.destination.next(e)};var l,h=p;function p(e,t){e=l.call(this,e)||this;return e.project=t,e.index=0,e}},{"../innerSubscribe":107,"../observable/from":117,"./map":175}],217:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./switchMap");r.switchMapTo=function(e,t){return t?n.switchMap(function(){return e},t):n.switchMap(function(){return e})}},{"./switchMap":216}],218:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../util/ArgumentOutOfRangeError"),a=e("../observable/empty");r.take=function(t){return function(e){return 0===t?a.empty():e.lift(new u(t))}};c.prototype.call=function(e,t){return t.subscribe(new h(e,this.total))};var u=c;function c(e){if(this.total=e,this.total<0)throw new s.ArgumentOutOfRangeError}l=o.Subscriber,i(p,l),p.prototype._next=function(e){var t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))};var l,h=p;function p(e,t){e=l.call(this,e)||this;return e.total=t,e.count=0,e}},{"../Subscriber":104,"../observable/empty":115,"../util/ArgumentOutOfRangeError":261}],219:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../util/ArgumentOutOfRangeError"),a=e("../observable/empty");r.takeLast=function(t){return function(e){return 0===t?a.empty():e.lift(new u(t))}};c.prototype.call=function(e,t){return t.subscribe(new h(e,this.total))};var u=c;function c(e){if(this.total=e,this.total<0)throw new s.ArgumentOutOfRangeError}l=o.Subscriber,i(p,l),p.prototype._next=function(e){var t=this.ring,r=this.total,n=this.count++;t.length<r?t.push(e):t[n%r]=e},p.prototype._complete=function(){var e=this.destination,t=this.count;if(0<t)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=t++%r;e.next(n[o])}e.complete()};var l,h=p;function p(e,t){e=l.call(this,e)||this;return e.total=t,e.ring=new Array,e.count=0,e}},{"../Subscriber":104,"../observable/empty":115,"../util/ArgumentOutOfRangeError":261}],220:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../innerSubscribe"));r.takeUntil=function(t){return function(e){return e.lift(new s(t))}};a.prototype.call=function(e,t){var e=new c(e),r=o.innerSubscribe(this.notifier,new o.SimpleInnerSubscriber(e));return r&&!e.seenValue?(e.add(r),t.subscribe(e)):e};var s=a;function a(e){this.notifier=e}u=o.SimpleOuterSubscriber,i(l,u),l.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},l.prototype.notifyComplete=function(){};var u,c=l;function l(e){e=u.call(this,e)||this;return e.seenValue=!1,e}},{"../innerSubscribe":107}],221:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber"));r.takeWhile=function(t,r){return void 0===r&&(r=!1),function(e){return e.lift(new o(t,r))}};s.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.inclusive))};var o=s;function s(e,t){this.predicate=e,this.inclusive=t}a=e.Subscriber,i(c,a),c.prototype._next=function(e){var t,r=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void r.error(e)}this.nextOrComplete(e,t)},c.prototype.nextOrComplete=function(e,t){var r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())};var a,u=c;function c(e,t,r){e=a.call(this,e)||this;return e.predicate=t,e.inclusive=r,e.index=0,e}},{"../Subscriber":104}],222:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../util/noop"),a=e("../util/isFunction");r.tap=function(t,r,n){return function(e){return e.lift(new u(t,r,n))}};c.prototype.call=function(e,t){return t.subscribe(new h(e,this.nextOrObserver,this.error,this.complete))};var u=c;function c(e,t,r){this.nextOrObserver=e,this.error=t,this.complete=r}l=o.Subscriber,i(p,l),p.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},p.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},p.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()};var l,h=p;function p(e,t,r,n){e=l.call(this,e)||this;return e._tapNext=s.noop,e._tapError=s.noop,e._tapComplete=s.noop,e._tapError=r||s.noop,e._tapComplete=n||s.noop,a.isFunction(t)?(e._context=e)._tapNext=t:t&&(e._context=t,e._tapNext=t.next||s.noop,e._tapError=t.error||s.noop,e._tapComplete=t.complete||s.noop),e}},{"../Subscriber":104,"../util/isFunction":273,"../util/noop":281}],223:[function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(n,"__esModule",{value:!0}),e("../innerSubscribe"));n.defaultThrottleConfig={leading:!0,trailing:!1},n.throttle=function(t,r){return void 0===r&&(r=n.defaultThrottleConfig),function(e){return e.lift(new s(t,!!r.leading,!!r.trailing))}};a.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector,this.leading,this.trailing))};var s=a;function a(e,t,r){this.durationSelector=e,this.leading=t,this.trailing=r}u=o.SimpleOuterSubscriber,r(l,u),l.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},l.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},l.prototype.throttle=function(e){e=this.tryDurationSelector(e);e&&this.add(this._throttled=o.innerSubscribe(e,new o.SimpleInnerSubscriber(this)))},l.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},l.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},l.prototype.notifyNext=function(){this.throttlingDone()},l.prototype.notifyComplete=function(){this.throttlingDone()};var u,c=l;function l(e,t,r,n){var i=u.call(this,e)||this;return i.destination=e,i.durationSelector=t,i._leading=r,i._trailing=n,i._hasValue=!1,i}},{"../innerSubscribe":107}],224:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),s=e("../scheduler/async"),a=e("./throttle");r.throttleTime=function(t,r,n){return void 0===r&&(r=s.async),void 0===n&&(n=a.defaultThrottleConfig),function(e){return e.lift(new u(t,r,n.leading,n.trailing))}};c.prototype.call=function(e,t){return t.subscribe(new h(e,this.duration,this.scheduler,this.leading,this.trailing))};var u=c;function c(e,t,r,n){this.duration=e,this.scheduler=t,this.leading=r,this.trailing=n}l=o.Subscriber,i(p,l),p.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(f,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},p.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},p.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)};var l,h=p;function p(e,t,r,n,i){e=l.call(this,e)||this;return e.duration=t,e.scheduler=r,e.leading=n,e.trailing=i,e._hasTrailingValue=!1,e._trailingValue=null,e}function f(e){e.subscriber.clearThrottle()}},{"../Subscriber":104,"../scheduler/async":256,"./throttle":223}],225:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../util/EmptyError")),e=e("../Subscriber");r.throwIfEmpty=function(t){return void 0===t&&(t=h),function(e){return e.lift(new s(t))}};a.prototype.call=function(e,t){return t.subscribe(new c(e,this.errorFactory))};var s=a;function a(e){this.errorFactory=e}u=e.Subscriber,i(l,u),l.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},l.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)};var u,c=l;function l(e,t){e=u.call(this,e)||this;return e.errorFactory=t,e.hasValue=!1,e}function h(){return new o.EmptyError}},{"../Subscriber":104,"../util/EmptyError":262}],226:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../scheduler/async"),i=e("./scan"),o=e("../observable/defer"),s=e("./map");r.timeInterval=function(r){return void 0===r&&(r=n.async),function(e){return o.defer(function(){return e.pipe(i.scan(function(e,t){e=e.current;return{value:t,current:r.now(),last:e}},{current:r.now(),value:void 0,last:void 0}),s.map(function(e){var t=e.current,r=e.last,e=e.value;return new a(e,t-r)}))})}};var a=function(e,t){this.value=e,this.interval=t};r.TimeInterval=a},{"../observable/defer":114,"../scheduler/async":256,"./map":175,"./scan":204}],227:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../scheduler/async"),i=e("../util/TimeoutError"),o=e("./timeoutWith"),s=e("../observable/throwError");r.timeout=function(e,t){return void 0===t&&(t=n.async),o.timeoutWith(e,s.throwError(new i.TimeoutError),t)}},{"../observable/throwError":132,"../scheduler/async":256,"../util/TimeoutError":265,"./timeoutWith":228}],228:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("../scheduler/async")),a=e("../util/isDate"),o=e("../innerSubscribe");r.timeoutWith=function(n,i,o){return void 0===o&&(o=s.async),function(e){var t=a.isDate(n),r=t?+n-o.now():Math.abs(n);return e.lift(new u(r,t,i,o))}};c.prototype.call=function(e,t){return t.subscribe(new h(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))};var u=c;function c(e,t,r,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=r,this.scheduler=n}l=o.SimpleOuterSubscriber,i(p,l),p.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(o.innerSubscribe(t,new o.SimpleInnerSubscriber(e)))},p.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(p.dispatchTimeout,this.waitFor,this))},p.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),l.prototype._next.call(this,e)},p.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null};var l,h=p;function p(e,t,r,n,i){e=l.call(this,e)||this;return e.absoluteTimeout=t,e.waitFor=r,e.withObservable=n,e.scheduler=i,e.scheduleTimeout(),e}},{"../innerSubscribe":107,"../scheduler/async":256,"../util/isDate":272}],229:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../scheduler/async"),i=e("./map");r.timestamp=function(t){return void 0===t&&(t=n.async),i.map(function(e){return new o(e,t.now())})};var o=function(e,t){this.value=e,this.timestamp=t};r.Timestamp=o},{"../scheduler/async":256,"./map":175}],230:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./reduce");function i(e,t,r){return 0===r?[t]:(e.push(t),e)}r.toArray=function(){return n.reduce(i,[])}},{"./reduce":196}],231:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subject")),s=e("../innerSubscribe");r.window=function(t){return function(e){return e.lift(new a(t))}};u.prototype.call=function(e,t){e=new l(e),t=t.subscribe(e);return t.closed||e.add(s.innerSubscribe(this.windowBoundaries,new s.SimpleInnerSubscriber(e))),t};var a=u;function u(e){this.windowBoundaries=e}c=s.SimpleOuterSubscriber,i(h,c),h.prototype.notifyNext=function(){this.openWindow()},h.prototype.notifyError=function(e){this._error(e)},h.prototype.notifyComplete=function(){this._complete()},h.prototype._next=function(e){this.window.next(e)},h.prototype._error=function(e){this.window.error(e),this.destination.error(e)},h.prototype._complete=function(){this.window.complete(),this.destination.complete()},h.prototype._unsubscribe=function(){this.window=null},h.prototype.openWindow=function(){var e=this.window,e=(e&&e.complete(),this.destination),t=this.window=new o.Subject;e.next(t)};var c,l=h;function h(e){var t=c.call(this,e)||this;return t.window=new o.Subject,e.next(t.window),t}},{"../Subject":102,"../innerSubscribe":107}],232:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscriber")),a=e("../Subject");r.windowCount=function(t,r){return void 0===r&&(r=0),function(e){return e.lift(new s(t,r))}};u.prototype.call=function(e,t){return t.subscribe(new l(e,this.windowSize,this.startWindowEvery))};var s=u;function u(e,t){this.windowSize=e,this.startWindowEvery=t}c=o.Subscriber,i(h,c),h.prototype._next=function(e){for(var t=0<this.startWindowEvery?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,o=i.length,s=0;s<o&&!this.closed;s++)i[s].next(e);var n=this.count-n+1;0<=n&&n%t==0&&!this.closed&&i.shift().complete(),++this.count%t!=0||this.closed||(n=new a.Subject,i.push(n),r.next(n))},h.prototype._error=function(e){var t=this.windows;if(t)for(;0<t.length&&!this.closed;)t.shift().error(e);this.destination.error(e)},h.prototype._complete=function(){var e=this.windows;if(e)for(;0<e.length&&!this.closed;)e.shift().complete();this.destination.complete()},h.prototype._unsubscribe=function(){this.count=0,this.windows=null};var c,l=h;function h(e,t,r){var n=c.call(this,e)||this;return n.destination=e,n.windowSize=t,n.startWindowEvery=r,n.windows=[new a.Subject],n.count=0,e.next(n.windows[0]),n}},{"../Subject":102,"../Subscriber":104}],233:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subject")),s=e("../scheduler/async"),a=e("../Subscriber"),u=e("../util/isNumeric"),c=e("../util/isScheduler");r.windowTime=function(t){var r=s.async,n=null,i=Number.POSITIVE_INFINITY;return c.isScheduler(arguments[3])&&(r=arguments[3]),c.isScheduler(arguments[2])?r=arguments[2]:u.isNumeric(arguments[2])&&(i=Number(arguments[2])),c.isScheduler(arguments[1])?r=arguments[1]:u.isNumeric(arguments[1])&&(n=Number(arguments[1])),function(e){return e.lift(new l(t,n,i,r))}};h.prototype.call=function(e,t){return t.subscribe(new y(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))};var l=h;function h(e,t,r,n){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=r,this.scheduler=n}p=o.Subject,i(d,p),d.prototype.next=function(e){this._numberOfNextedValues++,p.prototype.next.call(this,e)},Object.defineProperty(d.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0});var p,f=d;function d(){var e=null!==p&&p.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}b=a.Subscriber,i(m,b),m.prototype._next=function(e){for(var t=this.windows,r=t.length,n=0;n<r;n++){var i=t[n];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},m.prototype._error=function(e){for(var t=this.windows;0<t.length;)t.shift().error(e);this.destination.error(e)},m.prototype._complete=function(){for(var e=this.windows;0<e.length;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},m.prototype.openWindow=function(){var e=new f;return this.windows.push(e),this.destination.next(e),e},m.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)};var b,y=m;function m(e,t,r,n,i){var o=b.call(this,e)||this,e=(o.destination=e,o.windowTimeSpan=t,o.windowCreationInterval=r,o.maxWindowSize=n,o.scheduler=i,o.windows=[],o.openWindow());return null!==r&&0<=r?(n={windowTimeSpan:t,windowCreationInterval:r,subscriber:o,scheduler:i},o.add(i.schedule(v,t,{subscriber:o,window:e,context:null})),o.add(i.schedule(_,r,n))):o.add(i.schedule(g,t,{subscriber:o,window:e,windowTimeSpan:t})),o}function g(e){var t=e.subscriber,r=e.windowTimeSpan,n=e.window;n&&t.closeWindow(n),e.window=t.openWindow(),this.schedule(e,r)}function _(e){var t=e.windowTimeSpan,r=e.subscriber,n=e.scheduler,i=e.windowCreationInterval,o=r.openWindow(),s={action:this,subscription:null};s.subscription=n.schedule(v,t,{subscriber:r,window:o,context:s}),this.add(s.subscription),this.schedule(e,i)}function v(e){var t=e.subscriber,r=e.window,e=e.context;e&&e.action&&e.subscription&&e.action.remove(e.subscription),t.closeWindow(r)}},{"../Subject":102,"../Subscriber":104,"../scheduler/async":256,"../util/isNumeric":276,"../util/isScheduler":280}],234:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subject")),c=e("../Subscription"),o=e("../OuterSubscriber"),l=e("../util/subscribeToResult");r.windowToggle=function(t,r){return function(e){return e.lift(new s(t,r))}};a.prototype.call=function(e,t){return t.subscribe(new p(e,this.openings,this.closingSelector))};var s=a;function a(e,t){this.openings=e,this.closingSelector=t}h=o.OuterSubscriber,i(f,h),f.prototype._next=function(e){var t=this.contexts;if(t)for(var r=t.length,n=0;n<r;n++)t[n].window.next(e)},f.prototype._error=function(e){var t=this.contexts;if(this.contexts=null,t)for(var r=t.length,n=-1;++n<r;){var i=t[n];i.window.error(e),i.subscription.unsubscribe()}h.prototype._error.call(this,e)},f.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var n=e[r];n.window.complete(),n.subscription.unsubscribe()}h.prototype._complete.call(this)},f.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,r=-1;++r<t;){var n=e[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},f.prototype.notifyNext=function(e,t,r,n,i){if(e===this.openings){var o=void 0;try{o=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var t=new u.Subject,s=new c.Subscription,a={window:t,subscription:s},o=(this.contexts.push(a),l.subscribeToResult(this,o,a));o.closed?this.closeWindow(this.contexts.length-1):(o.context=a,s.add(o)),this.destination.next(t)}else this.closeWindow(this.contexts.indexOf(e))},f.prototype.notifyError=function(e){this.error(e)},f.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},f.prototype.closeWindow=function(e){var t,r,n;-1!==e&&(r=(n=(t=this.contexts)[e]).window,n=n.subscription,t.splice(e,1),r.complete(),n.unsubscribe())};var h,p=f;function f(e,t,r){e=h.call(this,e)||this;return e.openings=t,e.closingSelector=r,e.contexts=[],e.add(e.openSubscription=l.subscribeToResult(e,t,t)),e}},{"../OuterSubscriber":99,"../Subject":102,"../Subscription":105,"../util/subscribeToResult":289}],235:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subject")),s=e("../OuterSubscriber"),a=e("../util/subscribeToResult");r.windowWhen=function(t){return function(e){return e.lift(new u(t))}};c.prototype.call=function(e,t){return t.subscribe(new h(e,this.closingSelector))};var u=c;function c(e){this.closingSelector=e}l=s.OuterSubscriber,i(p,l),p.prototype.notifyNext=function(e,t,r,n,i){this.openWindow(i)},p.prototype.notifyError=function(e){this._error(e)},p.prototype.notifyComplete=function(e){this.openWindow(e)},p.prototype._next=function(e){this.window.next(e)},p.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},p.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},p.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},p.prototype.openWindow=function(e){(e=void 0===e?null:e)&&(this.remove(e),e.unsubscribe());e=this.window,e&&e.complete(),e=this.window=new o.Subject;this.destination.next(e);try{var t=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=a.subscribeToResult(this,t))};var l,h=p;function p(e,t){var r=l.call(this,e)||this;return r.destination=e,r.closingSelector=t,r.openWindow(),r}},{"../OuterSubscriber":99,"../Subject":102,"../util/subscribeToResult":289}],236:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),e("../OuterSubscriber")),a=e("../util/subscribeToResult");r.withLatestFrom=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(e){var t;return"function"==typeof r[r.length-1]&&(t=r.pop()),e.lift(new s(r,t))}};u.prototype.call=function(e,t){return t.subscribe(new l(e,this.observables,this.project))};var s=u;function u(e,t){this.observables=e,this.project=t}c=o.OuterSubscriber,i(h,c),h.prototype.notifyNext=function(e,t,r){this.values[r]=t;t=this.toRespond;0<t.length&&(-1!==(r=t.indexOf(r))&&t.splice(r,1))},h.prototype.notifyComplete=function(){},h.prototype._next=function(e){0===this.toRespond.length&&(e=[e].concat(this.values),this.project?this._tryProject(e):this.destination.next(e))},h.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)};var c,l=h;function h(e,t,r){var n=c.call(this,e)||this,i=(n.observables=t,n.project=r,n.toRespond=[],t.length);n.values=new Array(i);for(var o=0;o<i;o++)n.toRespond.push(o);for(o=0;o<i;o++){var s=t[o];n.add(a.subscribeToResult(n,s,void 0,o))}return n}},{"../OuterSubscriber":99,"../util/subscribeToResult":289}],237:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../observable/zip");r.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(n.zip.apply(void 0,[e].concat(t)))}}},{"../observable/zip":135}],238:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../observable/zip");r.zipAll=function(t){return function(e){return e.lift(new n.ZipOperator(t))}}},{"../observable/zip":135}],239:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),s=e("../Subscription");r.scheduleArray=function(n,i){return new o.Observable(function(e){var t=new s.Subscription,r=0;return t.add(i.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||t.add(this.schedule()))})),t})}},{"../Observable":97,"../Subscription":105}],240:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Observable"),o=e("../Subscription"),s=e("../symbol/iterator");r.scheduleIterable=function(t,r){if(t)return new n.Observable(function(n){var i,e=new o.Subscription;return e.add(function(){i&&"function"==typeof i.return&&i.return()}),e.add(r.schedule(function(){i=t[s.iterator](),e.add(r.schedule(function(){if(!n.closed){try{var e=i.next(),t=e.value,r=e.done}catch(e){return void n.error(e)}r?n.complete():(n.next(t),this.schedule())}}))})),e});throw new Error("Iterable cannot be null")}},{"../Observable":97,"../Subscription":105,"../symbol/iterator":258}],241:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../Observable"),s=e("../Subscription"),a=e("../symbol/observable");r.scheduleObservable=function(n,i){return new o.Observable(function(t){var r=new s.Subscription;return r.add(i.schedule(function(){var e=n[a.observable]();r.add(e.subscribe({next:function(e){r.add(i.schedule(function(){return t.next(e)}))},error:function(e){r.add(i.schedule(function(){return t.error(e)}))},complete:function(){r.add(i.schedule(function(){return t.complete()}))}}))})),r})}},{"../Observable":97,"../Subscription":105,"../symbol/observable":259}],242:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../Observable"),o=e("../Subscription");r.schedulePromise=function(e,n){return new i.Observable(function(t){var r=new o.Subscription;return r.add(n.schedule(function(){return e.then(function(e){r.add(n.schedule(function(){t.next(e),r.add(n.schedule(function(){return t.complete()}))}))},function(e){r.add(n.schedule(function(){return t.error(e)}))})})),r})}},{"../Observable":97,"../Subscription":105}],243:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./scheduleObservable"),i=e("./schedulePromise"),o=e("./scheduleArray"),s=e("./scheduleIterable"),a=e("../util/isInteropObservable"),u=e("../util/isPromise"),c=e("../util/isArrayLike"),l=e("../util/isIterable");r.scheduled=function(e,t){if(null!=e){if(a.isInteropObservable(e))return n.scheduleObservable(e,t);if(u.isPromise(e))return i.schedulePromise(e,t);if(c.isArrayLike(e))return o.scheduleArray(e,t);if(l.isIterable(e)||"string"==typeof e)return s.scheduleIterable(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},{"../util/isArrayLike":271,"../util/isInteropObservable":274,"../util/isIterable":275,"../util/isPromise":279,"./scheduleArray":239,"./scheduleIterable":240,"./scheduleObservable":241,"./schedulePromise":242}],244:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Subscription")),e=(i=e.Subscription,o(s,i),s.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},s);function s(e,t){return i.call(this)||this}r.Action=e},{"../Subscription":105}],245:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("./AsyncAction")),e=(i=e.AsyncAction,o(s,i),s.prototype.requestAsyncId=function(e,t,r){return null!==(r=void 0===r?0:r)&&0<r?i.prototype.requestAsyncId.call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},s.prototype.recycleAsyncId=function(e,t,r){if(null!==(r=void 0===r?0:r)&&0<r||null===r&&0<this.delay)return i.prototype.recycleAsyncId.call(this,e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)},s);function s(e,t){var r=i.call(this,e,t)||this;return r.scheduler=e,r.work=t,r}r.AnimationFrameAction=e},{"./AsyncAction":249}],246:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("./AsyncScheduler")),e=(i=e.AsyncScheduler,o(s,i),s.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},s);function s(){return null!==i&&i.apply(this,arguments)||this}r.AnimationFrameScheduler=e},{"./AsyncScheduler":250}],247:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("../util/Immediate")),e=e("./AsyncAction"),e=(i=e.AsyncAction,o(a,i),a.prototype.requestAsyncId=function(e,t,r){return null!==(r=void 0===r?0:r)&&0<r?i.prototype.requestAsyncId.call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=s.Immediate.setImmediate(e.flush.bind(e,null))))},a.prototype.recycleAsyncId=function(e,t,r){if(null!==(r=void 0===r?0:r)&&0<r||null===r&&0<this.delay)return i.prototype.recycleAsyncId.call(this,e,t,r);0===e.actions.length&&(s.Immediate.clearImmediate(t),e.scheduled=void 0)},a);function a(e,t){var r=i.call(this,e,t)||this;return r.scheduler=e,r.work=t,r}r.AsapAction=e},{"../util/Immediate":263,"./AsyncAction":249}],248:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("./AsyncScheduler")),e=(i=e.AsyncScheduler,o(s,i),s.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},s);function s(){return null!==i&&i.apply(this,arguments)||this}r.AsapScheduler=e},{"./AsyncScheduler":250}],249:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("./Action")),e=(i=e.Action,o(s,i),s.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var e=this.id,r=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(r,e,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},s.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},s.prototype.recycleAsyncId=function(e,t,r){if(null!==(r=void 0===r?0:r)&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},s.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;e=this._execute(e,t);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},s.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},s.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},s);function s(e,t){var r=i.call(this,e,t)||this;return r.scheduler=e,r.work=t,r.pending=!1,r}r.AsyncAction=e},{"./Action":244}],250:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("../Scheduler")),e=(i=s.Scheduler,o(a,i),a.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),a.delegate&&a.delegate!==this?a.delegate.schedule(e,t,r):i.prototype.schedule.call(this,e,t,r)},a.prototype.flush=function(e){var t,r=this.actions;if(this.active)r.push(e);else{this.active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=r.shift());if(this.active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}}},a);function a(e,t){void 0===t&&(t=s.Scheduler.now);var r=i.call(this,e,function(){return a.delegate&&a.delegate!==r?a.delegate.now():t()})||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}r.AsyncScheduler=e},{"../Scheduler":101}],251:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("./AsyncAction")),e=(i=e.AsyncAction,o(s,i),s.prototype.schedule=function(e,t){return 0<(t=void 0===t?0:t)?i.prototype.schedule.call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)},s.prototype.execute=function(e,t){return 0<t||this.closed?i.prototype.execute.call(this,e,t):this._execute(e,t)},s.prototype.requestAsyncId=function(e,t,r){return null!==(r=void 0===r?0:r)&&0<r||null===r&&0<this.delay?i.prototype.requestAsyncId.call(this,e,t,r):e.flush(this)},s);function s(e,t){var r=i.call(this,e,t)||this;return r.scheduler=e,r.work=t,r}r.QueueAction=e},{"./AsyncAction":249}],252:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),e("./AsyncScheduler")),e=(i=e.AsyncScheduler,o(s,i),s);function s(){return null!==i&&i.apply(this,arguments)||this}r.QueueScheduler=e},{"./AsyncScheduler":250}],253:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),e("./AsyncAction")),e=e("./AsyncScheduler"),e=(i=e.AsyncScheduler,o(a,i),a.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r[0])&&t.delay<=n&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},a.frameTimeFactor=10,a);function a(e,t){void 0===e&&(e=c),void 0===t&&(t=Number.POSITIVE_INFINITY);var r=i.call(this,e,function(){return r.frame})||this;return r.maxFrames=t,r.frame=0,r.index=-1,r}r.VirtualTimeScheduler=e;u=s.AsyncAction,o(l,u),l.prototype.schedule=function(e,t){if(void 0===t&&(t=0),!this.id)return u.prototype.schedule.call(this,e,t);this.active=!1;var r=new l(this.scheduler,this.work);return this.add(r),r.schedule(e,t)},l.prototype.requestAsyncId=function(e,t,r){this.delay=e.frame+(r=void 0===r?0:r);r=e.actions;return r.push(this),r.sort(l.sortActions),!0},l.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},l.prototype._execute=function(e,t){if(!0===this.active)return u.prototype._execute.call(this,e,t)},l.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1};var u,c=l;function l(e,t,r){void 0===r&&(r=e.index+=1);var n=u.call(this,e,t)||this;return n.scheduler=e,n.work=t,n.index=r,n.active=!0,n.index=e.index=r,n}r.VirtualAction=c},{"./AsyncAction":249,"./AsyncScheduler":250}],254:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./AnimationFrameAction"),e=e("./AnimationFrameScheduler");r.animationFrameScheduler=new e.AnimationFrameScheduler(n.AnimationFrameAction),r.animationFrame=r.animationFrameScheduler},{"./AnimationFrameAction":245,"./AnimationFrameScheduler":246}],255:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./AsapAction"),e=e("./AsapScheduler");r.asapScheduler=new e.AsapScheduler(n.AsapAction),r.asap=r.asapScheduler},{"./AsapAction":247,"./AsapScheduler":248}],256:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./AsyncAction"),e=e("./AsyncScheduler");r.asyncScheduler=new e.AsyncScheduler(n.AsyncAction),r.async=r.asyncScheduler},{"./AsyncAction":249,"./AsyncScheduler":250}],257:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./QueueAction"),e=e("./QueueScheduler");r.queueScheduler=new e.QueueScheduler(n.QueueAction),r.queue=r.queueScheduler},{"./QueueAction":251,"./QueueScheduler":252}],258:[function(e,t,r){"use strict";function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(r,"__esModule",{value:!0}),r.getSymbolIterator=n,r.iterator=n(),r.$$iterator=r.iterator},{}],259:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},{}],260:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),r.$$rxSubscriber=r.rxSubscriber},{}],261:[function(e,t,r){"use strict";function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Object.defineProperty(r,"__esModule",{value:!0}),n.prototype=Object.create(Error.prototype),r.ArgumentOutOfRangeError=n},{}],262:[function(e,t,r){"use strict";function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Object.defineProperty(r,"__esModule",{value:!0}),n.prototype=Object.create(Error.prototype),r.EmptyError=n},{}],263:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=1,i=Promise.resolve(),o={};function s(e){return e in o&&(delete o[e],!0)}r.Immediate={setImmediate:function(e){var t=n++;return o[t]=!0,i.then(function(){return s(t)&&e()}),t},clearImmediate:function(e){s(e)}},r.TestTools={pending:function(){return Object.keys(o).length}}},{}],264:[function(e,t,r){"use strict";function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}Object.defineProperty(r,"__esModule",{value:!0}),n.prototype=Object.create(Error.prototype),r.ObjectUnsubscribedError=n},{}],265:[function(e,t,r){"use strict";function n(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}Object.defineProperty(r,"__esModule",{value:!0}),n.prototype=Object.create(Error.prototype),r.TimeoutError=n},{}],266:[function(e,t,r){"use strict";function n(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}Object.defineProperty(r,"__esModule",{value:!0}),n.prototype=Object.create(Error.prototype),r.UnsubscriptionError=n},{}],267:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../Subscriber");r.canReportError=function(e){for(;e;){var t=e,r=t.closed,n=t.destination,t=t.isStopped;if(r||t)return!1;e=n&&n instanceof i.Subscriber?n:null}return!0}},{"../Subscriber":104}],268:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hostReportError=function(e){setTimeout(function(){throw e},0)}},{}],269:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.identity=function(e){return e}},{}],270:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},{}],271:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},{}],272:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},{}],273:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isFunction=function(e){return"function"==typeof e}},{}],274:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../symbol/observable");r.isInteropObservable=function(e){return e&&"function"==typeof e[n.observable]}},{"../symbol/observable":259}],275:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../symbol/iterator");r.isIterable=function(e){return e&&"function"==typeof e[n.iterator]}},{"../symbol/iterator":258}],276:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./isArray");r.isNumeric=function(e){return!n.isArray(e)&&0<=e-parseFloat(e)+1}},{"./isArray":270}],277:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isObject=function(e){return null!==e&&"object"==typeof e}},{}],278:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Observable");r.isObservable=function(e){return!!e&&(e instanceof n.Observable||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},{"../Observable":97}],279:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isPromise=function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},{}],280:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isScheduler=function(e){return e&&"function"==typeof e.schedule}},{}],281:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.noop=function(){}},{}],282:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.not=function(e,t){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=e,r.thisArg=t,r}},{}],283:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./identity");function i(t){return 0===t.length?n.identity:1===t.length?t[0]:function(e){return t.reduce(function(e,t){return t(e)},e)}}r.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)},r.pipeFromArray=i},{"./identity":269}],284:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./subscribeToArray"),i=e("./subscribeToPromise"),o=e("./subscribeToIterable"),s=e("./subscribeToObservable"),a=e("./isArrayLike"),u=e("./isPromise"),c=e("./isObject"),l=e("../symbol/iterator"),h=e("../symbol/observable");r.subscribeTo=function(e){if(e&&"function"==typeof e[h.observable])return s.subscribeToObservable(e);if(a.isArrayLike(e))return n.subscribeToArray(e);if(u.isPromise(e))return i.subscribeToPromise(e);if(e&&"function"==typeof e[l.iterator])return o.subscribeToIterable(e);throw e=c.isObject(e)?"an invalid object":"'"+e+"'",new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},{"../symbol/iterator":258,"../symbol/observable":259,"./isArrayLike":271,"./isObject":277,"./isPromise":279,"./subscribeToArray":285,"./subscribeToIterable":286,"./subscribeToObservable":287,"./subscribeToPromise":288}],285:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.subscribeToArray=function(n){return function(e){for(var t=0,r=n.length;t<r&&!e.closed;t++)e.next(n[t]);e.complete()}}},{}],286:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=e("../symbol/iterator");r.subscribeToIterable=function(n){return function(t){for(var e=n[i.iterator]();;){var r=void 0;try{r=e.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof e.return&&t.add(function(){e.return&&e.return()}),t}}},{"../symbol/iterator":258}],287:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../symbol/observable");r.subscribeToObservable=function(r){return function(e){var t=r[n.observable]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)}}},{"../symbol/observable":259}],288:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("./hostReportError");r.subscribeToPromise=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,n.hostReportError),t}}},{"./hostReportError":268}],289:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=e("../InnerSubscriber"),s=e("./subscribeTo"),a=e("../Observable");r.subscribeToResult=function(e,t,r,n,i){if(!(i=void 0===i?new o.InnerSubscriber(e,r,n):i).closed)return t instanceof a.Observable?t.subscribe(i):s.subscribeTo(t)(i)}},{"../InnerSubscriber":95,"../Observable":97,"./subscribeTo":284}],290:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../Subscriber"),i=e("../symbol/rxSubscriber"),o=e("../Observer");r.toSubscriber=function(e,t,r){if(e){if(e instanceof n.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||r?new n.Subscriber(e,t,r):new n.Subscriber(o.empty)}},{"../Observer":98,"../Subscriber":104,"../symbol/rxSubscriber":260}],291:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("../internal/operators/audit"),n=(r.audit=n.audit,e("../internal/operators/auditTime")),n=(r.auditTime=n.auditTime,e("../internal/operators/buffer")),n=(r.buffer=n.buffer,e("../internal/operators/bufferCount")),n=(r.bufferCount=n.bufferCount,e("../internal/operators/bufferTime")),n=(r.bufferTime=n.bufferTime,e("../internal/operators/bufferToggle")),n=(r.bufferToggle=n.bufferToggle,e("../internal/operators/bufferWhen")),n=(r.bufferWhen=n.bufferWhen,e("../internal/operators/catchError")),n=(r.catchError=n.catchError,e("../internal/operators/combineAll")),n=(r.combineAll=n.combineAll,e("../internal/operators/combineLatest")),n=(r.combineLatest=n.combineLatest,e("../internal/operators/concat")),n=(r.concat=n.concat,e("../internal/operators/concatAll")),n=(r.concatAll=n.concatAll,e("../internal/operators/concatMap")),n=(r.concatMap=n.concatMap,e("../internal/operators/concatMapTo")),n=(r.concatMapTo=n.concatMapTo,e("../internal/operators/count")),n=(r.count=n.count,e("../internal/operators/debounce")),n=(r.debounce=n.debounce,e("../internal/operators/debounceTime")),n=(r.debounceTime=n.debounceTime,e("../internal/operators/defaultIfEmpty")),n=(r.defaultIfEmpty=n.defaultIfEmpty,e("../internal/operators/delay")),n=(r.delay=n.delay,e("../internal/operators/delayWhen")),n=(r.delayWhen=n.delayWhen,e("../internal/operators/dematerialize")),n=(r.dematerialize=n.dematerialize,e("../internal/operators/distinct")),n=(r.distinct=n.distinct,e("../internal/operators/distinctUntilChanged")),n=(r.distinctUntilChanged=n.distinctUntilChanged,e("../internal/operators/distinctUntilKeyChanged")),n=(r.distinctUntilKeyChanged=n.distinctUntilKeyChanged,e("../internal/operators/elementAt")),n=(r.elementAt=n.elementAt,e("../internal/operators/endWith")),n=(r.endWith=n.endWith,e("../internal/operators/every")),n=(r.every=n.every,e("../internal/operators/exhaust")),n=(r.exhaust=n.exhaust,e("../internal/operators/exhaustMap")),n=(r.exhaustMap=n.exhaustMap,e("../internal/operators/expand")),n=(r.expand=n.expand,e("../internal/operators/filter")),n=(r.filter=n.filter,e("../internal/operators/finalize")),n=(r.finalize=n.finalize,e("../internal/operators/find")),n=(r.find=n.find,e("../internal/operators/findIndex")),n=(r.findIndex=n.findIndex,e("../internal/operators/first")),n=(r.first=n.first,e("../internal/operators/groupBy")),n=(r.groupBy=n.groupBy,e("../internal/operators/ignoreElements")),n=(r.ignoreElements=n.ignoreElements,e("../internal/operators/isEmpty")),n=(r.isEmpty=n.isEmpty,e("../internal/operators/last")),n=(r.last=n.last,e("../internal/operators/map")),n=(r.map=n.map,e("../internal/operators/mapTo")),n=(r.mapTo=n.mapTo,e("../internal/operators/materialize")),n=(r.materialize=n.materialize,e("../internal/operators/max")),n=(r.max=n.max,e("../internal/operators/merge")),n=(r.merge=n.merge,e("../internal/operators/mergeAll")),n=(r.mergeAll=n.mergeAll,e("../internal/operators/mergeMap")),n=(r.mergeMap=n.mergeMap,r.flatMap=n.flatMap,e("../internal/operators/mergeMapTo")),n=(r.mergeMapTo=n.mergeMapTo,e("../internal/operators/mergeScan")),n=(r.mergeScan=n.mergeScan,e("../internal/operators/min")),n=(r.min=n.min,e("../internal/operators/multicast")),n=(r.multicast=n.multicast,e("../internal/operators/observeOn")),n=(r.observeOn=n.observeOn,e("../internal/operators/onErrorResumeNext")),n=(r.onErrorResumeNext=n.onErrorResumeNext,e("../internal/operators/pairwise")),n=(r.pairwise=n.pairwise,e("../internal/operators/partition")),n=(r.partition=n.partition,e("../internal/operators/pluck")),n=(r.pluck=n.pluck,e("../internal/operators/publish")),n=(r.publish=n.publish,e("../internal/operators/publishBehavior")),n=(r.publishBehavior=n.publishBehavior,e("../internal/operators/publishLast")),n=(r.publishLast=n.publishLast,e("../internal/operators/publishReplay")),n=(r.publishReplay=n.publishReplay,e("../internal/operators/race")),n=(r.race=n.race,e("../internal/operators/reduce")),n=(r.reduce=n.reduce,e("../internal/operators/repeat")),n=(r.repeat=n.repeat,e("../internal/operators/repeatWhen")),n=(r.repeatWhen=n.repeatWhen,e("../internal/operators/retry")),n=(r.retry=n.retry,e("../internal/operators/retryWhen")),n=(r.retryWhen=n.retryWhen,e("../internal/operators/refCount")),n=(r.refCount=n.refCount,e("../internal/operators/sample")),n=(r.sample=n.sample,e("../internal/operators/sampleTime")),n=(r.sampleTime=n.sampleTime,e("../internal/operators/scan")),n=(r.scan=n.scan,e("../internal/operators/sequenceEqual")),n=(r.sequenceEqual=n.sequenceEqual,e("../internal/operators/share")),n=(r.share=n.share,e("../internal/operators/shareReplay")),n=(r.shareReplay=n.shareReplay,e("../internal/operators/single")),n=(r.single=n.single,e("../internal/operators/skip")),n=(r.skip=n.skip,e("../internal/operators/skipLast")),n=(r.skipLast=n.skipLast,e("../internal/operators/skipUntil")),n=(r.skipUntil=n.skipUntil,e("../internal/operators/skipWhile")),n=(r.skipWhile=n.skipWhile,e("../internal/operators/startWith")),n=(r.startWith=n.startWith,e("../internal/operators/subscribeOn")),n=(r.subscribeOn=n.subscribeOn,e("../internal/operators/switchAll")),n=(r.switchAll=n.switchAll,e("../internal/operators/switchMap")),n=(r.switchMap=n.switchMap,e("../internal/operators/switchMapTo")),n=(r.switchMapTo=n.switchMapTo,e("../internal/operators/take")),n=(r.take=n.take,e("../internal/operators/takeLast")),n=(r.takeLast=n.takeLast,e("../internal/operators/takeUntil")),n=(r.takeUntil=n.takeUntil,e("../internal/operators/takeWhile")),n=(r.takeWhile=n.takeWhile,e("../internal/operators/tap")),n=(r.tap=n.tap,e("../internal/operators/throttle")),n=(r.throttle=n.throttle,e("../internal/operators/throttleTime")),n=(r.throttleTime=n.throttleTime,e("../internal/operators/throwIfEmpty")),n=(r.throwIfEmpty=n.throwIfEmpty,e("../internal/operators/timeInterval")),n=(r.timeInterval=n.timeInterval,e("../internal/operators/timeout")),n=(r.timeout=n.timeout,e("../internal/operators/timeoutWith")),n=(r.timeoutWith=n.timeoutWith,e("../internal/operators/timestamp")),n=(r.timestamp=n.timestamp,e("../internal/operators/toArray")),n=(r.toArray=n.toArray,e("../internal/operators/window")),n=(r.window=n.window,e("../internal/operators/windowCount")),n=(r.windowCount=n.windowCount,e("../internal/operators/windowTime")),n=(r.windowTime=n.windowTime,e("../internal/operators/windowToggle")),n=(r.windowToggle=n.windowToggle,e("../internal/operators/windowWhen")),n=(r.windowWhen=n.windowWhen,e("../internal/operators/withLatestFrom")),n=(r.withLatestFrom=n.withLatestFrom,e("../internal/operators/zip")),n=(r.zip=n.zip,e("../internal/operators/zipAll"));r.zipAll=n.zipAll},{"../internal/operators/audit":136,"../internal/operators/auditTime":137,"../internal/operators/buffer":138,"../internal/operators/bufferCount":139,"../internal/operators/bufferTime":140,"../internal/operators/bufferToggle":141,"../internal/operators/bufferWhen":142,"../internal/operators/catchError":143,"../internal/operators/combineAll":144,"../internal/operators/combineLatest":145,"../internal/operators/concat":146,"../internal/operators/concatAll":147,"../internal/operators/concatMap":148,"../internal/operators/concatMapTo":149,"../internal/operators/count":150,"../internal/operators/debounce":151,"../internal/operators/debounceTime":152,"../internal/operators/defaultIfEmpty":153,"../internal/operators/delay":154,"../internal/operators/delayWhen":155,"../internal/operators/dematerialize":156,"../internal/operators/distinct":157,"../internal/operators/distinctUntilChanged":158,"../internal/operators/distinctUntilKeyChanged":159,"../internal/operators/elementAt":160,"../internal/operators/endWith":161,"../internal/operators/every":162,"../internal/operators/exhaust":163,"../internal/operators/exhaustMap":164,"../internal/operators/expand":165,"../internal/operators/filter":166,"../internal/operators/finalize":167,"../internal/operators/find":168,"../internal/operators/findIndex":169,"../internal/operators/first":170,"../internal/operators/groupBy":171,"../internal/operators/ignoreElements":172,"../internal/operators/isEmpty":173,"../internal/operators/last":174,"../internal/operators/map":175,"../internal/operators/mapTo":176,"../internal/operators/materialize":177,"../internal/operators/max":178,"../internal/operators/merge":179,"../internal/operators/mergeAll":180,"../internal/operators/mergeMap":181,"../internal/operators/mergeMapTo":182,"../internal/operators/mergeScan":183,"../internal/operators/min":184,"../internal/operators/multicast":185,"../internal/operators/observeOn":186,"../internal/operators/onErrorResumeNext":187,"../internal/operators/pairwise":188,"../internal/operators/partition":189,"../internal/operators/pluck":190,"../internal/operators/publish":191,"../internal/operators/publishBehavior":192,"../internal/operators/publishLast":193,"../internal/operators/publishReplay":194,"../internal/operators/race":195,"../internal/operators/reduce":196,"../internal/operators/refCount":197,"../internal/operators/repeat":198,"../internal/operators/repeatWhen":199,"../internal/operators/retry":200,"../internal/operators/retryWhen":201,"../internal/operators/sample":202,"../internal/operators/sampleTime":203,"../internal/operators/scan":204,"../internal/operators/sequenceEqual":205,"../internal/operators/share":206,"../internal/operators/shareReplay":207,"../internal/operators/single":208,"../internal/operators/skip":209,"../internal/operators/skipLast":210,"../internal/operators/skipUntil":211,"../internal/operators/skipWhile":212,"../internal/operators/startWith":213,"../internal/operators/subscribeOn":214,"../internal/operators/switchAll":215,"../internal/operators/switchMap":216,"../internal/operators/switchMapTo":217,"../internal/operators/take":218,"../internal/operators/takeLast":219,"../internal/operators/takeUntil":220,"../internal/operators/takeWhile":221,"../internal/operators/tap":222,"../internal/operators/throttle":223,"../internal/operators/throttleTime":224,"../internal/operators/throwIfEmpty":225,"../internal/operators/timeInterval":226,"../internal/operators/timeout":227,"../internal/operators/timeoutWith":228,"../internal/operators/timestamp":229,"../internal/operators/toArray":230,"../internal/operators/window":231,"../internal/operators/windowCount":232,"../internal/operators/windowTime":233,"../internal/operators/windowToggle":234,"../internal/operators/windowWhen":235,"../internal/operators/withLatestFrom":236,"../internal/operators/zip":237,"../internal/operators/zipAll":238}],292:[function(e,t,r){const n=e("util"),i=e("events/");var e="object"==typeof Reflect?Reflect:null,o=e&&"function"==typeof e.apply?e.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function s(){i.call(this)}function u(e,t,r){try{o(e,t,r)}catch(e){setTimeout(()=>{throw e})}}t.exports=s,n.inherits(s,i),s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){if((o=0<t.length?t[0]:o)instanceof Error)throw o;n=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw n.context=o,n}var o=i[e];if(void 0===o)return!1;if("function"==typeof o)u(o,this,t);else for(var s=o.length,a=function(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}(o,s),r=0;r<s;++r)u(a[r],this,t);return!0}},{"events/":56,util:25}],293:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"==typeof t||n.isEncoding!==i&&i(e))return t||e;throw new Error("Unknown encoding: "+e)}function s(e){var t;switch(this.encoding=o(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=h,this.end=p,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e){var t,r=this.lastTotal-this.lastNeed,n=(t=this,128!=(192&(n=e)[0])?(t.lastNeed=0,"�"):1<t.lastNeed&&1<n.length?128!=(192&n[1])?(t.lastNeed=1,"�"):2<t.lastNeed&&2<n.length&&128!=(192&n[2])?(t.lastNeed=2,"�"):void 0:void 0);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,r,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,r,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);t=e.toString("utf16le",t);if(t){var r=t.charCodeAt(t.length-1);if(55296<=r&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}function l(e){var t,e=e&&e.length?this.write(e):"";return this.lastNeed?(t=this.lastTotal-this.lastNeed,e+this.lastChar.toString("utf16le",0,t)):e}function h(e,t){var r=(e.length-t)%3;return 0==r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1==r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function p(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}(r.StringDecoder=s).prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+"�":e},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(0<=i)return 0<i&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(0<=(i=a(t[n])))return 0<i&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(0<=(i=a(t[n])))return 0<i&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;r=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":294}],294:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");e=i(e);return void 0!==t?"string"==typeof r?e.fill(t,r):e.fill(t):e.fill(0),e},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:4}],295:[function(e,n,t){!function(e){!function(){var t,r,o,s,a,u,c,l,h,p,f,d,b,y,m,g,_,v,w,S,E,k,x,M,O;!function(t){var i="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:{};function r(r,n){return r!==i&&("function"==typeof Object.create?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(e,t){return r[e]=n?n(e,t):t}}"function"==typeof define&&define.amd?define("tslib",["exports"],function(e){t(r(i,r(e)))}):"object"==typeof n&&"object"==typeof n.exports?t(r(i,r(n.exports))):t(r(i))}(function(e){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},i=(t=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o=function(e,t){var r={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r},s=function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(o<3?i(s):3<o?i(t,r,s):i(t,r))||s);return 3<o&&s&&Object.defineProperty(t,r,s),s},a=function(r,n){return function(e,t){n(e,t,r)}},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(e,s,a,u){return new(a=a||Promise)(function(r,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function i(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((u=u.apply(e,s||[])).next())})},l=function(n,i){var o,s,a,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,s=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){u.label=t[1];break}if(6===t[0]&&u.label<a[1]){u.label=a[1],a=t;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(t);break}a[2]&&u.ops.pop(),u.trys.pop();continue}t=i.call(n,u)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},h=function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||O(t,e,r)},O=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},d=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e},b=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},y=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},m=function(e){return this instanceof m?(this.v=e,this):new m(e)},g=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),o=[],s={};return n("next"),n("throw"),n("return"),s[Symbol.asyncIterator]=function(){return this},s;function n(n){i[n]&&(s[n]=function(r){return new Promise(function(e,t){1<o.push([n,r,e,t])||a(n,r)})})}function a(e,t){try{(r=i[e](t)).value instanceof m?Promise.resolve(r.value.v).then(u,c):l(o[0][2],r)}catch(e){l(o[0][3],e)}var r}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},_=function(n){var i,e={};return t("next"),t("throw",function(e){throw e}),t("return"),e[Symbol.iterator]=function(){return this},e;function t(t,r){e[t]=n[t]?function(e){return(i=!i)?{value:m(n[t](e)),done:"return"===t}:r?r(e):e}:r}},v=function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=s[Symbol.asyncIterator];return t?t.call(s):(s=p(s),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=s[o]&&function(i){return new Promise(function(e,t){var r,n;i=s[o](i),r=e,e=t,n=i.done,t=i.value,Promise.resolve(t).then(function(e){r({value:e,done:n})},e)})}}},w=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t});S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&O(t,e,r);return i(t,e),t},E=function(e){return e&&e.__esModule?e:{default:e}},k=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e===t&&n:t.has(e))return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e);throw new TypeError("Cannot read private member from an object whose class did not declare it")},x=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e===t&&i:t.has(e))return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r;throw new TypeError("Cannot write private member to an object whose class did not declare it")},M=function(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)},e("__extends",t),e("__assign",r),e("__rest",o),e("__decorate",s),e("__param",a),e("__metadata",u),e("__awaiter",c),e("__generator",l),e("__exportStar",h),e("__createBinding",O),e("__values",p),e("__read",f),e("__spread",d),e("__spreadArrays",b),e("__spreadArray",y),e("__await",m),e("__asyncGenerator",g),e("__asyncDelegator",_),e("__asyncValues",v),e("__makeTemplateObject",w),e("__importStar",S),e("__importDefault",E),e("__classPrivateFieldGet",k),e("__classPrivateFieldSet",x),e("__classPrivateFieldIn",M)})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],296:[function(e,r,t){!function(t){!function(){function n(e){try{if(!t.localStorage)return}catch(e){return}e=t.localStorage[e];return null!=e&&"true"===String(e).toLowerCase()}r.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],297:[function(t,e,p){!function(e){!function(){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.WalletLink=void 0;const i=t("./connection/WalletLinkAnalytics"),o=t("./lib/ScopedLocalStorage"),n=t("./provider/WalletLinkProvider"),s=t("./provider/WalletLinkSdkUI"),a=t("./relay/WalletLinkRelay"),u=t("./relay/WalletLinkRelayEventManager"),r=t("./util"),c=e.env.WALLETLINK_URL||"https://www.walletlink.org",l=e.env.WALLETLINK_VERSION||t("../package.json").version||"unknown";class h{constructor(e){this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;var t=e.walletLinkUrl||c;let r;r=e.walletLinkUIConstructor||(e=>new s.WalletLinkSdkUI(e)),void 0===e.overrideIsMetaMask?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=null==(n=e.overrideIsCoinbaseWallet)||n,this._walletLinkAnalytics=e.walletLinkAnalytics||new i.WalletLinkAnalytics;var n=new URL(t),n=n.protocol+"//"+n.host;this._storage=new o.ScopedLocalStorage("-walletlink:"+n),this._storage.setItem("version",h.VERSION),void 0===window.walletLinkExtension&&(this._relayEventManager=new u.WalletLinkRelayEventManager,this._relay=new a.WalletLinkRelay({walletLinkUrl:t,version:l,darkMode:!!e.darkMode,walletLinkUIConstructor:r,storage:this._storage,relayEventManager:this._relayEventManager,walletLinkAnalytics:this._walletLinkAnalytics}),this.setAppInfo(e.appName,e.appLogoUrl),this._relay.attachUI())}makeWeb3Provider(e="",t=1){if(void 0!==window.walletLinkExtension)return"boolean"==typeof window.walletLinkExtension.isCipher&&window.walletLinkExtension.isCipher||window.walletLinkExtension.setProviderInfo(e,t),window.walletLinkExtension;const r=this._relay;if(r&&this._relayEventManager&&this._storage)return e||r.setConnectDisabled(!0),new n.WalletLinkProvider({relayProvider:()=>Promise.resolve(r),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:t,walletLinkAnalytics:this._walletLinkAnalytics,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet});throw new Error("Relay not initialized, should never happen")}setAppInfo(e,t){this._appName=e||"DApp",this._appLogoUrl=t||(0,r.getFavicon)(),void 0!==window.walletLinkExtension?"boolean"==typeof window.walletLinkExtension.isCipher&&window.walletLinkExtension.isCipher||window.walletLinkExtension.setAppInfo(this._appName,this._appLogoUrl):null!=(e=this._relay)&&e.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;void 0!==window.walletLinkExtension?window.walletLinkExtension.close():null!=(e=this._relay)&&e.resetAndReload()}}(p.WalletLink=h).VERSION=l}.call(this)}.call(this,t("_process"))},{"../package.json":348,"./connection/WalletLinkAnalytics":315,"./lib/ScopedLocalStorage":321,"./provider/WalletLinkProvider":327,"./provider/WalletLinkSdkUI":328,"./relay/WalletLinkRelay":332,"./relay/WalletLinkRelayEventManager":334,"./util":342,_process:22}],298:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default='.-walletlink-css-reset .-walletlink-link-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-link-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.33);transition:opacity .25s}.-walletlink-css-reset .-walletlink-link-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-link-dialog-box{display:flex;position:relative;flex-direction:column;background-color:#f6f6f6;border-radius:16px;box-shadow:0px 16px 24px rgba(0,0,0,.1),0px 0px 8px rgba(0,0,0,.05);transform:scale(1);transition:opacity .25s,transform .25s;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-link-dialog-box-content{padding:24px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content h3{display:block;margin-bottom:24px;text-align:left;text-transform:uppercase;font-size:22px;font-weight:bold;line-height:1.2;color:#000}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode{position:relative;display:block;margin-bottom:24px;background-color:#f6f6f6;padding:16px;border-radius:16px;box-shadow:4px 4px 8px rgba(0,0,0,.15),-8px -8px 8px #fff;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper{display:block;width:232px;height:232px;padding:4px;border-radius:4px;background:#f4f4f4;margin-bottom:16px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper img{display:block;width:224px;height:224px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode>p{display:block;color:gray;font-weight:bold;font-size:12px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(246,246,246,.98)}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting p{margin-top:16px;color:#333;font-size:12px;font-weight:bold}.-walletlink-css-reset .-walletlink-link-dialog-box-content a{text-align:center;cursor:pointer;transition:color .1s;font-size:14px}.-walletlink-css-reset .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:visited{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:active{color:#666;text-decoration:underline}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:24px;right:24px;width:24px;height:24px;border-radius:12px;background-color:#e7e7e7;cursor:pointer}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x{position:relative;display:block}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:2px;background-color:#999;transition:background-color .2s}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-link-dialog-container{display:block}.-walletlink-css-reset .-walletlink-link-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box{background-color:#2a2a2a}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content h3{color:#ccc}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode{background-color:#2a2a2a;box-shadow:4px 4px 8px rgba(0,0,0,.5),-8px -8px 8px #343434}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode>p{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting{background:rgba(42,42,42,.98)}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting p{color:#ddd}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:visited{color:#888}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:active{color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel{background-color:#333}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::after{background-color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::after{background-color:#eee}'},{}],299:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.LinkDialog=void 0;const o=n(e("clsx")),s=e("preact"),a=e("preact/hooks"),u=n(e("./LinkDialog-css")),i=e("./QRCode"),c=e("./Spinner"),l=e("../version");r.LinkDialog=r=>{const[e,n]=(0,a.useState)(!r.isOpen),[t,i]=(0,a.useState)(!r.isOpen);return(0,a.useEffect)(()=>{const e=r["isOpen"],t=[window.setTimeout(()=>{i(!e)},10)];return e?n(!1):t.push(window.setTimeout(()=>{n(!0)},360)),()=>{t.forEach(window.clearTimeout)}},[r.isOpen]),(0,s.h)("div",{class:(0,o.default)("-walletlink-link-dialog-container",r.darkMode&&"-walletlink-link-dialog-container-dark",e&&"-walletlink-link-dialog-container-hidden")},(0,s.h)("style",null,u.default),(0,s.h)("div",{class:(0,o.default)("-walletlink-link-dialog-backdrop",t&&"-walletlink-link-dialog-backdrop-hidden")}),(0,s.h)("div",{class:"-walletlink-link-dialog"},(0,s.h)("div",{class:(0,o.default)("-walletlink-link-dialog-box",t&&"-walletlink-link-dialog-box-hidden")},(0,s.h)(h,{darkMode:r.darkMode,version:r.version,sessionId:r.sessionId,sessionSecret:r.sessionSecret,walletLinkUrl:r.walletLinkUrl,isConnected:r.isConnected,isParentConnection:r.isParentConnection}),r.onCancel&&(0,s.h)(p,{onClick:r.onCancel}))))};const h=e=>{var t=window.encodeURIComponent(e.walletLinkUrl),r=e.isParentConnection?"parent-id":"id",r=`${e.walletLinkUrl}/#/link?${r}=${e.sessionId}&secret=${e.sessionSecret}&server=${t}&v=1`;return(0,s.h)("div",{class:"-walletlink-link-dialog-box-content"},(0,s.h)("h3",null,"Scan to",(0,s.h)("br",null)," Connect"),(0,s.h)("div",{class:"-walletlink-link-dialog-box-content-qrcode"},(0,s.h)("div",{class:"-walletlink-link-dialog-box-content-qrcode-wrapper"},(0,s.h)(i.QRCode,{content:r,width:224,height:224,fgColor:"#000",bgColor:"transparent"})),(0,s.h)("input",{type:"hidden",name:"walletlink-version",value:l.LIB_VERSION}),(0,s.h)("input",{type:"hidden",value:r}),!e.isConnected&&(0,s.h)("div",{class:"-walletlink-link-dialog-box-content-qrcode-connecting"},(0,s.h)(c.Spinner,{size:128,color:e.darkMode?"#fff":"#000"}),(0,s.h)("p",null,"Connecting...")),(0,s.h)("p",{title:"WalletLink v"+e.version},"Powered by WalletLink")),(0,s.h)("a",{href:e.walletLinkUrl+"/#/wallets",target:"_blank",rel:"noopener"},"Don’t have a wallet app?"))},p=e=>(0,s.h)("button",{class:"-walletlink-link-dialog-box-cancel",onClick:e.onClick},(0,s.h)("div",{class:"-walletlink-link-dialog-box-cancel-x"}))},{"../version":347,"./LinkDialog-css":298,"./QRCode":301,"./Spinner":305,clsx:35,preact:75,"preact/hooks":76}],300:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LinkFlow=void 0;const n=e("preact"),i=e("rxjs"),o=e("rxjs/operators"),s=e("./LinkDialog"),a=e("./TryExtensionLinkDialog");r.LinkFlow=class{constructor(e){this.extensionUI$=new i.BehaviorSubject({}),this.subscriptions=new i.Subscription,this.isConnected=!1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.walletLinkUrl=e.walletLinkUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,fetch("https://api.wallet.coinbase.com/rpc/v2/getFeatureFlags").then(e=>e.json()).then(e=>{e=e.result.desktop.extension_ui;void 0===e?this.extensionUI$.next({value:!1}):this.extensionUI$.next({value:e})}).catch(e=>{console.error("Couldn't fetch feature flags - ",e),this.extensionUI$.next({value:!1})})}attach(e){this.root=document.createElement("div"),this.root.className="-walletlink-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(e=>{this.isConnected!==e&&(this.isConnected=e,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,n.render)(null,this.root),null!=(e=this.root.parentElement)&&e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){var e;this.root&&(e=this.extensionUI$.pipe((0,o.first)(e=>void 0!==e.value)).subscribe(e=>{this.root&&(0,n.render)(e.value?(0,n.h)(a.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,walletLinkUrl:this.walletLinkUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel,connectDisabled:this.connectDisabled}):(0,n.h)(s.LinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,walletLinkUrl:this.walletLinkUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,onCancel:this.onCancel}),this.root)}),this.subscriptions.add(e))}}},{"./LinkDialog":299,"./TryExtensionLinkDialog":307,preact:75,rxjs:92,"rxjs/operators":291}],301:[function(r,e,n){!function(s){!function(){"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.QRCode=void 0;const t=r("preact"),i=r("preact/hooks"),o=e(r("../vendor-js/qrcode-svg"));n.QRCode=r=>{const[e,n]=(0,i.useState)("");return(0,i.useEffect)(()=>{const e=new o.default({content:r.content,background:r.bgColor||"#ffffff",color:r.fgColor||"#000000",container:"svg",ecl:"M",width:null!=(t=r.width)?t:256,height:null!=(t=r.height)?t:256,padding:0,image:r.image});var t=s.from(e.svg(),"utf8").toString("base64");n("data:image/svg+xml;base64,"+t)}),e?(0,t.h)("img",{src:e,alt:"QR Code"}):null}}.call(this)}.call(this,r("buffer").Buffer)},{"../vendor-js/qrcode-svg":346,buffer:4,preact:75,"preact/hooks":76}],302:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=".-walletlink-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-walletlink-css-reset .-gear-container *{user-select:none}.-walletlink-css-reset .-gear-container svg{opacity:0;position:absolute}.-walletlink-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-walletlink-css-reset .-walletlink-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-walletlink-css-reset .-walletlink-snackbar *{user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-walletlink-css-reset .-walletlink-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-walletlink-css-reset .-walletlink-snackbar-instance-header *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-walletlink-css-reset .-walletlink-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-walletlink-css-reset .-walletlink-snackbar-instance-expanded .-walletlink-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"},{}],303:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.Snackbar=void 0;const a=n(e("clsx")),u=e("preact"),c=e("preact/hooks"),i=n(e("./Snackbar-css")),l="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",h="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";r.Snackbar=class{constructor(e){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=e.darkMode}attach(e){this.root=document.createElement("div"),this.root.className="-walletlink-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,u.render)((0,u.h)("div",null,(0,u.h)(o,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,t])=>(0,u.h)(s,Object.assign({},t,{key:e}))))),this.root)}};const o=e=>(0,u.h)("div",{class:(0,a.default)("-walletlink-snackbar-container")},(0,u.h)("style",null,i.default),(0,u.h)("div",{class:"-walletlink-snackbar"},e.children)),s=({autoExpand:e,message:t,menuItems:r})=>{const[n,i]=(0,c.useState)(!0),[o,s]=(0,c.useState)(null!=e&&e);(0,c.useEffect)(()=>{const e=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{s(!0)},1e4)];return()=>{e.forEach(window.clearTimeout)}});return(0,u.h)("div",{class:(0,a.default)("-walletlink-snackbar-instance",n&&"-walletlink-snackbar-instance-hidden",o&&"-walletlink-snackbar-instance-expanded")},(0,u.h)("div",{class:"-walletlink-snackbar-instance-header",onClick:()=>{s(!o)}},(0,u.h)("img",{src:l,class:"-walletlink-snackbar-instance-header-cblogo"}),(0,u.h)("div",{class:"-walletlink-snackbar-instance-header-message"},t),(0,u.h)("div",{class:"-gear-container"},!o&&(0,u.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,u.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,u.h)("img",{src:h,class:"-gear-icon",title:"Expand"}))),r&&0<r.length&&(0,u.h)("div",{class:"-walletlink-snackbar-instance-menu"},r.map((e,t)=>(0,u.h)("div",{class:(0,a.default)("-walletlink-snackbar-instance-menu-item",e.isRed&&"-walletlink-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},(0,u.h)("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,u.h)("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),(0,u.h)("span",{class:(0,a.default)("-walletlink-snackbar-instance-menu-item-info",e.isRed&&"-walletlink-snackbar-instance-menu-item-info-is-red")},e.info)))))}},{"./Snackbar-css":302,clsx:35,preact:75,"preact/hooks":76}],304:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=".-walletlink-css-reset .-walletlink-spinner{display:inline-block}.-walletlink-css-reset .-walletlink-spinner svg{display:inline-block;animation:2s linear infinite -walletlink-spinner-svg}.-walletlink-css-reset .-walletlink-spinner svg circle{animation:1.9s ease-in-out infinite both -walletlink-spinner-circle;display:block;fill:transparent;stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -walletlink-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -walletlink-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}"},{}],305:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.Spinner=void 0;const i=e("preact"),o=n(e("./Spinner-css"));r.Spinner=e=>{var t=null!=(t=e.size)?t:64,e=e.color||"#000";return(0,i.h)("div",{class:"-walletlink-spinner"},(0,i.h)("style",null,o.default),(0,i.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:t,height:t}},(0,i.h)("circle",{style:{cx:50,cy:50,r:45,stroke:e}})))}},{"./Spinner-css":304,preact:75}],306:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default='.-walletlink-css-reset .-walletlink-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper img{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-extension-dialog-container{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}'},{}],307:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.TryExtensionLinkDialog=void 0;const o=n(e("clsx")),s=e("preact"),a=e("preact/hooks"),i=n(e("./icons/globe-icon-svg")),u=n(e("./icons/link-icon-svg")),c=n(e("./icons/lock-icon-svg")),l=n(e("./icons/QRLogo")),h=e("./QRCode"),p=e("./Spinner"),f=n(e("./TryExtensionLinkDialog-css")),d=e("../version");r.TryExtensionLinkDialog=r=>{const[e,n]=(0,a.useState)(!r.isOpen),[t,i]=(0,a.useState)(!r.isOpen);return(0,a.useEffect)(()=>{const e=r["isOpen"],t=[window.setTimeout(()=>{i(!e)},10)];return e?n(!1):t.push(window.setTimeout(()=>{n(!0)},360)),()=>{t.forEach(window.clearTimeout)}},[r.isOpen]),(0,s.h)("div",{class:(0,o.default)("-walletlink-extension-dialog-container",e&&"-walletlink-extension-dialog-container-hidden")},(0,s.h)("style",null,f.default),(0,s.h)("div",{class:(0,o.default)("-walletlink-extension-dialog-backdrop",t&&"-walletlink-extension-dialog-backdrop-hidden")}),(0,s.h)("div",{class:"-walletlink-extension-dialog"},(0,s.h)("div",{class:(0,o.default)("-walletlink-extension-dialog-box",t&&"-walletlink-extension-dialog-box-hidden")},(0,s.h)(b,{onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),r.connectDisabled?null:(0,s.h)(y,{darkMode:r.darkMode,version:r.version,sessionId:r.sessionId,sessionSecret:r.sessionSecret,walletLinkUrl:r.walletLinkUrl,isConnected:r.isConnected,isParentConnection:r.isParentConnection}),r.onCancel&&(0,s.h)(g,{onClick:r.onCancel}))))};const b=e=>(0,s.h)("div",{class:"-walletlink-extension-dialog-box-top"},(0,s.h)("div",{class:"-walletlink-extension-dialog-box-top-install-region"},(0,s.h)("h2",null,"Try the Coinbase Wallet extension"),(0,s.h)("button",{onClick:e.onInstallClick},"Install")),(0,s.h)("div",{class:"-walletlink-extension-dialog-box-top-info-region"},(0,s.h)(m,{icon:u.default,text:"Connect to crypto apps with one click"}),(0,s.h)(m,{icon:c.default,text:"Your private key is stored securely"}),(0,s.h)(m,{icon:i.default,text:"Works with Ethereum, Polygon, and more"}))),y=e=>{var t=window.encodeURIComponent(e.walletLinkUrl),r=e.isParentConnection?"parent-id":"id",r=`${e.walletLinkUrl}/#/link?${r}=${e.sessionId}&secret=${e.sessionSecret}&server=${t}&v=1`;return(0,s.h)("div",{class:"-walletlink-extension-dialog-box-bottom"},(0,s.h)("div",{class:"-walletlink-extension-dialog-box-bottom-description-region"},(0,s.h)("h2",null,"Or scan to connect"),(0,s.h)("body",{class:"-walletlink-extension-dialog-box-bottom-description"},"Open ",(0,s.h)("a",{href:"https://wallet.coinbase.com/"},"Coinbase Wallet")," on your mobile phone and scan")),(0,s.h)("div",{class:"-walletlink-extension-dialog-box-bottom-qr-region"},(0,s.h)("div",{class:"-walletlink-extension-dialog-box-bottom-qr-wrapper"},(0,s.h)(h.QRCode,{content:r,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:l.default,width:34,height:34}})),(0,s.h)("input",{type:"hidden",name:"walletlink-version",value:d.LIB_VERSION}),(0,s.h)("input",{type:"hidden",value:r}),!e.isConnected&&(0,s.h)("div",{class:"-walletlink-extension-dialog-box-bottom-qr-connecting"},(0,s.h)(p.Spinner,{size:36,color:"#000"}),(0,s.h)("p",null,"Connecting..."))))},m=e=>(0,s.h)("div",{class:"-walletlink-extension-dialog-box-top-description"},(0,s.h)("div",{class:"-walletlink-extension-dialog-box-top-description-icon-wrapper"},(0,s.h)("img",{src:e.icon})),(0,s.h)("body",{class:"-walletlink-extension-dialog-box-top-description-text"},e.text)),g=e=>(0,s.h)("button",{class:"-walletlink-extension-dialog-box-cancel",onClick:e.onClick},(0,s.h)("div",{class:"-walletlink-extension-dialog-box-cancel-x"}))},{"../version":347,"./QRCode":301,"./Spinner":305,"./TryExtensionLinkDialog-css":306,"./icons/QRLogo":308,"./icons/globe-icon-svg":309,"./icons/link-icon-svg":310,"./icons/lock-icon-svg":311,clsx:35,preact:75,"preact/hooks":76}],308:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="50" fill="white"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
</svg>

`},{}],309:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg=="},{}],310:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg=="},{}],311:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"},{}],312:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ClientMessagePublishEvent=r.ClientMessageSetSessionConfig=r.ClientMessageGetSessionConfig=r.ClientMessageIsLinked=r.ClientMessageHostSession=void 0,r.ClientMessageHostSession=function(e){return Object.assign({type:"HostSession"},e)},r.ClientMessageIsLinked=function(e){return Object.assign({type:"IsLinked"},e)},r.ClientMessageGetSessionConfig=function(e){return Object.assign({type:"GetSessionConfig"},e)},r.ClientMessageSetSessionConfig=function(e){return Object.assign({type:"SetSessionConfig"},e)},r.ClientMessagePublishEvent=function(e){return Object.assign({type:"PublishEvent"},e)}},{}],313:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RxWebSocket=r.ConnectionState=void 0;const n=e("rxjs"),i=e("rxjs/operators");var o;(e=o=r.ConnectionState||(r.ConnectionState={}))[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED";r.RxWebSocket=class{constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.connectionStateSubject=new n.BehaviorSubject(o.DISCONNECTED),this.incomingDataSubject=new n.Subject,this.url=e.replace(/^http/,"ws")}connect(){return this.webSocket?(0,n.throwError)(new Error("webSocket object is not null")):new n.Observable(t=>{let e;try{this.webSocket=e=new this.WebSocketClass(this.url)}catch(e){return void t.error(e)}this.connectionStateSubject.next(o.CONNECTING),e.onclose=e=>{this.clearWebSocket(),t.error(new Error(`websocket error ${e.code}: `+e.reason)),this.connectionStateSubject.next(o.DISCONNECTED)},e.onopen=e=>{t.next(),t.complete(),this.connectionStateSubject.next(o.CONNECTED)},e.onmessage=e=>{this.incomingDataSubject.next(e.data)}}).pipe((0,i.take)(1))}disconnect(){const e=this["webSocket"];if(e){this.clearWebSocket(),this.connectionStateSubject.next(o.DISCONNECTED);try{e.close()}catch(e){}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,i.flatMap)(e=>{let t;try{t=JSON.parse(e)}catch(e){return(0,n.empty)()}return(0,n.of)(t)}))}sendData(e){const t=this["webSocket"];if(!t)throw new Error("websocket is not connected");t.send(e)}clearWebSocket(){const e=this["webSocket"];e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}},{rxjs:92,"rxjs/operators":291}],314:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isServerMessageFail=void 0,r.isServerMessageFail=function(e){return e&&"Fail"===e.type&&"number"==typeof e.id&&"string"==typeof e.sessionId&&"string"==typeof e.error}},{}],315:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.WalletLinkAnalytics=void 0;r.WalletLinkAnalytics=class{sendEvent(e,t){}}},{}],316:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.WalletLinkConnection=void 0;const s=e("rxjs"),a=e("rxjs/operators"),u=e("../init"),c=e("../relay/Session"),l=e("../types"),i=e("./ClientMessage"),h=e("./RxWebSocket"),o=e("./ServerMessage");r.WalletLinkConnection=class{constructor(r,e,t,n,i=WebSocket){this.sessionId=r,this.sessionKey=e,this.subscriptions=new s.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,l.IntNumber)(1),this.connectedSubject=new s.BehaviorSubject(!1),this.linkedSubject=new s.BehaviorSubject(!1),this.sessionConfigSubject=new s.ReplaySubject(1);const o=new h.RxWebSocket(t+"/rpc",i);this.ws=o,this.walletLinkAnalytics=n,this.subscriptions.add(o.connectionState$.pipe((0,a.tap)(e=>this.walletLinkAnalytics.sendEvent(u.EVENTS.CONNECTED_STATE_CHANGE,{state:e,sessionIdHash:c.Session.hash(r)})),(0,a.skip)(1),(0,a.filter)(e=>e===h.ConnectionState.DISCONNECTED&&!this.destroyed),(0,a.delay)(5e3),(0,a.filter)(e=>!this.destroyed),(0,a.flatMap)(e=>o.connect()),(0,a.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,a.skip)(2),(0,a.switchMap)(e=>(0,s.iif)(()=>e===h.ConnectionState.CONNECTED,this.authenticate().pipe((0,a.tap)(e=>this.sendIsLinked()),(0,a.tap)(e=>this.sendGetSessionConfig()),(0,a.map)(e=>!0)),(0,s.of)(!1))),(0,a.distinctUntilChanged)(),(0,a.catchError)(e=>(0,s.of)(!1))).subscribe(e=>this.connectedSubject.next(e))),this.subscriptions.add(o.connectionState$.pipe((0,a.skip)(1),(0,a.switchMap)(e=>(0,s.iif)(()=>e===h.ConnectionState.CONNECTED,(0,s.timer)(0,1e4)))).subscribe(e=>0===e?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,a.filter)(e=>"h"===e)).subscribe(e=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,a.filter)(e=>["IsLinkedOK","Linked"].includes(e.type))).subscribe(e=>{var t=e;this.walletLinkAnalytics.sendEvent(u.EVENTS.LINKED,{sessionIdHash:c.Session.hash(r),linked:t.linked,type:e.type,onlineGuests:t.onlineGuests}),this.linkedSubject.next(t.linked||0<t.onlineGuests)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,a.filter)(e=>["GetSessionConfigOK","SessionConfigUpdated"].includes(e.type))).subscribe(e=>{this.walletLinkAnalytics.sendEvent(u.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:c.Session.hash(r),metadata_keys:e&&e.metadata?Object.keys(e.metadata):void 0}),this.sessionConfigSubject.next({webhookId:e.webhookId,webhookUrl:e.webhookUrl,metadata:e.metadata})}))}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.walletLinkAnalytics.sendEvent(u.EVENTS.STARTED_CONNECTING,{sessionIdHash:c.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){this.subscriptions.unsubscribe(),this.ws.disconnect(),this.walletLinkAnalytics.sendEvent(u.EVENTS.DISCONNECTED,{sessionIdHash:c.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,a.filter)(e=>e),(0,a.take)(1),(0,a.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,a.filter)(e=>e),(0,a.take)(1),(0,a.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,a.filter)(e=>{return"Event"===e.type&&("string"==typeof e.sessionId&&"string"==typeof e.eventId&&"string"==typeof e.event&&"string"==typeof e.data)}),(0,a.map)(e=>e))}setSessionMetadata(e,t){const r=(0,i.ClientMessageSetSessionConfig)({id:(0,l.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:t}});return this.onceConnected$.pipe((0,a.flatMap)(e=>this.makeRequest(r)),(0,a.map)(e=>{if((0,o.isServerMessageFail)(e))throw new Error(e.error||"failed to set session metadata")}))}publishEvent(e,t,r=!1){const n=(0,i.ClientMessagePublishEvent)({id:(0,l.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:t,callWebhook:r});return this.onceLinked$.pipe((0,a.flatMap)(e=>this.makeRequest(n)),(0,a.map)(e=>{if((0,o.isServerMessageFail)(e))throw new Error(e.error||"failed to publish event");return e.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(2e4<Date.now()-this.lastHeartbeatResponse)this.ws.disconnect();else try{this.ws.sendData("h")}catch(e){}}makeRequest(e,t=6e4){const r=e.id;try{this.sendData(e)}catch(e){return(0,s.throwError)(e)}return this.ws.incomingJSONData$.pipe((0,a.timeoutWith)(t,(0,s.throwError)(new Error(`request ${r} timed out`))),(0,a.filter)(e=>e.id===r),(0,a.take)(1))}authenticate(){var e=(0,i.ClientMessageHostSession)({id:(0,l.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,a.map)(e=>{if((0,o.isServerMessageFail)(e))throw new Error(e.error||"failed to authentcate")}))}sendIsLinked(){var e=(0,i.ClientMessageIsLinked)({id:(0,l.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){var e=(0,i.ClientMessageGetSessionConfig)({id:(0,l.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}},{"../init":320,"../relay/Session":331,"../types":341,"./ClientMessage":312,"./RxWebSocket":313,"./ServerMessage":314,rxjs:92,"rxjs/operators":291}],317:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.WalletLink=r.WalletLinkProvider=void 0;var n=e("./provider/WalletLinkProvider"),i=e("./WalletLink"),o=e("./provider/WalletLinkProvider"),s=(Object.defineProperty(r,"WalletLinkProvider",{enumerable:!0,get:function(){return o.WalletLinkProvider}}),e("./WalletLink"));Object.defineProperty(r,"WalletLink",{enumerable:!0,get:function(){return s.WalletLink}}),r.default=i.WalletLink,"undefined"!=typeof window&&(window.WalletLink=i.WalletLink,window.WalletLinkProvider=n.WalletLinkProvider)},{"./WalletLink":297,"./provider/WalletLinkProvider":327}],318:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.WalletLinkAnalyticsAbstract=void 0;r.WalletLinkAnalyticsAbstract=class{}},{}],319:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EVENTS=void 0,r.EVENTS={REQUEST_CHILD_ETHEREUM_ACCOUNTS_START:"walletlink_sdk.request_child_ethereum_accounts.start",REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE:"walletlink_sdk.request_child_ethereum_accounts.response",STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"}},{}],320:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(r,"__esModule",{value:!0}),i(e("./events"),r),i(e("./WalletLinkAnalyticsAbstract"),r)},{"./WalletLinkAnalyticsAbstract":318,"./events":319}],321:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ScopedLocalStorage=void 0;r.ScopedLocalStorage=class{constructor(e){this.scope=e}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){var t=this.scopedKey("");const r=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);"string"==typeof n&&n.startsWith(t)&&r.push(n)}r.forEach(e=>localStorage.removeItem(e))}scopedKey(e){return this.scope+":"+e}}},{}],322:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default='@namespace svg "http://www.w3.org/2000/svg";.-walletlink-css-reset,.-walletlink-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-walletlink-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-walletlink-css-reset [class*=container]{margin:0;padding:0}.-walletlink-css-reset style{display:none}'},{}],323:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.injectCssReset=void 0;const i=n(e("./cssReset-css"));r.injectCssReset=function(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(i.default)),document.documentElement.appendChild(e)}},{"./cssReset-css":322}],324:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.filterFromParam=r.FilterPolyfill=void 0;const s=e("../types"),a=e("../util"),u={jsonrpc:"2.0",id:0};function n(e){return{fromBlock:i(e.fromBlock),toBlock:i(e.toBlock),addresses:void 0===e.address?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}function c(e){const t={fromBlock:o(e.fromBlock),toBlock:o(e.toBlock),topics:e.topics};return null!==e.addresses&&(t.address=e.addresses),t}function i(e){if(void 0===e||"latest"===e||"pending"===e)return"latest";if("earliest"===e)return(0,s.IntNumber)(0);if((0,a.isHexString)(e))return(0,a.intNumberFromHexString)(e);throw new Error("Invalid block option: "+String(e))}function o(e){return"latest"===e?e:(0,a.hexStringFromIntNumber)(e)}function l(){return Object.assign(Object.assign({},u),{error:{code:-32e3,message:"filter not found"}})}function h(){return Object.assign(Object.assign({},u),{result:[]})}r.FilterPolyfill=class{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,s.IntNumber)(1),this.provider=e}async newFilter(e){var e=n(e),t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,e.fromBlock);return console.log(`Installing new log filter(${t}):`,e,"initial cursor position:",r),this.logFilters.set(t,e),this.setFilterTimeout(t),(0,a.hexStringFromIntNumber)(t)}async newBlockFilter(){var e=this.makeFilterId(),t=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,t),this.blockFilters.add(e),this.setFilterTimeout(e),(0,a.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){var e=this.makeFilterId(),t=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,t),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,a.hexStringFromIntNumber)(e)}uninstallFilter(e){e=(0,a.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${e})`),this.deleteFilter(e),!0}getFilterChanges(e){e=(0,a.intNumberFromHexString)(e);return this.timeouts.has(e)&&this.setFilterTimeout(e),this.logFilters.has(e)?this.getLogFilterChanges(e):this.blockFilters.has(e)?this.getBlockFilterChanges(e):this.pendingTransactionFilters.has(e)?this.getPendingTransactionFilterChanges(e):Promise.resolve(l())}async getFilterLogs(e){e=(0,a.intNumberFromHexString)(e),e=this.logFilters.get(e);return e?this.sendAsyncPromise(Object.assign(Object.assign({},u),{method:"eth_getLogs",params:[c(e)]})):l()}makeFilterId(){return(0,s.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(e,t)=>e?n(e):Array.isArray(t)||null==t?n(new Error("unexpected response received: "+JSON.stringify(t))):void r(t))})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){var t=this.logFilters.get(e),r=this.cursors.get(e);if(!r||!t)return l();var n=await this.getCurrentBlockHeight(),i="latest"===t.toBlock?n:t.toBlock;if(n<r)return h();if(r>t.toBlock)return h();console.log(`Fetching logs from ${r} to ${i} for filter `+e);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},u),{method:"eth_getLogs",params:[c(Object.assign(Object.assign({},t),{fromBlock:r,toBlock:i}))]}));return Array.isArray(o.result)&&(n=o.result.map(e=>(0,a.intNumberFromHexString)(e.blockNumber||"0x0")),(t=Math.max(...n))&&r<t&&(i=(0,s.IntNumber)(t+1),console.log(`Moving cursor position for filter (${e}) from ${r} to `+i),this.cursors.set(e,i))),o}async getBlockFilterChanges(e){var t=this.cursors.get(e);if(!t)return l();var r=await this.getCurrentBlockHeight();if(r<t)return h();console.log(`Fetching blocks from ${t} to ${r} for filter (${e})`);var r=(await Promise.all((0,a.range)(t,r+1).map(e=>this.getBlockHashByNumber((0,s.IntNumber)(e))))).filter(e=>!!e),n=(0,s.IntNumber)(t+r.length);return console.log(`Moving cursor position for filter (${e}) from ${t} to `+n),this.cursors.set(e,n),Object.assign(Object.assign({},u),{result:r})}async getPendingTransactionFilterChanges(e){return Promise.resolve(h())}async setInitialCursorPosition(e,t){var r=await this.getCurrentBlockHeight(),t="number"==typeof t&&r<t?t:r;return this.cursors.set(e,t),t}setFilterTimeout(e){var t=this.timeouts.get(e),t=(t&&window.clearTimeout(t),window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},3e5));this.timeouts.set(e,t)}async getCurrentBlockHeight(){var e=(await this.sendAsyncPromise(Object.assign(Object.assign({},u),{method:"eth_blockNumber",params:[]})))["result"];return(0,a.intNumberFromHexString)((0,a.ensureHexString)(e))}async getBlockHashByNumber(e){e=await this.sendAsyncPromise(Object.assign(Object.assign({},u),{method:"eth_getBlockByNumber",params:[(0,a.hexStringFromIntNumber)(e),!1]}));return e.result&&"string"==typeof e.result.hash?(0,a.ensureHexString)(e.result.hash):null}},r.filterFromParam=n},{"../types":341,"../util":342}],325:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.JSONRPCMethod=void 0,(r=r.JSONRPCMethod||(r.JSONRPCMethod={})).eth_accounts="eth_accounts",r.eth_coinbase="eth_coinbase",r.net_version="net_version",r.eth_chainId="eth_chainId",r.eth_uninstallFilter="eth_uninstallFilter",r.eth_requestAccounts="eth_requestAccounts",r.eth_sign="eth_sign",r.eth_ecRecover="eth_ecRecover",r.personal_sign="personal_sign",r.personal_ecRecover="personal_ecRecover",r.eth_signTransaction="eth_signTransaction",r.eth_sendRawTransaction="eth_sendRawTransaction",r.eth_sendTransaction="eth_sendTransaction",r.eth_signTypedData_v1="eth_signTypedData_v1",r.eth_signTypedData_v2="eth_signTypedData_v2",r.eth_signTypedData_v3="eth_signTypedData_v3",r.eth_signTypedData_v4="eth_signTypedData_v4",r.eth_signTypedData="eth_signTypedData",r.walletlink_arbitrary="walletlink_arbitrary",r.wallet_addEthereumChain="wallet_addEthereumChain",r.wallet_switchEthereumChain="wallet_switchEthereumChain",r.wallet_watchAsset="wallet_watchAsset",r.eth_subscribe="eth_subscribe",r.eth_unsubscribe="eth_unsubscribe",r.eth_newFilter="eth_newFilter",r.eth_newBlockFilter="eth_newBlockFilter",r.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",r.eth_getFilterChanges="eth_getFilterChanges",r.eth_getFilterLogs="eth_getFilterLogs"},{}],326:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SubscriptionManager=void 0;const n=e("eth-block-tracker"),i=e("eth-json-rpc-filters/subscriptionManager"),o=()=>{};r.SubscriptionManager=class{constructor(e){var t=new n({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:t,middleware:e}=i({blockTracker:t,provider:e});this.events=t,this.subscriptionMiddleware=e}async handleRequest(e){var t={};return await this.subscriptionMiddleware(e,t,o,o),t}destroy(){this.subscriptionMiddleware.destroy()}}},{"eth-block-tracker":37,"eth-json-rpc-filters/subscriptionManager":46}],327:[function(_,e,v){!function(g){!function(){"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},t=(Object.defineProperty(v,"__esModule",{value:!0}),v.WalletLinkProvider=void 0,e(_("@metamask/safe-event-emitter")));const r=e(_("bn.js")),o=_("eth-rpc-errors"),i=_("../connection/WalletLinkAnalytics"),n=_("../init"),s=_("../relay/Session"),a=_("../relay/WalletLinkRelayAbstract"),u=_("../util"),c=e(_("../vendor-js/eth-eip712-util")),l=_("./FilterPolyfill"),h=_("./JSONRPC"),p=_("./SubscriptionManager"),f="DefaultChainId",d="DefaultJsonRpcUrl",b="HasChainBeenSwitched",y="HasChainOverriddenFromRelay";class m extends t.default{constructor(e){super(),this._filterPolyfill=new l.FilterPolyfill(this),this._subscriptionManager=new p.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this._walletLinkAnalytics=e.walletLinkAnalytics||new i.WalletLinkAnalytics,this.isCoinbaseWallet=null==(e=e.overrideIsCoinbaseWallet)||e;const t=this.getChainId();e=(0,u.prepend0x)(t.toString(16));this.emit("connect",{chainIdStr:e});const r=this._storage.getItem(a.LOCAL_STORAGE_ADDRESSES_KEY);if(r){const n=r.split(" ");""!==n[0]&&(this._addresses=n.map(e=>(0,u.ensureAddressString)(e)),this.emit("accountsChanged",n))}this._subscriptionManager.events.on("notification",e=>{this.emit("message",{type:e.method,data:e.params})}),0<this._addresses.length&&this.initializeRelay(),window.addEventListener("message",e=>{var t;"walletLinkMessage"===e.data.type&&"defaultChainChanged"===e.data.data.action&&(t=e.data.data.chainId,e=null!=(e=e.data.data.jsonRpcUrl)?e:this.jsonRpcUrl,this.updateProviderInfo(e,Number(t),!0))})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,u.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return null!=(e=this._storage.getItem(d))?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(d,e)}get isChainOverridden(){return"true"===this._storage.getItem(y)}set isChainOverridden(e){this._storage.setItem(y,e.toString())}setProviderInfo(e,t){this.isChainOverridden||this.updateProviderInfo(e,this.getChainId(),!1)}updateProviderInfo(e,t,r){"true"===this._storage.getItem(b)&&r||(r&&(this.isChainOverridden=!0),this.jsonRpcUrl=e,r=this.getChainId(),this._storage.setItem(f,t.toString(10)),(0,u.ensureIntNumber)(t)===r&&this.hasMadeFirstChainChangedEmission||(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0))}async watchAsset(e,t,r,n,i){const o=await this.initializeRelay();return!!(await o.watchAsset(e,t,r,n,i).promise).result}async addEthereumChain(e,t,r,n,i,o){if((0,u.ensureIntNumber)(e)===this.getChainId())return!1;const s=await this.initializeRelay();i=await s.addEthereumChain(e.toString(),t,i,r,n,o).promise;return!0===(null==(r=i.result)?void 0:r.isApproved)&&(this._storage.setItem(b,"true"),this.updateProviderInfo(t[0],e,!1)),!0===(null==(n=i.result)?void 0:n.isApproved)}async switchEthereumChain(e){if((0,u.ensureIntNumber)(e)!==this.getChainId()){const r=await this.initializeRelay();var t=await r.switchEthereumChain(e.toString(10)).promise;if(t.errorCode)throw o.ethErrors.provider.custom({code:t.errorCode});t=t.result;t.isApproved&&0<t.rpcUrl.length&&(this._storage.setItem(b,"true"),this.updateProviderInfo(t.rpcUrl,e,!1))}}setAppInfo(t,r){this.initializeRelay().then(e=>e.setAppInfo(t,r))}async enable(){return this._walletLinkAnalytics.sendEvent(n.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?s.Session.hash(this._relay.session.id):null}),0<this._addresses.length?[...this._addresses]:this._send(h.JSONRPCMethod.eth_requestAccounts)}close(){this.initializeRelay().then(e=>e.resetAndReload())}send(e,t){var r,n;if("string"==typeof e)return r=e,n=Array.isArray(t)?t:void 0!==t?[t]:[],this._sendRequestAsync({jsonrpc:"2.0",id:0,method:r,params:n}).then(e=>e.result);if("function"==typeof t)return this._sendAsync(e,t);if(Array.isArray(e)){const i=e;return i.map(e=>this._sendRequest(e))}return this._sendRequest(e)}sendAsync(e,t){if("function"!=typeof t)throw new Error("callback is required");if(Array.isArray(e)){const r=t;void this._sendMultipleRequestsAsync(e).then(e=>r(null,e)).catch(e=>r(e,null))}else{const n=t;this._sendRequestAsync(e).then(e=>n(null,e)).catch(e=>n(e,null))}}async request(e){if(!e||"object"!=typeof e||Array.isArray(e))throw o.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});var{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw o.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw o.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});e=void 0===r?[]:r,r=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:t,params:e,jsonrpc:"2.0",id:r})).result}async scanQRCode(e){const t=await this.initializeRelay();e=await t.scanQRCode((0,u.ensureRegExpString)(e)).promise;if("string"!=typeof e.result)throw new Error("result was not a string");return e.result}async genericRequest(e,t){const r=await this.initializeRelay();e=await r.genericRequest(e,t).promise;if("string"!=typeof e.result)throw new Error("result was not a string");return e.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const t={jsonrpc:"2.0",id:e.id};var r=e["method"];if(t.result=this._handleSynchronousMethods(e),void 0===t.result)throw new Error(`WalletLink does not support calling ${r} synchronously without `+`a callback. Please provide a callback parameter to call ${r} `+"asynchronously.");return t}_setAddresses(e){if(!Array.isArray(e))throw new Error("addresses is not an array");const t=e.map(e=>(0,u.ensureAddressString)(e));JSON.stringify(t)!==JSON.stringify(this._addresses)&&(this._addresses=t,this.emit("accountsChanged",this._addresses),this._storage.setItem(a.LOCAL_STORAGE_ADDRESSES_KEY,t.join(" ")),window.dispatchEvent(new CustomEvent("walletlink:addresses",{detail:this._addresses})))}_sendRequestAsync(o){return new Promise((t,r)=>{try{var e=this._handleSynchronousMethods(o);if(void 0!==e)return t({jsonrpc:"2.0",id:o.id,result:e});const n=this._handleAsynchronousFilterMethods(o);if(void 0!==n)return void n.then(e=>t(Object.assign(Object.assign({},e),{id:o.id}))).catch(e=>r(e));const i=this._handleSubscriptionMethods(o);if(void 0!==i)return void i.then(e=>t({jsonrpc:"2.0",id:o.id,result:e.result})).catch(e=>r(e))}catch(e){return r(e)}this._handleAsynchronousMethods(o).then(e=>e&&t(Object.assign(Object.assign({},e),{id:o.id}))).catch(e=>r(e))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(e=>this._sendRequestAsync(e)))}_handleSynchronousMethods(e){var t=e["method"],r=e.params||[];switch(t){case h.JSONRPCMethod.eth_accounts:return this._eth_accounts();case h.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case h.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(r);case h.JSONRPCMethod.net_version:return this._net_version();case h.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){var t=e["method"],r=e.params||[];switch(t){case h.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case h.JSONRPCMethod.eth_sign:return this._eth_sign(r);case h.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(r);case h.JSONRPCMethod.personal_sign:return this._personal_sign(r);case h.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(r);case h.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(r);case h.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(r);case h.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(r);case h.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(r);case h.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case h.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(r);case h.JSONRPCMethod.eth_signTypedData_v4:case h.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(r);case h.JSONRPCMethod.walletlink_arbitrary:return this._walletlink_arbitrary(r);case h.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(r);case h.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(r);case h.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(r)}const n=await this.initializeRelay();return n.makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){var t=e["method"],r=e.params||[];switch(t){case h.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(r);case h.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case h.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case h.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(r);case h.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(r)}}_handleSubscriptionMethods(e){switch(e.method){case h.JSONRPCMethod.eth_subscribe:case h.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{var t=(0,u.ensureAddressString)(e);const r=this._addresses.map(e=>(0,u.ensureAddressString)(e));return r.includes(t)}catch(e){}return!1}_ensureKnownAddress(e){if(!this._isKnownAddress(e))throw this._walletLinkAnalytics.sendEvent(n.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){var t=e.from?(0,u.ensureAddressString)(e.from):this.selectedAddress;if(t)return this._ensureKnownAddress(t),{fromAddress:t,toAddress:e.to?(0,u.ensureAddressString)(e.to):null,weiValue:null!=e.value?(0,u.ensureBN)(e.value):new r.default(0),data:e.data?(0,u.ensureBuffer)(e.data):g.alloc(0),nonce:null!=e.nonce?(0,u.ensureIntNumber)(e.nonce):null,gasPriceInWei:null!=e.gasPrice?(0,u.ensureBN)(e.gasPrice):null,maxFeePerGas:null!=e.maxFeePerGas?(0,u.ensureBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:null!=e.maxPriorityFeePerGas?(0,u.ensureBN)(e.maxPriorityFeePerGas):null,gasLimit:null!=e.gas?(0,u.ensureBN)(e.gas):null,chainId:this.getChainId()};throw new Error("Ethereum address is unavailable")}_requireAuthorization(){if(0===this._addresses.length)throw o.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw o.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,t,r,n){this._ensureKnownAddress(t);try{const i=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await i.signEthereumMessage(e,t,r,n).promise).result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw o.ethErrors.provider.userRejectedRequest("User denied message signature");throw e}}async _ethereumAddressFromSignedMessage(e,t,r){const n=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await n.ethereumAddressFromSignedMessage(e,t,r).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,u.hexStringFromIntNumber)(this.getChainId())}getChainId(){var e=this._storage.getItem(f)||"1",e=parseInt(e,10);return(0,u.ensureIntNumber)(e)}async _eth_requestAccounts(){if(this._walletLinkAnalytics.sendEvent(n.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?s.Session.hash(this._relay.session.id):null}),0<this._addresses.length)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let e;try{const t=await this.initializeRelay();e=await t.requestEthereumAccounts().promise}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw o.ethErrors.provider.userRejectedRequest("User denied account authorization");throw e}if(e.result)return this._setAddresses(e.result),{jsonrpc:"2.0",id:0,result:this._addresses};throw new Error("accounts received is empty")}_eth_sign(e){this._requireAuthorization();var t=(0,u.ensureAddressString)(e[0]),e=(0,u.ensureBuffer)(e[1]);return this._signEthereumMessage(e,t,!1)}_eth_ecRecover(e){var t=(0,u.ensureBuffer)(e[0]),e=(0,u.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,e,!1)}_personal_sign(e){this._requireAuthorization();var t=(0,u.ensureBuffer)(e[0]),e=(0,u.ensureAddressString)(e[1]);return this._signEthereumMessage(t,e,!0)}_personal_ecRecover(e){var t=(0,u.ensureBuffer)(e[0]),e=(0,u.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(t,e,!0)}async _eth_signTransaction(e){this._requireAuthorization();e=this._prepareTransactionParams(e[0]||{});try{const t=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await t.signEthereumTransaction(e).promise).result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw o.ethErrors.provider.userRejectedRequest("User denied transaction signature");throw e}}async _eth_sendRawTransaction(e){e=(0,u.ensureBuffer)(e[0]);const t=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await t.submitEthereumTransaction(e,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();e=this._prepareTransactionParams(e[0]||{});try{const t=await this.initializeRelay();return{jsonrpc:"2.0",id:0,result:(await t.signAndSubmitEthereumTransaction(e).promise).result}}catch(e){if("string"==typeof e.message&&e.message.match(/(denied|rejected)/i))throw o.ethErrors.provider.userRejectedRequest("User denied transaction signature");throw e}}async _eth_signTypedData_v1(e){this._requireAuthorization();var t=(0,u.ensureParsedJSONObject)(e[0]),e=(0,u.ensureAddressString)(e[1]),r=(this._ensureKnownAddress(e),c.default.hashForSignTypedDataLegacy({data:t})),t=JSON.stringify(t,null,2);return this._signEthereumMessage(r,e,!1,t)}async _eth_signTypedData_v3(e){this._requireAuthorization();var t=(0,u.ensureAddressString)(e[0]),e=(0,u.ensureParsedJSONObject)(e[1]),r=(this._ensureKnownAddress(t),c.default.hashForSignTypedData_v3({data:e})),e=JSON.stringify(e,null,2);return this._signEthereumMessage(r,t,!1,e)}async _eth_signTypedData_v4(e){this._requireAuthorization();var t=(0,u.ensureAddressString)(e[0]),e=(0,u.ensureParsedJSONObject)(e[1]),r=(this._ensureKnownAddress(t),c.default.hashForSignTypedData_v4({data:e})),e=JSON.stringify(e,null,2);return this._signEthereumMessage(r,t,!1,e)}async _walletlink_arbitrary(e){var t=e[0],e=e[1];if("string"!=typeof e)throw new Error("parameter must be a string");if("object"!=typeof t||null===t)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(t,e)}}async _wallet_addEthereumChain(e){const t=e[0];if(0===(null==(e=t.rpcUrls)?void 0:e.length))return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!t.chainName||""===t.chainName.trim())throw o.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!t.nativeCurrency)throw o.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});var e=parseInt(t.chainId,16);return await this.addEthereumChain(e,null!=(e=t.rpcUrls)?e:[],null!=(e=t.blockExplorerUrls)?e:[],t.chainName,null!=(e=t.iconUrls)?e:[],t.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){e=e[0];return await this.switchEthereumChain(parseInt(e.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){e=Array.isArray(e)?e[0]:e;if(0===(null==(t=e.type)?void 0:t.length))throw o.ethErrors.rpc.invalidParams({message:"type is a required field"});if("ERC20"!==e.type)throw o.ethErrors.rpc.invalidParams({message:`Asset of type '${e.type}' not supported`});if(null==e||!e.options)throw o.ethErrors.rpc.invalidParams({message:"options is a required field"});if(!e.options.address)throw o.ethErrors.rpc.invalidParams({message:"option address is a required option"});var{address:t,symbol:r,image:n,decimals:i}=e.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(e.type,t,r,i,n)}}_eth_uninstallFilter(e){e=(0,u.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(e)}async _eth_newFilter(e){e=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(e)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){e=(0,u.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(e)}_eth_getFilterLogs(e){e=(0,u.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(e)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback(e=>this._setAddresses(e)),e.setChainCallback((e,t)=>{this.updateProviderInfo(t,parseInt(e,10),!0)}),this._relay=e))}}v.WalletLinkProvider=m}.call(this)}.call(this,_("buffer").Buffer)},{"../connection/WalletLinkAnalytics":315,"../init":320,"../relay/Session":331,"../relay/WalletLinkRelayAbstract":333,"../util":342,"../vendor-js/eth-eip712-util":344,"./FilterPolyfill":324,"./JSONRPC":325,"./SubscriptionManager":326,"@metamask/safe-event-emitter":28,"bn.js":34,buffer:4,"eth-rpc-errors":54}],328:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.WalletLinkSdkUI=void 0;const n=e("../components/LinkFlow"),i=e("../components/Snackbar"),o=e("../lib/cssReset");class s extends e("./WalletLinkUI").WalletLinkUI{constructor(e){super(e),this.attached=!1,this.snackbar=new i.Snackbar({darkMode:e.darkMode}),this.linkFlow=new n.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,walletLinkUrl:e.walletLinkUrl,connected$:e.connected$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("WalletLinkUI is already attached");const e=document.documentElement,t=document.createElement("div");t.className="-walletlink-css-reset",e.appendChild(t),this.linkFlow.attach(t),this.snackbar.attach(t),this.attached=!0,(0,o.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}r.WalletLinkSdkUI=s},{"../components/LinkFlow":300,"../components/Snackbar":303,"../lib/cssReset":323,"./WalletLinkUI":329}],329:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.WalletLinkUI=void 0;r.WalletLinkUI=class{constructor(e){}setConnectDisabled(e){}}},{}],330:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.RelayMessageType=void 0,(r=r.RelayMessageType||(r.RelayMessageType={})).SESSION_ID_REQUEST="SESSION_ID_REQUEST",r.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",r.LINKED="LINKED",r.UNLINKED="UNLINKED",r.WEB3_REQUEST="WEB3_REQUEST",r.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",r.WEB3_RESPONSE="WEB3_RESPONSE"},{}],331:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Session=void 0;const o=e("js-sha256"),n=e("rxjs"),i=e("rxjs/operators"),s=e("../util"),a="session:id",u="session:secret",c="session:linked";r.Session=class l{constructor(e,t,r,n){this._storage=e,this._id=t||(0,s.randomBytesHex)(16),this._secret=r||(0,s.randomBytesHex)(32);const i=o.sha256.create();i.update(`${this._id}, ${this._secret} WalletLink`),this._key=i.hex(),this._linked=!!n}static load(e){var t=e.getItem(a),r=e.getItem(c),n=e.getItem(u);return t&&n?new l(e,t,n,"1"===r):null}static get persistedSessionIdChange$(){return(0,n.fromEvent)(window,"storage").pipe((0,i.filter)(e=>e.key===a),(0,i.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){const t=o.sha256.create();return t.update(e).hex()}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(a,this._id),this._storage.setItem(u,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(c,this._linked?"1":"0")}}},{"../util":342,"js-sha256":59,rxjs:92,"rxjs/operators":291}],332:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;0<=a;a--)(i=e[a])&&(s=(o<3?i(s):3<o?i(t,r,s):i(t,r))||s);return 3<o&&s&&Object.defineProperty(t,r,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=(Object.defineProperty(r,"__esModule",{value:!0}),r.WalletLinkRelay=void 0,a(e("bind-decorator")));const u=e("eth-rpc-errors"),c=e("rxjs"),l=e("rxjs/operators"),h=e("../connection/WalletLinkAnalytics"),p=e("../connection/WalletLinkConnection"),f=e("../init"),d=e("../util"),b=s(e("./aes256gcm")),y=e("./Session"),m=e("./WalletLinkRelayAbstract"),g=e("./Web3Method"),_=e("./Web3RequestCanceledMessage"),v=e("./Web3RequestMessage"),w=e("./Web3Response"),S=e("./Web3ResponseMessage");class E extends m.WalletLinkRelayAbstract{constructor(e){super(),this.accountsCallback=null,this.chainCallback=null,this.appName="",this.appLogoUrl=null,this.subscriptions=new c.Subscription,this.walletLinkUrl=e.walletLinkUrl,this.storage=e.storage,this._session=y.Session.load(e.storage)||new y.Session(e.storage).save(),this.relayEventManager=e.relayEventManager,this.walletLinkAnalytics=e.walletLinkAnalytics||new h.WalletLinkAnalytics,this.connection=new p.WalletLinkConnection(this._session.id,this._session.key,this.walletLinkUrl,this.walletLinkAnalytics),this.subscriptions.add(this.connection.incomingEvent$.pipe((0,l.filter)(e=>"Web3Response"===e.event)).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(this.connection.linked$.pipe((0,l.skip)(1),(0,l.tap)(e=>{var t,r;this.isLinked=e;const n=this.storage.getItem(m.LOCAL_STORAGE_ADDRESSES_KEY);e&&(this.session.linked=e),this.isUnlinkedErrorState=!1,n&&(r=n.split(" "),t="true"===this.storage.getItem("IsStandaloneSigning"),""===r[0]||e||!this.session.linked||t||(this.isUnlinkedErrorState=!0,r=this.getSessionIdHash(),null!=(e=this.walletLinkAnalytics)&&e.sendEvent(f.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:r,origin:location.origin})))})).subscribe()),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,l.filter)(e=>!!e.metadata&&"1"===e.metadata.__destroyed)).subscribe(()=>{var e,t=this.connection.isDestroyed;return null!=(e=this.walletLinkAnalytics)&&e.sendEvent(f.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:t,sessionIdHash:this.getSessionIdHash(),origin:location.origin}),this.resetAndReload()})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,l.filter)(e=>e.metadata&&void 0!==e.metadata.WalletUsername)).pipe((0,l.mergeMap)(e=>b.decrypt(e.metadata.WalletUsername,this._session.secret))).subscribe({next:e=>{this.storage.setItem(m.WALLET_USER_NAME_KEY,e)},error:()=>{var e;null!=(e=this.walletLinkAnalytics)&&e.sendEvent(f.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,l.filter)(e=>e.metadata&&void 0!==e.metadata.AppVersion)).pipe((0,l.mergeMap)(e=>b.decrypt(e.metadata.AppVersion,this._session.secret))).subscribe({next:e=>{this.storage.setItem(m.APP_VERSION_KEY,e)},error:()=>{var e;null!=(e=this.walletLinkAnalytics)&&e.sendEvent(f.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,l.filter)(e=>e.metadata&&void 0!==e.metadata.ChainId&&void 0!==e.metadata.JsonRpcUrl)).pipe((0,l.mergeMap)(e=>(0,c.zip)(b.decrypt(e.metadata.ChainId,this._session.secret),b.decrypt(e.metadata.JsonRpcUrl,this._session.secret)))).pipe((0,l.distinctUntilChanged)()).subscribe({next:([e,t])=>{this.chainCallback&&this.chainCallback(e,t)},error:()=>{var e;null!=(e=this.walletLinkAnalytics)&&e.sendEvent(f.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(this.connection.sessionConfig$.pipe((0,l.filter)(e=>e.metadata&&void 0!==e.metadata.EthereumAddress)).pipe((0,l.mergeMap)(e=>b.decrypt(e.metadata.EthereumAddress,this._session.secret))).subscribe({next:r=>{this.accountsCallback&&this.accountsCallback([r]),0<E.accountRequestCallbackIds.size&&(Array.from(E.accountRequestCallbackIds.values()).forEach(e=>{var t=(0,S.Web3ResponseMessage)({id:e,response:(0,w.RequestEthereumAccountsResponse)([r])});this.invokeCallback(Object.assign(Object.assign({},t),{id:e}))}),E.accountRequestCallbackIds.clear())},error:()=>{var e;null!=(e=this.walletLinkAnalytics)&&e.sendEvent(f.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.ui=e.walletLinkUIConstructor({walletLinkUrl:e.walletLinkUrl,version:e.version,darkMode:e.darkMode,session:this._session,connected$:this.connection.connected$}),this.connection.connect()}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,l.timeout)(1e3),(0,l.catchError)(e=>(0,c.of)(null))).subscribe(e=>{var t;try{this.subscriptions.unsubscribe()}catch(e){null!=(r=this.walletLinkAnalytics)&&r.sendEvent(f.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}null!=(r=this.walletLinkAnalytics)&&r.sendEvent(f.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash(),origin:location.origin}),this.connection.destroy();var r=y.Session.load(this.storage);(null==r?void 0:r.id)===this._session.id?this.storage.clear():r&&null!=(t=this.walletLinkAnalytics)&&t.sendEvent(f.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:y.Session.hash(r.id),origin:location.origin}),this.ui.reloadUI()},e=>{var t;null!=(t=this.walletLinkAnalytics)&&t.sendEvent(f.EVENTS.FAILURE,{method:"relay::resetAndReload",message:"failed to reset and reload with "+e,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,t){this.appName=e,this.appLogoUrl=t}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,t){this.storage.setItem(e,t)}signEthereumMessage(e,t,r,n){return this.sendRequest({method:g.Web3Method.signEthereumMessage,params:{message:(0,d.hexStringFromBuffer)(e,!0),address:t,addPrefix:r,typedDataJson:n||null}})}ethereumAddressFromSignedMessage(e,t,r){return this.sendRequest({method:g.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,d.hexStringFromBuffer)(e,!0),signature:(0,d.hexStringFromBuffer)(t,!0),addPrefix:r}})}signEthereumTransaction(e){return this.sendRequest({method:g.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,d.bigIntStringFromBN)(e.weiValue),data:(0,d.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,d.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,d.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,d.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,d.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:g.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,d.bigIntStringFromBN)(e.weiValue),data:(0,d.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,d.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,d.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,d.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,d.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:g.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,d.hexStringFromBuffer)(e,!0),chainId:t}})}scanQRCode(e){return this.sendRequest({method:g.Web3Method.scanQRCode,params:{regExp:e}})}genericRequest(e,t){return this.sendRequest({method:g.Web3Method.generic,params:{action:t,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let n=null;const i=(0,d.randomBytesHex)(8),o=()=>{this.publishWeb3RequestCanceledEvent(i),this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:i,response:(0,w.ErrorResponse)(e.method,"User rejected request")})),null!==n&&void 0!==n&&n()};return{promise:new Promise((t,r)=>{this.ui.isStandalone()||(n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(i,e=>{if(null!==n&&void 0!==n&&n(),e.errorMessage)return r(new Error(e.errorMessage));t(e)}),this.ui.isStandalone()?this.sendRequestStandalone(i,e):this.publishWeb3RequestEvent(i,e)}),cancel:o}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}publishWeb3RequestEvent(e,t){const r=(0,v.Web3RequestMessage)({id:e,request:t}),n=y.Session.load(this.storage);null!=(e=this.walletLinkAnalytics)&&e.sendEvent(f.EVENTS.WEB3_REQUEST,{eventId:r.id,method:"relay::"+r.request.method,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:n?y.Session.hash(n.id):"",isSessionMismatched:((null===n||void 0===n?void 0:n.id)!==this._session.id).toString(),origin:location.origin}),this.subscriptions.add(this.publishEvent("Web3Request",r,!0).subscribe({next:e=>{var t;null!=(t=this.walletLinkAnalytics)&&t.sendEvent(f.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:r.id,method:"relay::"+r.request.method,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:n?y.Session.hash(n.id):"",isSessionMismatched:((null===n||void 0===n?void 0:n.id)!==this._session.id).toString(),origin:location.origin})},error:e=>{this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:r.id,response:{method:r.request.method,errorMessage:e.message}}))}}))}publishWeb3RequestCanceledEvent(e){e=(0,_.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",e,!1).subscribe())}publishEvent(t,e,r){const n=this.session.secret;return new c.Observable(t=>{b.encrypt(JSON.stringify(Object.assign(Object.assign({},e),{origin:location.origin})),n).then(e=>{t.next(e),t.complete()})}).pipe((0,l.mergeMap)(e=>this.connection.publishEvent(t,e,r)))}handleIncomingEvent(e){try{this.subscriptions.add(b.decrypt(e.data,this.session.secret).pipe((0,l.map)(e=>JSON.parse(e))).subscribe({next:e=>{e=(0,S.isWeb3ResponseMessage)(e)?e:null;e&&this.handleWeb3ResponseMessage(e)},error:()=>{var e;null!=(e=this.walletLinkAnalytics)&&e.sendEvent(f.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch(e){return}}handleWeb3ResponseMessage(t){var e,r=t["response"];if(null!=(e=this.walletLinkAnalytics)&&e.sendEvent(f.EVENTS.WEB3_RESPONSE,{eventId:t.id,method:"relay::"+r.method,sessionIdHash:this.getSessionIdHash(),origin:location.origin}),(0,w.isRequestEthereumAccountsResponse)(r))return Array.from(E.accountRequestCallbackIds.values()).forEach(e=>this.invokeCallback(Object.assign(Object.assign({},t),{id:e}))),void E.accountRequestCallbackIds.clear();this.invokeCallback(t)}invokeCallback(e){const t=this.relayEventManager.callbacks.get(e.id);t&&(t(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){let n={method:g.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},i=null;const o=(0,d.randomBytesHex)(8),s=()=>{this.publishWeb3RequestCanceledEvent(o),this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:o,response:(0,w.ErrorResponse)(n.method,"User rejected request")})),null!==i&&void 0!==i&&i()};return{promise:new Promise((t,r)=>{this.relayEventManager.callbacks.set(o,e=>{if(this.ui.hideRequestEthereumAccounts(),null!==i&&void 0!==i&&i(),e.errorMessage)return r(new Error(e.errorMessage));t(e)});var e=(null==(e=null===window||void 0===window?void 0:window.navigator)?void 0:e.userAgent)||null;e&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)?window.location.href="https://go.cb-w.com/xoXnYwQimhb?cb_url="+encodeURIComponent(window.location.href):(this.ui.inlineAccountsResponse()?this.ui.requestEthereumAccounts({onCancel:s,onAccounts:e=>{this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:o,response:(0,w.RequestEthereumAccountsResponse)(e)}))}}):this.ui.requestEthereumAccounts({onCancel:s}),E.accountRequestCallbackIds.add(o),this.ui.inlineAccountsResponse()||this.ui.isStandalone()||this.publishWeb3RequestEvent(o,n))}),cancel:s}}watchAsset(i,o,s,a,u){const c={method:g.Web3Method.watchAsset,params:{type:i,options:{address:o,symbol:s,decimals:a,image:u}}};let l=null;const h=(0,d.randomBytesHex)(8);var e=()=>{this.publishWeb3RequestCanceledEvent(h),this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:h,response:(0,w.ErrorResponse)(c.method,"User rejected request")})),null!==l&&void 0!==l&&l()},t=(this.ui.inlineWatchAsset()||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:e,onResetConnection:this.resetAndReload})),new Promise((t,r)=>{this.relayEventManager.callbacks.set(h,e=>{if(null!==l&&void 0!==l&&l(),e.errorMessage)return r(new Error(e.errorMessage));t(e)});var e=()=>{this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:h,response:(0,w.WatchAssetReponse)(!1)}))},n=()=>{this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:h,response:(0,w.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:n,onCancel:e,type:i,address:o,symbol:s,decimals:a,image:u}),this.ui.inlineWatchAsset()||this.ui.isStandalone()||this.publishWeb3RequestEvent(h,c)}));return{cancel:e,promise:t}}addEthereumChain(i,e,t,r,n,o){let s={method:g.Web3Method.addEthereumChain,params:{chainId:i,rpcUrls:e,blockExplorerUrls:r,chainName:n,iconUrls:t,nativeCurrency:o}},a=null;const u=(0,d.randomBytesHex)(8);e=()=>{this.publishWeb3RequestCanceledEvent(u),this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:u,response:(0,w.ErrorResponse)(s.method,"User rejected request")})),null!==a&&void 0!==a&&a()},this.ui.inlineAddEthereumChain(i)||(a=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:e,onResetConnection:this.resetAndReload})),r=new Promise((t,r)=>{this.relayEventManager.callbacks.set(u,e=>{if(null!==a&&void 0!==a&&a(),e.errorMessage)return r(new Error(e.errorMessage));t(e)});var e=()=>{this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:u,response:(0,w.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},n=e=>{this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:u,response:(0,w.AddEthereumChainResponse)({isApproved:!0,rpcUrl:e})}))};this.ui.inlineAddEthereumChain(i)&&this.ui.addEthereumChain({onCancel:e,onApprove:n,chainId:s.params.chainId,rpcUrls:s.params.rpcUrls,blockExplorerUrls:s.params.blockExplorerUrls,chainName:s.params.chainName,iconUrls:s.params.iconUrls,nativeCurrency:s.params.nativeCurrency}),this.ui.inlineAddEthereumChain(i)||this.ui.isStandalone()||this.publishWeb3RequestEvent(u,s)});return{promise:r,cancel:e}}switchEthereumChain(e){let n={method:g.Web3Method.switchEthereumChain,params:{chainId:e}},i=null;const o=(0,d.randomBytesHex)(8);var e=()=>{this.publishWeb3RequestCanceledEvent(o),this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:o,response:(0,w.ErrorResponse)(n.method,"User rejected request")})),null!==i&&void 0!==i&&i()},t=(this.ui.inlineSwitchEthereumChain()||(i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:e,onResetConnection:this.resetAndReload})),new Promise((t,r)=>{this.relayEventManager.callbacks.set(o,e=>(null!==i&&void 0!==i&&i(),e.errorMessage&&e.errorCode?r(u.ethErrors.provider.custom({code:e.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):e.errorMessage?r(new Error(e.errorMessage)):void t(e)));this.ui.switchEthereumChain({onCancel:e=>{e?this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:o,response:(0,w.ErrorResponse)(g.Web3Method.switchEthereumChain,"unsupported chainId",e)})):this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:o,response:(0,w.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},onApprove:e=>{this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:o,response:(0,w.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:e})}))},chainId:n.params.chainId}),this.ui.inlineSwitchEthereumChain()||this.ui.isStandalone()||this.publishWeb3RequestEvent(o,n)}));return{promise:t,cancel:e}}getSessionIdHash(){return y.Session.hash(this._session.id)}sendRequestStandalone(t,e){var r=()=>{this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:t,response:(0,w.ErrorResponse)(e.method,"User rejected request")}))},n=e=>{this.handleWeb3ResponseMessage((0,S.Web3ResponseMessage)({id:t,response:e}))};switch(e.method){case g.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:e,onSuccess:n,onCancel:r});break;case g.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:e,onSuccess:n,onCancel:r});break;case g.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:e,onSuccess:n,onCancel:r});break;case g.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:e,onSuccess:n});break;default:r()}}}E.accountRequestCallbackIds=new Set,o([a.default],E.prototype,"resetAndReload",null),o([a.default],E.prototype,"handleIncomingEvent",null),r.WalletLinkRelay=E},{"../connection/WalletLinkAnalytics":315,"../connection/WalletLinkConnection":316,"../init":320,"../util":342,"./Session":331,"./WalletLinkRelayAbstract":333,"./Web3Method":335,"./Web3RequestCanceledMessage":336,"./Web3RequestMessage":337,"./Web3Response":338,"./Web3ResponseMessage":339,"./aes256gcm":340,"bind-decorator":33,"eth-rpc-errors":54,rxjs:92,"rxjs/operators":291}],333:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.WalletLinkRelayAbstract=r.APP_VERSION_KEY=r.LOCAL_STORAGE_ADDRESSES_KEY=r.WALLET_USER_NAME_KEY=void 0;const n=e("eth-rpc-errors");r.WALLET_USER_NAME_KEY="walletUsername",r.LOCAL_STORAGE_ADDRESSES_KEY="Addresses",r.APP_VERSION_KEY="AppVersion";r.WalletLinkRelayAbstract=class{async makeEthereumJSONRPCRequest(e,t){if(t)return window.fetch(t,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{if(!e)throw n.ethErrors.rpc.parse({});var t=e["error"];if(t)throw(0,n.serializeError)(t);return e});throw new Error("Error: No jsonRpcUrl provided")}}},{"eth-rpc-errors":54}],334:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.WalletLinkRelayEventManager=void 0;const n=e("../util");r.WalletLinkRelayEventManager=class{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId;var t=(0,n.prepend0x)(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}},{"../util":342}],335:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Web3Method=void 0,(r=r.Web3Method||(r.Web3Method={})).requestEthereumAccounts="requestEthereumAccounts",r.signEthereumMessage="signEthereumMessage",r.signEthereumTransaction="signEthereumTransaction",r.submitEthereumTransaction="submitEthereumTransaction",r.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",r.scanQRCode="scanQRCode",r.generic="generic",r.childRequestEthereumAccounts="childRequestEthereumAccounts",r.addEthereumChain="addEthereumChain",r.switchEthereumChain="switchEthereumChain",r.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",r.watchAsset="watchAsset"},{}],336:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Web3RequestCanceledMessage=void 0;const n=e("./RelayMessage");r.Web3RequestCanceledMessage=function(e){return{type:n.RelayMessageType.WEB3_REQUEST_CANCELED,id:e}}},{"./RelayMessage":330}],337:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Web3RequestMessage=void 0;const n=e("./RelayMessage");r.Web3RequestMessage=function(e){return Object.assign({type:n.RelayMessageType.WEB3_REQUEST},e)}},{"./RelayMessage":330}],338:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EthereumAddressFromSignedMessageResponse=r.SubmitEthereumTransactionResponse=r.SignEthereumTransactionResponse=r.SignEthereumMessageResponse=r.isRequestEthereumAccountsResponse=r.WatchAssetReponse=r.RequestEthereumAccountsResponse=r.SwitchEthereumChainResponse=r.AddEthereumChainResponse=r.ErrorResponse=void 0;const n=e("./Web3Method");r.ErrorResponse=function(e,t,r){return{method:e,errorMessage:t,errorCode:r}},r.AddEthereumChainResponse=function(e){return{method:n.Web3Method.addEthereumChain,result:e}},r.SwitchEthereumChainResponse=function(e){return{method:n.Web3Method.switchEthereumChain,result:e}},r.RequestEthereumAccountsResponse=function(e){return{method:n.Web3Method.requestEthereumAccounts,result:e}},r.WatchAssetReponse=function(e){return{method:n.Web3Method.watchAsset,result:e}},r.isRequestEthereumAccountsResponse=function(e){return e&&e.method===n.Web3Method.requestEthereumAccounts},r.SignEthereumMessageResponse=function(e){return{method:n.Web3Method.signEthereumMessage,result:e}},r.SignEthereumTransactionResponse=function(e){return{method:n.Web3Method.signEthereumTransaction,result:e}},r.SubmitEthereumTransactionResponse=function(e){return{method:n.Web3Method.submitEthereumTransaction,result:e}},r.EthereumAddressFromSignedMessageResponse=function(e){return{method:n.Web3Method.ethereumAddressFromSignedMessage,result:e}}},{"./Web3Method":335}],339:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isWeb3ResponseMessage=r.Web3ResponseMessage=void 0;const n=e("./RelayMessage");r.Web3ResponseMessage=function(e){return Object.assign({type:n.RelayMessageType.WEB3_RESPONSE},e)},r.isWeb3ResponseMessage=function(e){return e&&e.type===n.RelayMessageType.WEB3_RESPONSE}},{"./RelayMessage":330}],340:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decrypt=r.encrypt=void 0;const n=e("rxjs"),l=e("../util");r.encrypt=async function(e,t){if(64!==t.length)throw Error("secret must be 256 bits");var r=crypto.getRandomValues(new Uint8Array(12)),t=await crypto.subtle.importKey("raw",(0,l.hexStringToUint8Array)(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]);const n=new TextEncoder,i=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,n.encode(e));return t=i.slice(i.byteLength-16),e=i.slice(0,i.byteLength-16),t=new Uint8Array(t),e=new Uint8Array(e),r=new Uint8Array([...r,...t,...e]),(0,l.uint8ArrayToHex)(r)},r.decrypt=function(u,c){if(64!==c.length)throw Error("secret must be 256 bits");return new n.Observable(a=>{!async function(){var e=await crypto.subtle.importKey("raw",(0,l.hexStringToUint8Array)(c),{name:"aes-gcm"},!1,["encrypt","decrypt"]);const t=(0,l.hexStringToUint8Array)(u);var r=t.slice(0,12),n=t.slice(12,28),i=t.slice(28),i=new Uint8Array([...i,...n]),n={name:"AES-GCM",iv:new Uint8Array(r)};try{var o=await window.crypto.subtle.decrypt(n,e,i);const s=new TextDecoder;a.next(s.decode(o)),a.complete()}catch(e){a.error(e)}}()})}},{"../util":342,rxjs:92}],341:[function(e,t,r){"use strict";function n(){return e=>e}Object.defineProperty(r,"__esModule",{value:!0}),r.RegExpString=r.IntNumber=r.BigIntString=r.AddressString=r.HexString=r.OpaqueType=void 0,r.OpaqueType=n,r.HexString=n(),r.AddressString=n(),r.BigIntString=n(),r.IntNumber=function(e){return Math.floor(e)},r.RegExpString=n()},{}],342:[function(b,e,y){!function(d){!function(){"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(y,"__esModule",{value:!0}),y.getFavicon=y.range=y.isBigNumber=y.ensureParsedJSONObject=y.ensureBN=y.ensureRegExpString=y.ensureIntNumber=y.ensureBuffer=y.ensureAddressString=y.ensureEvenLengthHexString=y.ensureHexString=y.isHexString=y.prepend0x=y.strip0x=y.has0xPrefix=y.hexStringFromIntNumber=y.intNumberFromHexString=y.bigIntStringFromBN=y.hexStringFromBuffer=y.hexStringToUint8Array=y.uint8ArrayToHex=y.randomBytesHex=void 0;const t=e(b("bn.js")),n=b("./types"),r=/^[0-9]*$/,i=/^[a-f0-9]*$/;function o(e){return[...e].map(e=>e.toString(16).padStart(2,"0")).join("")}function s(e){return e.startsWith("0x")||e.startsWith("0X")}function a(e){return s(e)?e.slice(2):e}function u(e){return s(e)?"0x"+e.slice(2):"0x"+e}function c(e){if("string"!=typeof e)return!1;e=a(e).toLowerCase();return i.test(e)}function l(e,t=!1){if("string"==typeof e){var r=a(e).toLowerCase();if(i.test(r))return(0,n.HexString)(t?"0x"+r:r)}throw new Error(`"${String(e)}" is not a hexadecimal string`)}function h(e,t=!1){let r=l(e,!1);return r.length%2==1&&(r=(0,n.HexString)("0"+r)),t?(0,n.HexString)("0x"+r):r}function p(e){if("number"==typeof e&&Number.isInteger(e))return(0,n.IntNumber)(e);if("string"==typeof e){if(r.test(e))return(0,n.IntNumber)(Number(e));if(c(e))return(0,n.IntNumber)(new t.default(h(e,!1),16).toNumber())}throw new Error("Not an integer: "+String(e))}function f(e){if(null==e||"function"!=typeof e.constructor)return!1;e=e.constructor;return"function"==typeof e.config&&"number"==typeof e.EUCLID}y.randomBytesHex=function(e){return o(crypto.getRandomValues(new Uint8Array(e)))},y.uint8ArrayToHex=o,y.hexStringToUint8Array=function(e){return new Uint8Array(e.match(/.{1,2}/g).map(e=>parseInt(e,16)))},y.hexStringFromBuffer=function(e,t=!1){return e=e.toString("hex"),(0,n.HexString)(t?"0x"+e:e)},y.bigIntStringFromBN=function(e){return(0,n.BigIntString)(e.toString(10))},y.intNumberFromHexString=function(e){return(0,n.IntNumber)(new t.default(h(e,!1),16).toNumber())},y.hexStringFromIntNumber=function(e){return(0,n.HexString)("0x"+new t.default(e).toString(16))},y.has0xPrefix=s,y.strip0x=a,y.prepend0x=u,y.isHexString=c,y.ensureHexString=l,y.ensureEvenLengthHexString=h,y.ensureAddressString=function(e){if("string"==typeof e){var t=a(e).toLowerCase();if(c(t)&&40===t.length)return(0,n.AddressString)(u(t))}throw new Error("Invalid Ethereum address: "+String(e))},y.ensureBuffer=function(e){if(d.isBuffer(e))return e;var t;if("string"==typeof e)return c(e)?(t=h(e,!1),d.from(t,"hex")):d.from(e,"utf8");throw new Error("Not binary data: "+String(e))},y.ensureIntNumber=p,y.ensureRegExpString=function(e){if(e instanceof RegExp)return(0,n.RegExpString)(e.toString());throw new Error("Not a RegExp: "+String(e))},y.ensureBN=function(e){if(null!==e&&(t.default.isBN(e)||f(e)))return new t.default(e.toString(10),10);if("number"==typeof e)return new t.default(p(e));if("string"==typeof e){if(r.test(e))return new t.default(e,10);if(c(e))return new t.default(h(e,!1),16)}throw new Error("Not an integer: "+String(e))},y.ensureParsedJSONObject=function(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw new Error("Not a JSON string or an object: "+String(e))},y.isBigNumber=f,y.range=function(r,e){return Array.from({length:e-r},(e,t)=>r+t)},y.getFavicon=function(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]');var{protocol:t,host:r}=document.location;const n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:t+"//"+r+n}}.call(this)}.call(this,b("buffer").Buffer)},{"./types":341,"bn.js":34,buffer:4}],343:[function(e,t,r){!function(b){!function(){const u=e("./util"),a=e("bn.js");function c(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function l(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function h(e){e=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(e[1],10),parseInt(e[2],10)]}function p(e){e=e.match(/(.*)\[(.*?)\]$/);return e?""===e[2]?"dynamic":parseInt(e[2],10):null}function f(e){var t=typeof e;if("string"==t)return u.isHexString(e)?new a(u.stripHexPrefix(e),16):new a(e,10);if("number"==t)return new a(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function d(e,t){var r,n,i,o,s;if("address"===e)return d("uint160",f(t));if("bool"===e)return d("uint8",t?1:0);if("string"===e)return d("bytes",new b(t,"utf8"));if((s=e).lastIndexOf("]")===s.length-1){if(void 0===t.length)throw new Error("Not an array?");if("dynamic"!==(r=p(e))&&0!==r&&t.length>r)throw new Error("Elements exceed array size: "+r);for(o in i=[],e=e.slice(0,e.lastIndexOf("[")),t="string"==typeof t?JSON.parse(t):t)i.push(d(e,t[o]));return"dynamic"===r&&(s=d("uint256",t.length),i.unshift(s)),b.concat(i)}if("bytes"===e)return t=new b(t),i=b.concat([d("uint256",t.length),t]),i=t.length%32!=0?b.concat([i,u.zeros(32-t.length%32)]):i;if(e.startsWith("bytes")){if((r=l(e))<1||32<r)throw new Error("Invalid bytes<N> width: "+r);return u.setLengthRight(t,32)}if(e.startsWith("uint")){if((r=l(e))%8||r<8||256<r)throw new Error("Invalid uint<N> width: "+r);if((n=f(t)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(b,"be",32)}if(e.startsWith("int")){if((r=l(e))%8||r<8||256<r)throw new Error("Invalid int<N> width: "+r);if((n=f(t)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(b,"be",32)}if(e.startsWith("ufixed")){if(r=h(e),(n=f(t))<0)throw new Error("Supplied ufixed is negative");return d("uint256",n.mul(new a(2).pow(new a(r[1]))))}if(e.startsWith("fixed"))return r=h(e),d("int256",f(t).mul(new a(2).pow(new a(r[1]))));throw new Error("Unsupported or invalid type: "+e)}function r(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],o=0;o<e.length;o++){var s=c(e[o]),a=t[o];if("bytes"===s)i.push(a);else if("string"===s)i.push(new b(a,"utf8"));else if("bool"===s)i.push(new b(a?"01":"00","hex"));else if("address"===s)i.push(u.setLength(a,20));else if(s.startsWith("bytes")){if((r=l(s))<1||32<r)throw new Error("Invalid bytes<N> width: "+r);i.push(u.setLengthRight(a,r))}else if(s.startsWith("uint")){if((r=l(s))%8||r<8||256<r)throw new Error("Invalid uint<N> width: "+r);if((n=f(a)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(b,"be",r/8))}else{if(!s.startsWith("int"))throw new Error("Unsupported or invalid type: "+s);if((r=l(s))%8||r<8||256<r)throw new Error("Invalid int<N> width: "+r);if((n=f(a)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(b,"be",r/8))}}return b.concat(i)}t.exports={rawEncode:function(e,t){var r,n=[],i=[],o=32*e.length;for(r in e){var s=c(e[r]),a=t[r],a=d(s,a);"string"===(s=s)||"bytes"===s||"dynamic"===p(s)?(n.push(d("uint256",o)),i.push(a),o+=a.length):n.push(a)}return b.concat(n.concat(i))},solidityPack:r,soliditySHA3:function(e,t){return u.keccak(r(e,t))}}}.call(this)}.call(this,e("buffer").Buffer)},{"./util":345,"bn.js":34,buffer:4}],344:[function(e,r,t){!function(f){!function(){const h=e("./util"),p=e("./abi"),n={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},t={encodeData(e,t,o,s=!0){const r=["bytes32"],n=[this.hashType(e,o)];if(s){const u=(t,e,r)=>{if(void 0!==o[e])return["bytes32",null==r?"0x0000000000000000000000000000000000000000000000000000000000000000":h.keccak(this.encodeData(e,r,o,s))];if(void 0===r)throw new Error(`missing value for field ${t} of type `+e);if("bytes"===e)return["bytes32",h.keccak(r)];if("string"===e)return"string"==typeof r&&(r=f.from(r,"utf8")),["bytes32",h.keccak(r)];if(e.lastIndexOf("]")!==e.length-1)return[e,r];{const n=e.slice(0,e.lastIndexOf("[")),i=r.map(e=>u(t,n,e));return["bytes32",h.keccak(p.rawEncode(i.map(([e])=>e),i.map(([,e])=>e)))]}};for(const c of o[e]){var[i,a]=u(c.name,c.type,t[c.name]);r.push(i),n.push(a)}}else for(const l of o[e]){let e=t[l.name];if(void 0!==e)if("bytes"===l.type)r.push("bytes32"),e=h.keccak(e),n.push(e);else if("string"===l.type)r.push("bytes32"),"string"==typeof e&&(e=f.from(e,"utf8")),e=h.keccak(e),n.push(e);else if(void 0!==o[l.type])r.push("bytes32"),e=h.keccak(this.encodeData(l.type,e,o,s)),n.push(e);else{if(l.type.lastIndexOf("]")===l.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");r.push(l.type),n.push(e)}}return p.rawEncode(r,n)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(e=>e!==t);for(const i of n=[t].concat(n.sort())){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:e,type:t})=>t+" "+e).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||void 0===t[e])return r;r.push(e);for(const n of t[e])for(const i of this.findTypeDependencies(n.type,t,r))r.includes(i)||r.push(i);return r},hashStruct(e,t,r,n=!0){return h.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return h.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in n.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){e=this.sanitizeData(e);const r=[f.from("1901","hex")];return r.push(this.hashStruct("EIP712Domain",e.domain,e.types,t)),"EIP712Domain"!==e.primaryType&&r.push(this.hashStruct(e.primaryType,e.message,e.types,t)),h.keccak(f.concat(r))}};r.exports={TYPED_MESSAGE_SCHEMA:n,TypedDataUtils:t,hashForSignTypedDataLegacy:function(e){{e=e.data;const i=new Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw i;var t=e.map(function(e){return"bytes"===e.type?h.toBuffer(e.value):e.value}),r=e.map(function(e){return e.type}),n=e.map(function(e){if(e.name)return e.type+" "+e.name;throw i});return p.soliditySHA3(["bytes32","bytes32"],[p.soliditySHA3(new Array(e.length).fill("string"),n),p.soliditySHA3(r,t)])}},hashForSignTypedData_v3:function(e){return t.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return t.hash(e.data)}}}.call(this)}.call(this,e("buffer").Buffer)},{"./abi":343,"./util":345,buffer:4}],345:[function(e,t,r){!function(c){!function(){const r=e("keccak/js"),n=e("bn.js");function i(e){return c.allocUnsafe(e).fill(0)}function o(e,t,r){var n=i(t);return e=s(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function s(e){if(!c.isBuffer(e))if(Array.isArray(e))e=c.from(e);else if("string"==typeof e)e=a(e)?c.from((t=u(e)).length%2?"0"+t:t,"hex"):c.from(e);else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=c.allocUnsafe(0);else if(n.isBN(e))e=e.toArrayLike(c);else{if(!e.toArray)throw new Error("invalid type");e=c.from(e.toArray())}var t;return e}function a(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function u(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}t.exports={zeros:i,setLength:o,setLengthRight:function(e,t){return o(e,t,!0)},isHexString:a,stripHexPrefix:u,toBuffer:s,bufferToHex:function(e){return"0x"+(e=s(e)).toString("hex")},keccak:function(e,t){return e=s(e),t=t||256,r("keccak"+t).update(e).digest()}}}.call(this)}.call(this,e("buffer").Buffer)},{"bn.js":34,buffer:4,"keccak/js":68}],346:[function(e,t,r){function n(e){this.mode=o.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var n=[],i=this.data.charCodeAt(t);65536<i?(n[0]=240|(1835008&i)>>>18,n[1]=128|(258048&i)>>>12,n[2]=128|(4032&i)>>>6,n[3]=128|63&i):2048<i?(n[0]=224|(61440&i)>>>12,n[1]=128|(4032&i)>>>6,n[2]=128|63&i):128<i?(n[0]=192|(1984&i)>>>6,n[1]=128|63&i):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function u(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}n.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}},u.prototype={addData:function(e){e=new n(e);this.dataList.push(e),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this.typeNumber&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=u.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+r][t+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=g.getLostPoint(this);(0==r||n<e)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r);this.make();for(var i=0;i<this.modules.length;i++)for(var o=+i,s=0;s<this.modules[i].length;s++){var a=+s;this.modules[i][s]&&(n.beginFill(0,100),n.moveTo(a,o),n.lineTo(1+a,o),n.lineTo(1+a,1+o),n.lineTo(a,1+o),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=g.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(null==this.modules[n][i])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[n+o][i+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},setupTypeNumber:function(e){for(var t=g.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++){n=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var t=this.errorCorrectLevel<<3|t,r=g.getBCHTypeInfo(t),n=0;n<15;n++){var i=!e&&1==(r>>n&1);n<6?this.modules[n][8]=i:n<8?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(n=0;n<15;n++){i=!e&&1==(r>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=i:n<9?this.modules[8][15-n-1+1]=i:this.modules[8][15-n-1]=i}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;0<s;s-=2)for(6==s&&s--;;){for(var a,u,c=0;c<2;c++)null==this.modules[n][s-c]&&(a=!1,o<e.length&&(a=1==(e[o]>>>i&1)),u=g.getMask(t,n,s-c),this.modules[n][s-c]=a=u?!a:a,-1==--i&&(o++,i=7));if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}},u.PAD0=236,u.PAD1=17,u.createData=function(e,t,r){for(var n=S.getRSBlocks(e,t),i=new E,o=0;o<r.length;o++){var s=r[o];i.put(s.mode,4),i.put(s.getLength(),g.getLengthInBits(s.mode,e)),s.write(i)}for(var a=0,o=0;o<n.length;o++)a+=n[o].dataCount;if(i.getLengthInBits()>8*a)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*a+")");for(i.getLengthInBits()+4<=8*a&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;;){if(i.getLengthInBits()>=8*a)break;if(i.put(u.PAD0,8),i.getLengthInBits()>=8*a)break;i.put(u.PAD1,8)}return u.createBytes(i,n)},u.createBytes=function(e,t){for(var r=0,n=0,i=0,o=new Array(t.length),s=new Array(t.length),a=0;a<t.length;a++){var u=t[a].dataCount,c=t[a].totalCount-u,n=Math.max(n,u),i=Math.max(i,c);o[a]=new Array(u);for(var l=0;l<o[a].length;l++)o[a][l]=255&e.buffer[l+r];r+=u;var u=g.getErrorCorrectPolynomial(c),h=new w(o[a],u.getLength()-1).mod(u);s[a]=new Array(u.getLength()-1);for(l=0;l<s[a].length;l++){var p=l+h.getLength()-s[a].length;s[a][l]=0<=p?h.get(p):0}}for(var f=0,l=0;l<t.length;l++)f+=t[l].totalCount;for(var d=new Array(f),b=0,l=0;l<n;l++)for(a=0;a<t.length;a++)l<o[a].length&&(d[b++]=o[a][l]);for(l=0;l<i;l++)for(a=0;a<t.length;a++)l<s[a].length&&(d[b++]=s[a][l]);return d};for(var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},s=1,a=0,c=3,l=2,i=0,h=1,p=2,f=3,d=4,b=5,y=6,m=7,g={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;0<=g.getBCHDigit(t)-g.getBCHDigit(g.G15);)t^=g.G15<<g.getBCHDigit(t)-g.getBCHDigit(g.G15);return(e<<10|t)^g.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;0<=g.getBCHDigit(t)-g.getBCHDigit(g.G18);)t^=g.G18<<g.getBCHDigit(t)-g.getBCHDigit(g.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return g.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case i:return(t+r)%2==0;case h:return t%2==0;case p:return r%3==0;case f:return(t+r)%3==0;case d:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case b:return t*r%2+t*r%3==0;case y:return(t*r%2+t*r%3)%2==0;case m:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new w([1],0),r=0;r<e;r++)t=t.multiply(new w([1,_.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:case o.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var o=0,s=e.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||t<=n+a))for(var u=-1;u<=1;u++)i+u<0||t<=i+u||0==a&&0==u||s==e.isDark(n+a,i+u)&&o++;5<o&&(r+=3+o-5)}for(n=0;n<t-1;n++)for(i=0;i<t-1;i++){var c=0;e.isDark(n,i)&&c++,e.isDark(n+1,i)&&c++,e.isDark(n,i+1)&&c++,e.isDark(n+1,i+1)&&c++,0!=c&&4!=c||(r+=3)}for(n=0;n<t;n++)for(i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(i=0;i<t;i++)for(n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);for(var l=0,i=0;i<t;i++)for(n=0;n<t;n++)e.isDark(n,i)&&l++;return r+=10*(Math.abs(100*l/t/t-50)/5)}},_={glog:function(e){if(e<1)throw new Error("glog("+e+")");return _.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;256<=e;)e-=255;return _.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},v=0;v<8;v++)_.EXP_TABLE[v]=1<<v;for(v=8;v<256;v++)_.EXP_TABLE[v]=_.EXP_TABLE[v-4]^_.EXP_TABLE[v-5]^_.EXP_TABLE[v-6]^_.EXP_TABLE[v-8];for(v=0;v<255;v++)_.LOG_TABLE[_.EXP_TABLE[v]]=v;function w(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&0==e[r];)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}function S(e,t){this.totalCount=e,this.dataCount=t}function E(){this.buffer=[],this.length=0}w.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=_.gexp(_.glog(this.get(r))+_.glog(e.get(n)));return new w(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=_.glog(this.get(0))-_.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(n=0;n<e.getLength();n++)r[n]^=_.gexp(_.glog(e.get(n))+t);return new w(r,0).mod(e)}},S.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],S.getRSBlocks=function(e,t){var r=S.getRsBlockTable(e,t);if(null==r)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,i=[],o=0;o<n;o++)for(var s=r[3*o+0],a=r[3*o+1],u=r[3*o+2],c=0;c<s;c++)i.push(new S(a,u));return i},S.getRsBlockTable=function(e,t){switch(t){case s:return S.RS_BLOCK_TABLE[4*(e-1)+0];case a:return S.RS_BLOCK_TABLE[4*(e-1)+1];case c:return S.RS_BLOCK_TABLE[4*(e-1)+2];case l:return S.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},E.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var k=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function x(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},e="string"==typeof e?{content:e}:e)for(var t in e)this.options[t]=e[t];if("string"!=typeof this.options.content)throw new Error("Expected 'content' as string!");if(0===this.options.content.length)throw new Error("Expected 'content' to be non-empty!");if(!(0<=this.options.padding))throw new Error("Expected 'padding' value to be non-negative!");if(!(0<this.options.width&&0<this.options.height))throw new Error("Expected 'width' or 'height' value to be higher than zero!");var r=this.options.content,n=function(e,t){e=e;for(var r,n=(r=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a")).length+(r.length!=e?3:0),i=1,o=0,s=0,a=k.length;s<=a;s++){var u=k[s];if(!u)throw new Error("Content too long: expected "+o+" but got "+n);switch(t){case"L":o=u[0];break;case"M":o=u[1];break;case"Q":o=u[2];break;case"H":o=u[3];break;default:throw new Error("Unknwon error correction level: "+t)}if(n<=o)break;i++}if(k.length<i)throw new Error("Content too long");return i}(r,this.options.ecl),i=function(e){switch(e){case"L":return s;case"M":return a;case"Q":return c;case"H":return l;default:throw new Error("Unknwon error correction level: "+e)}}(this.options.ecl);this.qrcode=new u(n,i),this.qrcode.addData(r),this.qrcode.make()}x.prototype.svg=function(e){for(var t,r=this.options||{},n=this.qrcode.modules,i=(void 0===e&&(e={container:r.container||"svg"}),void 0===r.pretty||!!r.pretty),o=i?"  ":"",s=i?"\r\n":"",a=r.width,u=r.height,c=n.length,l=a/(c+2*r.padding),h=u/(c+2*r.padding),p=void 0!==r.join&&!!r.join,f=void 0!==r.swap&&!!r.swap,d=void 0===r.xmlDeclaration||!!r.xmlDeclaration,b=void 0!==r.predefined&&!!r.predefined,y=b?o+'<defs><path id="qrmodule" d="M0 0 h'+h+" v"+l+' H0 z" style="fill:'+r.color+';shape-rendering:crispEdges;" /></defs>'+s:"",m=o+'<rect x="0" y="0" width="'+a+'" height="'+u+'" style="fill:'+r.background+';shape-rendering:crispEdges;"/>'+s,g="",_="",v=0;v<c;v++)for(var w,S,E,k,x=0;x<c;x++)n[x][v]&&(w=x*l+r.padding*l,S=v*h+r.padding*h,f&&(E=w,w=S,S=E),p?(E=l+w,k=h+S,w=Number.isInteger(w)?Number(w):w.toFixed(2),S=Number.isInteger(S)?Number(S):S.toFixed(2),E=Number.isInteger(E)?Number(E):E.toFixed(2),_+="M"+w+","+S+" V"+(k=Number.isInteger(k)?Number(k):k.toFixed(2))+" H"+E+" V"+S+" H"+w+" Z "):g+=b?o+'<use x="'+w.toString()+'" y="'+S.toString()+'" href="#qrmodule" />'+s:o+'<rect x="'+w.toString()+'" y="'+S.toString()+'" width="'+l+'" height="'+h+'" style="fill:'+r.color+';shape-rendering:crispEdges;"/>'+s);p&&(g=o+'<path x="0" y="0" style="fill:'+r.color+';shape-rendering:crispEdges;" d="'+_+'" />');let M="";void 0!==this.options.image&&this.options.image.svg&&(i=a*this.options.image.width/100,t=u*this.options.image.height/100,M=(M+=`<svg x="${a/2-i/2}" y="${u/2-t/2}" width="${i}" height="${t}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`)+this.options.image.svg+s+"</svg>");var O="";switch(e.container){case"svg":d&&(O+='<?xml version="1.0" standalone="yes"?>'+s),O=(O=O+('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+a+'" height="'+u+'">'+s)+(y+m+g))+M+"</svg>";break;case"svg-viewbox":d&&(O+='<?xml version="1.0" standalone="yes"?>'+s),O=(O=O+('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+a+" "+u+'">'+s)+(y+m+g))+M+"</svg>";break;case"g":O=(O=O+('<g width="'+a+'" height="'+u+'">'+s)+(y+m+g))+M+"</g>";break;default:O+=(y+m+g+M).replace(/^\s+/,"")}return O},t.exports=x},{}],347:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LIB_VERSION=void 0,r.LIB_VERSION="2.5.0"},{}],348:[function(e,t,r){t.exports={name:"walletlink",version:"2.5.0",description:"WalletLink JavaScript SDK",keywords:["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],main:"dist/index.js",types:"dist/index.d.ts",repository:"https://github.com/walletlink/walletlink.git",author:"Coinbase, Inc.",license:"Apache-2.0",scripts:{tsc:"tsc --noEmit --pretty",test:"yarn build-npm && karma start",prebuild:"node -p \"'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'\" > src/version.ts",build:"node compile-assets.js && webpack --config webpack.config.js","build-chrome":"webpack --config webpack.config.chrome.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export WALLETLINK_URL='http://localhost:3000'; yarn build && yarn build-chrome","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --watch chrome/ --exec 'yarn build:dev'","build:prod":"yarn prebuild && yarn build && yarn build-chrome && yarn build-npm && cp ./package.json ./README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  \"private\": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak",lint:"eslint ./src --ext .ts,.tsx","lint:watch":"nodemon -e ts,tsx,js,json,css,scss,svg --watch src/ --exec 'yarn tsc && yarn lint'"},dependencies:{"@metamask/safe-event-emitter":"2.0.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","js-sha256":"0.9.0","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",rxjs:"^6.6.3","stream-browserify":"^3.0.0"},devDependencies:{"@types/bn.js":"^4.11.6","@types/node":"^14.14.20","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.32.0",svgo:"^2.8.0","ts-jest":"^26.4.4","ts-loader":"^8.0.13",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.49.0","webpack-cli":"^3.3.12","whatwg-fetch":"^3.5.0"},engines:{node:">= 10.0.0"},jest:{transform:{"^.+\\.tsx?$":"ts-jest"},testEnvironment:"node",testPathIgnorePatterns:["<rootDir>/dist/","<rootDir>/node_modules/"],testRegex:"(/__tests__/.*|\\.(test|spec))\\.(ts|tsx|js)$",moduleFileExtensions:["ts","js","json"]}}},{}],349:[function(e,t,r){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r,n=arguments[t];for(r in n)i.call(n,r)&&(e[r]=n[r])}return e};var i=Object.prototype.hasOwnProperty},{}]},{},[27]);